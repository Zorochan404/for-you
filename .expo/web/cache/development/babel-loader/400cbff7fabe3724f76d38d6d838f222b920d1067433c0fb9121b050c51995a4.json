{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/zoro/Projects/for-you/screens/ChatScreen.js\",\n  _this = this;\nimport React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Feather } from \"@expo/vector-icons\";\nimport socket from \"../utils/socket\";\nimport { styles } from \"../utils/styles\";\nimport Modal from \"../components/Modal\";\nimport ChatComponent from \"../components/ChatComponent\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport GlobalStyles from \"../GlobalStyles\";\nimport Constants from \"expo-constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Chat = function Chat() {\n  var _Constants$expoConfig;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    rooms = _useState4[0],\n    setRooms = _useState4[1];\n  var expoConfig = Constants.expoConfig;\n  var uri = Constants != null && (_Constants$expoConfig = Constants.expoConfig) != null && _Constants$expoConfig.hostUri ? Constants.expoConfig.hostUri.split(`:`).shift().concat(`:4000`) : `http://localhost/4000`;\n  useEffect(function () {\n    function fetchGroups() {\n      fetch(`${uri}/api`).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return setRooms(data);\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n    fetchGroups();\n  }, []);\n  useEffect(function () {\n    socket.on(\"roomsList\", function (rooms) {\n      setRooms(rooms);\n    });\n  }, [socket]);\n  var handleCreateGroup = function handleCreateGroup() {\n    return setVisible(true);\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: GlobalStyles.droidSafeArea,\n    children: [_jsxDEV(View, {\n      style: styles.chattopContainer,\n      children: _jsxDEV(View, {\n        style: styles.chatheader,\n        children: [_jsxDEV(Text, {\n          style: styles.chatheading,\n          children: \"Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, _this), _jsxDEV(Pressable, {\n          onPress: handleCreateGroup,\n          children: _jsxDEV(Feather, {\n            name: \"edit\",\n            size: 24,\n            color: \"green\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, _this), _jsxDEV(View, {\n      style: styles.chatlistContainer,\n      children: rooms.length > 0 ? _jsxDEV(FlatList, {\n        data: rooms,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsxDEV(ChatComponent, {\n            item: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, _this);\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, _this) : _jsxDEV(View, {\n        style: styles.chatemptyContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.chatemptyText,\n          children: \"No rooms created!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }, _this), _jsxDEV(Text, {\n          children: \"Click the icon above to create a Chat room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, _this), visible ? _jsxDEV(Modal, {\n      setVisible: setVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }, _this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, _this);\n};\nexport default Chat;","map":{"version":3,"names":["React","useState","useLayoutEffect","useEffect","View","Text","Pressable","FlatList","Feather","socket","styles","Modal","ChatComponent","SafeAreaView","GlobalStyles","Constants","jsxDEV","_jsxDEV","Chat","_Constants$expoConfig","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","rooms","setRooms","expoConfig","uri","hostUri","split","shift","concat","fetchGroups","fetch","then","res","json","data","catch","err","console","error","on","handleCreateGroup","style","droidSafeArea","children","chattopContainer","chatheader","chatheading","fileName","_jsxFileName","lineNumber","columnNumber","_this","onPress","name","size","color","chatlistContainer","length","renderItem","_ref","item","keyExtractor","id","chatemptyContainer","chatemptyText"],"sources":["/home/zoro/Projects/for-you/screens/ChatScreen.js"],"sourcesContent":["import React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport { View, Text, Pressable, FlatList } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport socket from \"../utils/socket\";\nimport { styles } from \"../utils/styles\";\nimport Modal from \"../components/Modal\";\nimport ChatComponent from \"../components/ChatComponent\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport GlobalStyles from \"../GlobalStyles\";\nimport Constants from \"expo-constants\";\n\n\n\nconst Chat = () => {\n\tconst [visible, setVisible] = useState(false);\n\tconst [rooms, setRooms] = useState([]);\n    const { expoConfig } = Constants;\n\n\n    const uri = Constants?.expoConfig?.hostUri\n  ? Constants.expoConfig.hostUri.split(`:`).shift().concat(`:4000`)\n  : `http://localhost/4000`;\n\n\n\n\tuseEffect(() => {\n\t\tfunction fetchGroups() {\n\t\t\tfetch(`${uri}/api`)\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.then((data) => setRooms(data))\n\t\t\t\t.catch((err) => console.error(err));\n\t\t}\n\t\tfetchGroups();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsocket.on(\"roomsList\", (rooms) => {\n\t\t\tsetRooms(rooms);\n\t\t});\n\t}, [socket]);\n\n\tconst handleCreateGroup = () => setVisible(true);\n\n\treturn (\n        <SafeAreaView style={GlobalStyles.droidSafeArea}>\t\t\t\n        <View style={styles.chattopContainer}>\n\t\t\t\t<View style={styles.chatheader}>\n\t\t\t\t\t<Text style={styles.chatheading}>Chats</Text>\n\t\t\t\t\t<Pressable onPress={handleCreateGroup}>\n\t\t\t\t\t\t<Feather name='edit' size={24} color='green' />\n\t\t\t\t\t</Pressable>\n\t\t\t\t</View>\n\t\t\t</View>\n\n\t\t\t<View style={styles.chatlistContainer}>\n\t\t\t\t{rooms.length > 0 ? (\n\t\t\t\t\t<FlatList\n\t\t\t\t\t\tdata={rooms}\n\t\t\t\t\t\trenderItem={({ item }) => <ChatComponent item={item} />}\n\t\t\t\t\t\tkeyExtractor={(item) => item.id}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<View style={styles.chatemptyContainer}>\n\t\t\t\t\t\t<Text style={styles.chatemptyText}>No rooms created!</Text>\n\t\t\t\t\t\t<Text>Click the icon above to create a Chat room</Text>\n\t\t\t\t\t</View>\n\t\t\t\t)}\n\t\t\t</View>\n\t\t\t{visible ? <Modal setVisible={setVisible} /> : \"\"}\n\t\t</SafeAreaView>\n\t);\n};\n\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}