{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/zoro/Projects/for-you/screens/ChatScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport firebase from '../config/';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatScreen() {\n  var _this = this;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    message = _useState2[0],\n    setMessage = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    messages = _useState4[0],\n    setMessages = _useState4[1];\n  useEffect(function () {\n    var unsubscribe = firebase.firestore().collection('messages').orderBy('createdAt', 'desc').onSnapshot(function (snapshot) {\n      var messages = snapshot.docs.map(function (doc) {\n        return _objectSpread({\n          id: doc.id\n        }, doc.data());\n      });\n      setMessages(messages);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  var handleSend = function handleSend() {\n    firebase.firestore().collection('messages').add({\n      text: message,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp()\n    }).then(function () {\n      setMessage('');\n    });\n  };\n  var renderMessage = function renderMessage(_ref) {\n    var item = _ref.item;\n    return _jsxDEV(View, {\n      style: {\n        padding: 10\n      },\n      children: _jsxDEV(Text, {\n        children: item.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 8\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }, _this);\n  };\n  return _jsxDEV(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsxDEV(FlatList, {\n      data: messages,\n      renderItem: renderMessage,\n      inverted: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), _jsxDEV(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      children: [_jsxDEV(TextInput, {\n        style: {\n          flex: 1\n        },\n        placeholder: \"Type a message\",\n        value: message,\n        onChangeText: setMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this), _jsxDEV(Button, {\n        title: \"Send\",\n        onPress: handleSend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 2\n  }, this);\n}","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","Button","FlatList","firebase","jsxDEV","_jsxDEV","ChatScreen","_this","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","messages","setMessages","unsubscribe","firestore","collection","orderBy","onSnapshot","snapshot","docs","map","doc","_objectSpread","id","data","handleSend","add","text","createdAt","FieldValue","serverTimestamp","then","renderMessage","_ref","item","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","flex","renderItem","inverted","flexDirection","placeholder","value","onChangeText","title","onPress"],"sources":["/home/zoro/Projects/for-you/screens/ChatScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, Button, FlatList } from 'react-native';\nimport firebase from '../config/';\n\n\nexport default function ChatScreen() {\n const [message, setMessage] = useState('');\n const [messages, setMessages] = useState([]);\n\n\n useEffect(() => {\n   const unsubscribe = firebase.firestore().collection('messages')\n     .orderBy('createdAt', 'desc')\n     .onSnapshot(snapshot => {\n       const messages = snapshot.docs.map(doc => {\n         return {\n           id: doc.id,\n           ...doc.data()\n         }\n       });\n       setMessages(messages);\n     });\n\n\n   return () => unsubscribe();\n }, []);\n\n\n const handleSend = () => {\n   firebase.firestore().collection('messages').add({\n     text: message,\n     createdAt: firebase.firestore.FieldValue.serverTimestamp()\n   }).then(() => {\n     setMessage('');\n   });\n }\n\n\n const renderMessage = ({ item }) => {\n   return (\n     <View style={{ padding: 10 }}>\n       <Text>{item.text}</Text>\n     </View>\n   );\n}\n\n\nreturn (\n <View style={{ flex: 1 }}>\n   <FlatList\n     data={messages}\n     renderItem = {renderMessage}\n     inverted={true}\n   />\n   <View style={ { flexDirection: 'row' } }>\n     <TextInput\n       style={{ flex: 1 }}\n       placeholder=\"Type a message\"\n       value={message}\n       onChangeText={setMessage}\n     />\n     <Button\n       title=\"Send\"\n       onPress={handleSend}\n     />\n   </View>\n </View>\n );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}