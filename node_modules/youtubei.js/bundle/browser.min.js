/* eslint-disable */
var nw=Object.defineProperty;var n=(t,e)=>nw(t,"name",{value:e,configurable:!0});var D=(t,e)=>{for(var i in e)nw(t,i,{get:e[i],enumerable:!0})};function sw(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(sw,"__rest");function aw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(aw,"__setFunctionName");function y(t,e,i,o){function r(s){return s instanceof i?s:new i(function(l){l(s)})}return n(r,"adopt"),new(i||(i=Promise))(function(s,l){function p(_){try{m(o.next(_))}catch(b){l(b)}}n(p,"fulfilled");function f(_){try{m(o.throw(_))}catch(b){l(b)}}n(f,"rejected");function m(_){_.done?s(_.value):r(_.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(y,"__awaiter");function rw(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(rw,"__values");function bo(t){return this instanceof bo?(this.v=t,this):new bo(t)}n(bo,"__await");function uw(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(x){o[x]&&(r[x]=function(T){return new Promise(function(k,N){s.push([x,T,k,N])>1||p(x,T)})})}function p(x,T){try{f(o[x](T))}catch(k){b(s[0][3],k)}}function f(x){x.value instanceof bo?Promise.resolve(x.value.v).then(m,_):b(s[0][2],x)}function m(x){p("next",x)}function _(x){p("throw",x)}function b(x,T){x(T),s.shift(),s.length&&p(s[0][0],s[0][1])}}n(uw,"__asyncGenerator");function lw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof rw=="function"?rw(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=t[s]&&function(l){return new Promise(function(p,f){l=t[s](l),r(p,f,l.done,l.value)})}}function r(s,l,p,f){Promise.resolve(f).then(function(m){s({value:m,done:p})},l)}}n(lw,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function I(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(I,"__classPrivateFieldSet");var Ry={};D(Ry,{ChannelError:()=>jr,InnertubeError:()=>g,MissingParamError:()=>Vn,OAuthError:()=>fi,ParsingError:()=>bt,Platform:()=>L,PlayerError:()=>Jt,SessionError:()=>ms,base64ToU8:()=>Zy,concatMemos:()=>fb,debugFetch:()=>eP,deepCompare:()=>Zh,escapeStringRegexp:()=>Ib,generateRandomString:()=>kt,generateSidAuth:()=>Ay,getRandomUserAgent:()=>Mo,getStringBetweenStrings:()=>Ue,hasKeys:()=>ZE,isTextRun:()=>et,streamToIterable:()=>Ey,throwIfMissing:()=>ee,timeToSeconds:()=>je,u8ToBase64:()=>mt});var Cy={};D(Cy,{Maybe:()=>To,Memo:()=>Vi,SuperParsedResult:()=>Zt,YTNode:()=>a,observe:()=>ue});var Mi,ve=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(ve,"Log");Mi=ve;ve.YTJS_TAG="YOUTUBEJS";ve.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};ve.log_map_={[ve.Level.ERROR]:(...t)=>console.error(...t),[ve.Level.WARNING]:(...t)=>console.warn(...t),[ve.Level.INFO]:(...t)=>console.info(...t),[ve.Level.DEBUG]:(...t)=>console.debug(...t)};ve.log_level_=[ve.Level.WARNING];ve.one_time_warnings_issued_=new Set;ve.warnOnce=(t,...e)=>{Mi.one_time_warnings_issued_.has(t)||(Mi.doLog(ve.Level.WARNING,t,e),Mi.one_time_warnings_issued_.add(t))};ve.warn=(t,...e)=>Mi.doLog(ve.Level.WARNING,t,e);ve.error=(t,...e)=>Mi.doLog(ve.Level.ERROR,t,e);ve.info=(t,...e)=>Mi.doLog(ve.Level.INFO,t,e);ve.debug=(t,...e)=>Mi.doLog(ve.Level.DEBUG,t,e);var W=ve;var Sy,cw,Le,ky,fe,Qt,vi,wo,dw=Symbol("ObservedArray.isObserved"),a=class{constructor(){Sy.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,Sy,"m",cw).call(this,i))}as(...e){if(!this.is(...e))throw new bt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new bt(`Missing key ${e}`);return new To(this[e])}};n(a,"YTNode");Sy=new WeakSet,cw=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var To=class{constructor(e){Le.add(this),ky.set(this,"Maybe"),fe.set(this,void 0),I(this,fe,e,"f")}get typeof(){return typeof d(this,fe,"f")}string(){return d(this,Le,"m",vi).call(this,"string")}isString(){return d(this,Le,"m",Qt).call(this,"string")}number(){return d(this,Le,"m",vi).call(this,"number")}isNumber(){return d(this,Le,"m",Qt).call(this,"number")}bigint(){return d(this,Le,"m",vi).call(this,"bigint")}isBigint(){return d(this,Le,"m",Qt).call(this,"bigint")}boolean(){return d(this,Le,"m",vi).call(this,"boolean")}isBoolean(){return d(this,Le,"m",Qt).call(this,"boolean")}symbol(){return d(this,Le,"m",vi).call(this,"symbol")}isSymbol(){return d(this,Le,"m",Qt).call(this,"symbol")}undefined(){return d(this,Le,"m",vi).call(this,"undefined")}isUndefined(){return d(this,Le,"m",Qt).call(this,"undefined")}null(){if(d(this,fe,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isNull(){return d(this,fe,"f")===null}object(){return d(this,Le,"m",vi).call(this,"object")}isObject(){return d(this,Le,"m",Qt).call(this,"object")}function(){return d(this,Le,"m",vi).call(this,"function")}isFunction(){return d(this,Le,"m",Qt).call(this,"function")}array(){if(!Array.isArray(d(this,fe,"f")))throw new TypeError(`Expected array, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new To(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,fe,"f"))}node(){if(!(d(this,fe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,fe,"f").constructor.name}`);return d(this,fe,"f")}isNode(){return d(this,fe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isObserved(){var e;return(e=d(this,fe,"f"))===null||e===void 0?void 0:e[dw]}parsed(){if(!(d(this,fe,"f")instanceof Zt))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isParsed(){return d(this,fe,"f")instanceof Zt}any(){return W.warn(d(this,ky,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,fe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,fe,"f").constructor.name}`);return d(this,fe,"f")}isInstanceof(e){return d(this,fe,"f")instanceof e}};n(To,"Maybe");ky=new WeakMap,fe=new WeakMap,Le=new WeakSet,Qt=n(function(e){return typeof d(this,fe,"f")===e},"_Maybe_checkPrimative"),vi=n(function(e){if(!d(this,Le,"m",Qt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,fe,"f")},"_Maybe_assertPrimative");var Zt=class{constructor(e){wo.set(this,void 0),I(this,wo,e,"f")}get is_null(){return d(this,wo,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,wo,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,wo,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,wo,"f")}};n(Zt,"SuperParsedResult");wo=new WeakMap;function ue(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((s,l)=>{let p=Zh(o,s);return p&&r&&e.splice(l,1),p}):i==dw?!0:i=="getAll"?(o,r)=>e.filter((s,l)=>{let p=Zh(o,s);return p&&r&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>ue(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ue(e.map(r=>{if(r.is(...o))return r;throw new bt(`Expected node of any type ${o.map(s=>s.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ue,"observe");var Vi=class extends Map{getType(...e){return e=e.flat(),ue(e.flatMap(i=>this.get(i.type)||[]))}};n(Vi,"Memo");var Tb={};D(Tb,{Author:()=>M,ChildElement:()=>Vv,EmojiRun:()=>Oi,Format:()=>Ng,Text:()=>u,TextRun:()=>Di,Thumbnail:()=>w,VideoDetails:()=>no});var q={};D(q,{CLIENTS:()=>de,INNERTUBE_HEADERS_BASE:()=>G1,OAUTH:()=>J1,STREAM_HEADERS:()=>gi,URLS:()=>st});var st=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),J1=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),de=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),gi=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),G1=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};D(c,{addRuntimeParser:()=>ub,applyMutations:()=>Rk,getDynamicParsers:()=>XC,getParserByName:()=>hh,hasParser:()=>Cg,parse:()=>qe,parseActions:()=>Ak,parseArray:()=>Ke,parseC:()=>Nk,parseFormats:()=>cb,parseItem:()=>se,parseLC:()=>lb,parseRR:()=>Ag,parseResponse:()=>QC,sanitizeClassName:()=>vh,setParserErrorHandler:()=>KC,shouldIgnore:()=>Pk});var Fo={};D(Fo,{AboutChannel:()=>s_,AboutChannelView:()=>r_,AccountChannel:()=>a_,AccountItemSection:()=>l_,AccountItemSectionHeader:()=>u_,AccountSectionList:()=>c_,AddBannerToLiveChatCommand:()=>hI,AddChatItemAction:()=>s0,AddLiveChatTickerItemAction:()=>_I,Alert:()=>Qn,AlertWithButton:()=>v_,AnalyticsMainAppKeyMetrics:()=>fw,AnalyticsRoot:()=>mw,AnalyticsShortsCarouselCard:()=>hw,AnalyticsVideo:()=>x_,AnalyticsVodCarouselCard:()=>_w,AnchoredSection:()=>wg,AppendContinuationItemsAction:()=>So,AttributionView:()=>y_,AudioOnlyPlayability:()=>b_,AuthorCommentBadge:()=>lv,AutomixPreviewVideo:()=>Li,AvatarView:()=>w_,BackstageImage:()=>T_,BackstagePost:()=>Bi,BackstagePostThread:()=>xw,BrowseFeedActions:()=>S_,BrowserMediaSession:()=>yw,Button:()=>S,ButtonView:()=>ko,C4TabbedHeader:()=>Ui,CallToActionButton:()=>bw,Card:()=>ww,CardCollection:()=>Q_,CarouselHeader:()=>Z_,CarouselItem:()=>Tw,CarouselLockup:()=>z_,Channel:()=>nv,ChannelAboutFullMetadata:()=>Xu,ChannelAgeGate:()=>Lw,ChannelExternalLinkView:()=>n_,ChannelFeaturedContent:()=>Bw,ChannelHeaderLinks:()=>k_,ChannelHeaderLinksView:()=>C_,ChannelMetadata:()=>rv,ChannelMobileHeader:()=>Fw,ChannelOptions:()=>sv,ChannelOwnerEmptyState:()=>Yw,ChannelSubMenu:()=>rl,ChannelTagline:()=>q_,ChannelThumbnailWithLink:()=>jw,ChannelVideoPlayer:()=>Uw,Chapter:()=>av,ChildVideo:()=>Ww,ChipCloud:()=>ft,ChipCloudChip:()=>ge,ClipAdState:()=>N_,ClipCreation:()=>A_,ClipCreationScrubber:()=>P_,ClipCreationTextInput:()=>E_,ClipSection:()=>R_,CollaboratorInfoCardContent:()=>Hw,CollageHeroImage:()=>Jw,Command:()=>Gw,Comment:()=>fr,CommentActionButtons:()=>Zn,CommentDialog:()=>BT,CommentReplies:()=>vv,CommentReplyDialog:()=>cv,CommentSimplebox:()=>bv,CommentThread:()=>wv,CommentsEntryPointHeader:()=>yv,CommentsEntryPointTeaser:()=>xv,CommentsHeader:()=>Gi,CommentsSimplebox:()=>gv,CompactChannel:()=>FT,CompactLink:()=>mr,CompactMix:()=>YT,CompactMovie:()=>jT,CompactPlaylist:()=>UT,CompactStation:()=>WT,CompactVideo:()=>rr,ConfirmDialog:()=>HT,ContentMetadataView:()=>Tv,ContentPreviewImageView:()=>or,ContinuationItem:()=>he,ConversationBar:()=>JT,CopyLink:()=>Iv,CreatePlaylistDialog:()=>t_,CreatorHeart:()=>I_,CtaGoToCreatorStudio:()=>vw,DataModelSection:()=>g_,DecoratedAvatarView:()=>Sv,DecoratedPlayerBar:()=>Pv,DefaultPromoPanel:()=>GT,DescriptionPreviewView:()=>Nv,DidYouMean:()=>Av,DimChatItemAction:()=>vI,DislikeButtonView:()=>Rv,DownloadButton:()=>zT,Dropdown:()=>qn,DropdownItem:()=>e_,DynamicTextView:()=>Mv,Element:()=>gr,EmergencyOnebox:()=>$T,EmojiPicker:()=>_v,EmojiPickerCategory:()=>KT,EmojiPickerCategoryButton:()=>qT,EmojiPickerUpsellCategory:()=>XT,EndScreenPlaylist:()=>Dv,EndScreenVideo:()=>Lv,Endscreen:()=>Ov,EndscreenElement:()=>QT,EngagementPanelSectionList:()=>ji,EngagementPanelTitleHeader:()=>M_,ExpandableMetadata:()=>Y_,ExpandableTab:()=>xr,ExpandableVideoDescriptionBody:()=>L_,ExpandedShelfContents:()=>ZT,Factoid:()=>Yi,FancyDismissibleDialog:()=>eI,FeedFilterChipBar:()=>yi,FeedNudge:()=>tI,FeedTabbedHeader:()=>Bv,FlexibleActionsView:()=>Fv,GameCard:()=>B_,GameDetails:()=>iI,Grid:()=>Lo,GridChannel:()=>Yv,GridHeader:()=>oI,GridMix:()=>nI,GridMovie:()=>rI,GridPlaylist:()=>jv,GridShow:()=>sI,GridVideo:()=>Hv,GuideCollapsibleEntry:()=>aI,GuideCollapsibleSectionEntry:()=>uI,GuideDownloadsEntry:()=>lI,GuideEntry:()=>Bo,GuideSection:()=>yr,GuideSubscriptionsSection:()=>Jv,HashtagHeader:()=>Gv,HashtagTile:()=>cI,HeatMarker:()=>kv,Heatmap:()=>Cv,HeroPlaylistThumbnail:()=>dI,HighlightsCarousel:()=>Fc,HistorySuggestion:()=>pI,HorizontalCardList:()=>Fi,HorizontalList:()=>F_,HorizontalMovieList:()=>fI,IconLink:()=>$v,ImageBannerView:()=>Kv,IncludingResultsFor:()=>mI,InfoPanelContainer:()=>Xv,InfoPanelContent:()=>qv,InfoRow:()=>G_,InteractiveTabbedHeader:()=>Qv,ItemSection:()=>xe,ItemSectionHeader:()=>br,ItemSectionTab:()=>Zv,ItemSectionTabbedHeader:()=>wr,KidsBlocklistPicker:()=>vk,KidsBlocklistPickerItem:()=>Vr,KidsCategoriesHeader:()=>Tg,KidsCategoryTab:()=>Or,KidsHomeScreen:()=>Ig,LikeButton:()=>t0,LikeButtonView:()=>i0,LiveChat:()=>o0,LiveChatActionPanel:()=>u0,LiveChatAuthorBadge:()=>UI,LiveChatAutoModMessage:()=>gI,LiveChatBanner:()=>r0,LiveChatBannerHeader:()=>n0,LiveChatBannerPoll:()=>xI,LiveChatDialog:()=>WI,LiveChatHeader:()=>m0,LiveChatItemList:()=>h0,LiveChatMembershipItem:()=>yI,LiveChatMessageInput:()=>HI,LiveChatPaidMessage:()=>bI,LiveChatPaidSticker:()=>wI,LiveChatParticipant:()=>_0,LiveChatParticipantsList:()=>v0,LiveChatPlaceholderItem:()=>TI,LiveChatProductItem:()=>II,LiveChatRestrictedParticipation:()=>SI,LiveChatTextMessage:()=>kI,LiveChatTickerPaidMessageItem:()=>a0,LiveChatTickerPaidStickerItem:()=>CI,LiveChatTickerSponsorItem:()=>EI,LiveChatViewerEngagementMessage:()=>PI,MacroMarkersInfoItem:()=>V_,MacroMarkersList:()=>O_,MacroMarkersListItem:()=>tr,MarkChatItemAsDeletedAction:()=>AI,MarkChatItemsByAuthorAsDeletedAction:()=>RI,Menu:()=>j,MenuNavigationItem:()=>g0,MenuPopup:()=>JI,MenuServiceItem:()=>zi,MenuServiceItemDownload:()=>GI,MerchandiseItem:()=>KI,MerchandiseShelf:()=>w0,Message:()=>$e,MetadataBadge:()=>at,MetadataRow:()=>qI,MetadataRowContainer:()=>T0,MetadataRowHeader:()=>XI,MetadataScreen:()=>QI,MicroformatData:()=>ti,Mix:()=>ZI,ModalWithTitleAndButton:()=>eS,Movie:()=>tS,MovingThumbnail:()=>iS,MultiMarkersPlayerBar:()=>Ev,MultiPageMenu:()=>zI,MultiPageMenuNotificationSection:()=>$I,MusicCardShelf:()=>C0,MusicCardShelfHeaderBasic:()=>I0,MusicCarouselShelf:()=>Re,MusicCarouselShelfBasicHeader:()=>E0,MusicDescriptionShelf:()=>jo,MusicDetailHeader:()=>Uo,MusicDownloadStateBadge:()=>pS,MusicEditablePlaylistDetailHeader:()=>R0,MusicElementHeader:()=>Mp,MusicHeader:()=>Ki,MusicImmersiveHeader:()=>M0,MusicInlineBadge:()=>S0,MusicItemThumbnailOverlay:()=>ii,MusicLargeCardItemCarousel:()=>fS,MusicMenuItemDivider:()=>x0,MusicMultiRowListItem:()=>P0,MusicMultiSelectMenu:()=>y0,MusicMultiSelectMenuItem:()=>Lt,MusicNavigationButton:()=>Tr,MusicPlayButton:()=>k0,MusicPlaylistShelf:()=>Wo,MusicQueue:()=>kr,MusicResponsiveListItem:()=>$i,MusicResponsiveListItemFixedColumn:()=>N0,MusicResponsiveListItemFlexColumn:()=>A0,MusicShelf:()=>Te,MusicSideAlignedItem:()=>O0,MusicSortFilterButton:()=>zp,MusicTastebuilderShelf:()=>L0,MusicTastebuilderShelfThumbnail:()=>D0,MusicThumbnail:()=>wt,MusicTwoRowItem:()=>Sr,MusicVisualHeader:()=>B0,NavigationEndpoint:()=>v,Notification:()=>F0,OpenPopupAction:()=>i_,PageHeader:()=>ni,PageHeaderView:()=>Y0,PageIntroduction:()=>j0,PdgCommentChip:()=>dv,PivotButton:()=>U0,PlayerAnnotationsExpanded:()=>W0,PlayerCaptionsTracklist:()=>H0,PlayerControlsOverlay:()=>mS,PlayerErrorMessage:()=>hS,PlayerLegacyDesktopYpcOffer:()=>_S,PlayerLegacyDesktopYpcTrailer:()=>df,PlayerLiveStoryboardSpec:()=>z0,PlayerMicroformat:()=>Tt,PlayerOverflow:()=>J0,PlayerOverlay:()=>qi,PlayerOverlayAutoplay:()=>$0,PlayerStoryboardSpec:()=>Ao,Playlist:()=>ei,PlaylistCustomThumbnail:()=>hr,PlaylistHeader:()=>q0,PlaylistInfoCardContent:()=>vS,PlaylistMetadata:()=>X0,PlaylistPanel:()=>oi,PlaylistPanelVideo:()=>bi,PlaylistPanelVideoWrapper:()=>V0,PlaylistSidebar:()=>gS,PlaylistSidebarPrimaryInfo:()=>Q0,PlaylistSidebarSecondaryInfo:()=>Z0,PlaylistVideo:()=>Cr,PlaylistVideoList:()=>xS,PlaylistVideoThumbnail:()=>_r,Poll:()=>yS,PollHeader:()=>NI,Post:()=>eg,PostMultiImage:()=>bS,ProductList:()=>D_,ProductListHeader:()=>wS,ProductListItem:()=>TS,ProfileColumn:()=>IS,ProfileColumnStats:()=>SS,ProfileColumnStatsEntry:()=>kS,ProfileColumnUserInfo:()=>CS,Quiz:()=>ES,RecognitionShelf:()=>PS,ReelItem:()=>tg,ReelPlayerHeader:()=>ig,ReelPlayerOverlay:()=>NS,ReelShelf:()=>ar,RelatedChipCloud:()=>og,RemoveBannerForLiveChatCommand:()=>MI,RemoveChatItemAction:()=>VI,RemoveChatItemByAuthorAction:()=>OI,ReplaceChatItemAction:()=>DI,ReplayChatItemAction:()=>LI,RichGrid:()=>Xi,RichItem:()=>AS,RichListHeader:()=>RS,RichMetadata:()=>Hf,RichMetadataRow:()=>Gf,RichSection:()=>MS,RichShelf:()=>ng,SearchBox:()=>VS,SearchFilter:()=>rg,SearchFilterGroup:()=>Er,SearchFilterOptionsDialog:()=>OS,SearchHeader:()=>sg,SearchRefinementCard:()=>Co,SearchSubMenu:()=>ag,SearchSuggestion:()=>zv,SearchSuggestionsSection:()=>ug,SecondarySearchContainer:()=>DS,SectionList:()=>X,SegmentedLikeDislikeButton:()=>Ho,SegmentedLikeDislikeButtonView:()=>Jo,SettingBoolean:()=>LS,SettingsCheckbox:()=>lg,SettingsOptions:()=>Nr,SettingsSidebar:()=>cg,SettingsSwitch:()=>Pr,SharedPost:()=>dg,Shelf:()=>Ar,ShowCustomThumbnail:()=>Uv,ShowLiveChatActionPanelAction:()=>BI,ShowLiveChatDialogAction:()=>FI,ShowLiveChatTooltipCommand:()=>YI,ShowingResultsFor:()=>pg,SimpleCardContent:()=>BS,SimpleCardTeaser:()=>FS,SimpleMenuHeader:()=>b0,SimpleTextSection:()=>YS,SingleActionEmergencySupport:()=>jS,SingleColumnBrowseResults:()=>ri,SingleColumnMusicWatchNextResults:()=>US,SingleHeroImage:()=>WS,SlimOwner:()=>HS,SlimVideoMetadata:()=>fg,SortFilterHeader:()=>e0,SortFilterSubMenu:()=>Mt,SponsorCommentBadge:()=>pv,StatRow:()=>gw,StructuredDescriptionContent:()=>Po,StructuredDescriptionPlaylistLockup:()=>$_,SubFeedOption:()=>mg,SubFeedSelector:()=>JS,SubscribeButton:()=>ze,SubscriptionNotificationToggleButton:()=>X_,Tab:()=>ye,Tabbed:()=>GS,TabbedSearchResults:()=>hg,TextHeader:()=>zS,ThumbnailLandscapePortrait:()=>$S,ThumbnailOverlayBottomPanel:()=>Wv,ThumbnailOverlayEndorsement:()=>KS,ThumbnailOverlayHoverText:()=>qS,ThumbnailOverlayInlineUnplayable:()=>XS,ThumbnailOverlayLoadingPreview:()=>QS,ThumbnailOverlayNowPlaying:()=>ZS,ThumbnailOverlayPinking:()=>ek,ThumbnailOverlayPlaybackStatus:()=>tk,ThumbnailOverlayResumePlayback:()=>ik,ThumbnailOverlaySidePanel:()=>ok,ThumbnailOverlayTimeStatus:()=>Eo,ThumbnailOverlayToggleButton:()=>nk,TimedMarkerDecoration:()=>rk,TitleAndButtonListHeader:()=>sk,ToggleButton:()=>Be,ToggleButtonView:()=>vr,ToggleMenuServiceItem:()=>ak,Tooltip:()=>uk,TopicChannelDetails:()=>lk,Transcript:()=>Xn,TranscriptFooter:()=>d_,TranscriptSearchBox:()=>p_,TranscriptSearchPanel:()=>__,TranscriptSectionHeader:()=>f_,TranscriptSegment:()=>m_,TranscriptSegmentList:()=>h_,TwoColumnBrowseResults:()=>si,TwoColumnSearchResults:()=>_g,TwoColumnWatchNextResults:()=>Rr,UniversalWatchCard:()=>gg,UpdateDateTextAction:()=>l0,UpdateDescriptionAction:()=>c0,UpdateEngagementPanelAction:()=>pw,UpdateLiveChatPollAction:()=>jI,UpdateTitleAction:()=>d0,UpdateToggleButtonTextAction:()=>p0,UpdateViewershipAction:()=>f0,UploadTimeFactoid:()=>U_,UpsellDialog:()=>ck,VerticalList:()=>dk,VerticalWatchCardList:()=>pk,Video:()=>ir,VideoAttributeView:()=>nr,VideoCard:()=>j_,VideoDescriptionCourseSection:()=>K_,VideoDescriptionHeader:()=>H_,VideoDescriptionInfocardsSection:()=>J_,VideoDescriptionMusicSection:()=>sr,VideoDescriptionTranscriptSection:()=>Mu,VideoInfoCardContent:()=>fk,VideoOwner:()=>Mr,VideoPrimaryInfo:()=>xg,VideoSecondaryInfo:()=>th,ViewCountFactoid:()=>W_,WatchCardCompactVideo:()=>yg,WatchCardHeroVideo:()=>mk,WatchCardRichHeader:()=>hk,WatchCardSectionSequence:()=>_k,WatchNextEndScreen:()=>K0,WatchNextTabbedResults:()=>bg,YpcTrailer:()=>G0});var na=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(na,"Button");na.type="Button";var S=na;var ra=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(ra,"DropdownItem");ra.type="DropdownItem";var e_=ra;var sa=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,e_)}};n(sa,"Dropdown");sa.type="Dropdown";var qn=sa;var aa=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,qn),this.create_button=c.parseItem(e.cancelButton,S),this.cancel_button=c.parseItem(e.cancelButton,S)}};n(aa,"CreatePlaylistDialog");aa.type="CreatePlaylistDialog";var t_=aa;var ua=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(ua,"OpenPopupAction");ua.type="OpenPopupAction";var i_=ua;var Io=class extends a{constructor(e){var i,o,r,s,l,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new i_(e.openPopupAction));let _=Object.keys(e||{}).find(b=>b.endsWith("Endpoint")||b.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=c.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Io(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((s=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||s===void 0)&&s.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,t_))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Io,"NavigationEndpoint");Io.type="NavigationEndpoint";var v=Io;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new w(o)).sort((o,r)=>r.width-o.width):[]}};n(w,"Thumbnail");var Oi=class{constructor(e){var i,o,r,s,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((s=e.emoji)===null||s===void 0?void 0:s.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=o_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Oi,"EmojiRun");var Di=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=o_(this.text),r=`<span style="white-space: pre-wrap;">${e.map(s=>`<${s}>`).join("")+i+e.map(s=>`</${s}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:s}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${s}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let s=this.endpoint.toURL();if(s)return`<a href="${s}">${r}</a>`}return r}};n(Di,"TextRun");function o_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(o_,"escape");var u=class{constructor(e){var i,o,r,s;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Oi(l):new Di(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(s=(r=this.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.endpoint)}static fromAttributed(e){let i=[],o=e.content,r=e.commandRuns,s=0;if(r){for(let l of r){let p=l.length,f=l.startIndex;if(f>s&&i.push({text:o.slice(s,f)}),Reflect.has(l,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let b of _)if(b.startIndex-2==f){m=b;break}}m?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:m}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}s=f+p}s<o.length&&i.push({text:o.slice(s)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");var la=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=w.fromResponse(e.favicon)}};n(la,"ChannelExternalLinkView");la.type="ChannelExternalLinkView";var n_=la;var ca=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,n_):this.links=[]}};n(ca,"AboutChannelView");ca.type="AboutChannelView";var r_=ca;var da=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,r_),this.share_channel=c.parseItem(e.shareChannel,S)}};n(da,"AboutChannel");da.type="AboutChannel";var s_=da;var pa=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(pa,"AccountChannel");pa.type="AccountChannel";var a_=pa;var fa=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(fa,"AccountItemSectionHeader");fa.type="AccountItemSectionHeader";var u_=fa;var ma=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(ma,"AccountItem");ma.type="AccountItem";var ha=class extends a{constructor(e){super(),this.contents=ue(e.contents.map(i=>new ma(i.accountItem))),this.header=c.parseItem(e.header,u_)}};n(ha,"AccountItemSection");ha.type="AccountItemSection";var l_=ha;var _a=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],l_),this.footers=c.parseItem(e.footers[0],a_)}};n(_a,"AccountSectionList");_a.type="AccountSectionList";var c_=_a;var va=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(va,"AppendContinuationItemsAction");va.type="AppendContinuationItemsAction";var So=va;var ga=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(ga,"SortFilterSubMenu");ga.type="SortFilterSubMenu";var Mt=ga;var xa=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,Mt)}};n(xa,"TranscriptFooter");xa.type="TranscriptFooter";var d_=xa;var ya=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,S),this.endpoint=new v(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,S)}};n(ya,"TranscriptSearchBox");ya.type="TranscriptSearchBox";var p_=ya;var ba=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(ba,"TranscriptSectionHeader");ba.type="TranscriptSectionHeader";var f_=ba;var wa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(wa,"TranscriptSegment");wa.type="TranscriptSegment";var m_=wa;var Ta=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[m_,f_]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Ta,"TranscriptSegmentList");Ta.type="TranscriptSegmentList";var h_=Ta;var Ia=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,p_),this.body=c.parseItem(e.body,h_),this.footer=c.parseItem(e.footer,d_),this.target_id=e.targetId}};n(Ia,"TranscriptSearchPanel");Ia.type="TranscriptSearchPanel";var __=Ia;var Sa=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,__)}};n(Sa,"Transcript");Sa.type="Transcript";var Xn=Sa;var ka=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,Xn)}};n(ka,"UpdateEngagementPanelAction");ka.type="UpdateEngagementPanelAction";var pw=ka;var Ca=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(Ca,"Alert");Ca.type="Alert";var Qn=Ca;var Ea=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,S)}};n(Ea,"AlertWithButton");Ea.type="AlertWithButton";var v_=Ea;var Pa=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Pa,"DataModelSection");Pa.type="DataModelSection";var g_=Pa;var Na=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new g_(o))}};n(Na,"AnalyticsMainAppKeyMetrics");Na.type="AnalyticsMainAppKeyMetrics";var fw=Na;var Aa=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Aa,"AnalyticsRoot");Aa.type="AnalyticsRoot";var mw=Aa;var Ra=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(Ra,"AnalyticsShortsCarouselCard");Ra.type="AnalyticsShortsCarouselCard";var hw=Ra;var Ma=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Ma,"AnalyticsVideo");Ma.type="AnalyticsVideo";var x_=Ma;var Va=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new x_(i)))}};n(Va,"AnalyticsVodCarouselCard");Va.type="AnalyticsVodCarouselCard";var _w=Va;var Oa=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(Oa,"CtaGoToCreatorStudio");Oa.type="CtaGoToCreatorStudio";var vw=Oa;var Da=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(Da,"StatRow");Da.type="StatRow";var gw=Da;var La=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(La,"AttributionView");La.type="AttributionView";var y_=La;var Ba=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(Ba,"AudioOnlyPlayability");Ba.type="AudioOnlyPlayability";var b_=Ba;var Fa=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Fa,"AutomixPreviewVideo");Fa.type="AutomixPreviewVideo";var Li=Fa;var Ya=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(Ya,"AvatarView");Ya.type="AvatarView";var w_=Ya;var ja=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new v(e.command)}};n(ja,"BackstageImage");ja.type="BackstageImage";var T_=ja;var Ua=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let b=((s=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(b.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(m=e.defaultServiceEndpoint)===null||m===void 0?void 0:m.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(Ua,"ToggleButton");Ua.type="ToggleButton";var Be=Ua;var Wa=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(Wa,"CreatorHeart");Wa.type="CreatorHeart";var I_=Wa;var Ha=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Be),this.dislike_button=c.parseItem(e.dislikeButton,Be),this.reply_button=c.parseItem(e.replyButton,S),this.creator_heart=c.parseItem(e.creatorHeart,I_)}};n(Ha,"CommentActionButtons");Ha.type="CommentActionButtons";var Zn=Ha;var Ja=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Ja,"Menu");Ja.type="Menu";var j=Ja;var Ga=class extends a{constructor(e){super(),this.id=e.postId,this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,j)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,Zn)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,S)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(Ga,"BackstagePost");Ga.type="BackstagePost";var Bi=Ga;var za=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(za,"BackstagePostThread");za.type="BackstagePostThread";var xw=za;var $a=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n($a,"BrowseFeedActions");$a.type="BrowseFeedActions";var S_=$a;var Ka=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};n(Ka,"BrowserMediaSession");Ka.type="BrowserMediaSession";var yw=Ka;var qa=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(qa,"ButtonView");qa.type="ButtonView";var ko=qa;var er=class extends a{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new u(e.title)}};n(er,"HeaderLink");er.type="HeaderLink";var Xa=class extends a{constructor(e){var i,o;super(),this.primary=ue(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new er(r)))||[]),this.secondary=ue(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new er(r)))||[])}};n(Xa,"ChannelHeaderLinks");Xa.type="ChannelHeaderLinks";var k_=Xa;var Qa=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(Qa,"ChannelHeaderLinksView");Qa.type="ChannelHeaderLinksView";var C_=Qa;var Za=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(Za,"ClipCreationTextInput");Za.type="ClipCreationTextInput";var E_=Za;var eu=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(s=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(eu,"ClipCreationScrubber");eu.type="ClipCreationScrubber";var P_=eu;var tu=class extends a{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(tu,"ClipAdState");tu.type="ClipAdState";var N_=tu;var iu=class extends a{constructor(e){super(),this.user_avatar=w.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[E_]),this.scrubber=c.parseItem(e.scrubber,[P_]),this.save_button=c.parseItem(e.saveButton,[S]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[S]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[N_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(iu,"ClipCreation");iu.type="ClipCreation";var A_=iu;var ou=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[A_])}};n(ou,"ClipSection");ou.type="ClipSection";var R_=ou;var nu=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,S)),this.endpoint=new v(e.continuationEndpoint)}};n(nu,"ContinuationItem");nu.type="ContinuationItem";var he=nu;var ru=class extends a{constructor(e){super(),this.title=new u(e.title),this.visibility_button=c.parseItem(e.visibilityButton,S)}};n(ru,"EngagementPanelTitleHeader");ru.type="EngagementPanelTitleHeader";var M_=ru;var su=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=c.parseItem(e.menu,j)}};n(su,"MacroMarkersInfoItem");su.type="MacroMarkersInfoItem";var V_=su;var au=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(au,"MacroMarkersListItem");au.type="MacroMarkersListItem";var tr=au;var uu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[V_,tr]),this.sync_button_label=new u(e.syncButtonLabel)}};n(uu,"MacroMarkersList");uu.type="MacroMarkersList";var O_=uu;var lu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(lu,"ProductList");lu.type="ProductList";var D_=lu;var cu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(cu,"SectionList");cu.type="SectionList";var X=cu;var du=class extends a{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(du,"ExpandableVideoDescriptionBody");du.type="ExpandableVideoDescriptionBody";var L_=du;var pu=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(pu,"SearchRefinementCard");pu.type="SearchRefinementCard";var Co=pu;var fu=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(fu,"GameCard");fu.type="GameCard";var B_=fu;var mu=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(mu,"HorizontalList");mu.type="HorizontalList";var F_=mu;var hu=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[Fi,F_]),this.expand_button=c.parseItem(e.expandButton,S),this.collapse_button=c.parseItem(e.collapseButton,S)}};n(hu,"ExpandableMetadata");hu.type="ExpandableMetadata";var Y_=hu;var _u=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(_u,"MetadataBadge");_u.type="MetadataBadge";var at=_u;var vu=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(vu,"ThumbnailOverlayTimeStatus");vu.type="ThumbnailOverlayTimeStatus";var Eo=vu;var gu=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,Y_),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new M(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=c.parseArray(e.badges,at),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:je(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,j),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Eo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(gu,"Video");gu.type="Video";var ir=gu;var xu=class extends ir{constructor(e){super(e)}};n(xu,"VideoCard");xu.type="VideoCard";var j_=xu;var yu=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(yu,"ContentPreviewImageView");yu.type="ContentPreviewImageView";var or=yu;var bu=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=w.fromResponse(e.image):this.image=c.parseItem(e.image,or),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(bu,"VideoAttributeView");bu.type="VideoAttributeView";var nr=bu;var wu=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[nr,Co,tr,B_,j_]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,S),this.next_button=c.parseItem(e.nextButton,S)}};n(wu,"HorizontalCardList");wu.type="HorizontalCardList";var Fi=wu;var Tu=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(Tu,"Factoid");Tu.type="Factoid";var Yi=Tu;var Iu=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Yi)}};n(Iu,"UploadTimeFactoid");Iu.type="UploadTimeFactoid";var U_=Iu;var Su=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Yi]),this.view_count_type=e.viewCountType}};n(Su,"ViewCountFactoid");Su.type="ViewCountFactoid";var W_=Su;var ku=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=c.parseArray(e.factoid,[Yi,W_,U_])}};n(ku,"VideoDescriptionHeader");ku.type="VideoDescriptionHeader";var H_=ku;var Cu=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,S),this.creator_about_button=c.parseItem(e.creatorAboutButton,S),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=w.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(Cu,"VideoDescriptionInfocardsSection");Cu.type="VideoDescriptionInfocardsSection";var J_=Cu;var Eu=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Eu,"InfoRow");Eu.type="InfoRow";var G_=Eu;var Pu=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new M(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=c.parseArray(e.badges,at),this.duration={text:new u(e.lengthText).toString(),seconds:je(new u(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Pu,"CompactVideo");Pu.type="CompactVideo";var rr=Pu;var Nu=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,G_),this.video_lockup=c.parseItem(e.videoLockup,rr)}};n(Nu,"CarouselLockup");Nu.type="CarouselLockup";var z_=Nu;var Au=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,z_),this.section_title=new u(e.sectionTitle)}};n(Au,"VideoDescriptionMusicSection");Au.type="VideoDescriptionMusicSection";var sr=Au;var Ru=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,S)}};n(Ru,"VideoDescriptionTranscriptSection");Ru.type="VideoDescriptionTranscriptSection";var Mu=Ru;var Vu=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Vu,"StructuredDescriptionPlaylistLockup");Vu.type="StructuredDescriptionPlaylistLockup";var $_=Vu;var Ou=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[$_])}};n(Ou,"VideoDescriptionCourseSection");Ou.type="VideoDescriptionCourseSection";var K_=Ou;var Du=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(Du,"ReelShelf");Du.type="ReelShelf";var ar=Du;var Lu=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[H_,L_,sr,J_,K_,Mu,Mu,Fi,ar])}};n(Lu,"StructuredDescriptionContent");Lu.type="StructuredDescriptionContent";var Po=Lu;var Bu=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,M_),this.content=c.parseItem(e.content,[nr,X,he,R_,Po,O_,D_]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(Bu,"EngagementPanelSectionList");Bu.type="EngagementPanelSectionList";var ji=Bu;var Fu=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ji),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(Fu,"ChannelTagline");Fu.type="ChannelTagline";var q_=Fu;var Yu=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Yu,"SubscriptionNotificationToggleButton");Yu.type="SubscriptionNotificationToggleButton";var X_=Yu;var ju=class extends a{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,X_),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(ju,"SubscribeButton");ju.type="SubscribeButton";var ze=ju;var Uu=class extends a{constructor(e){super(),this.author=new M({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,S)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[k_,C_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,q_))}};n(Uu,"C4TabbedHeader");Uu.type="C4TabbedHeader";var Ui=Uu;var Wu=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Wu,"CallToActionButton");Wu.type="CallToActionButton";var bw=Wu;var Hu=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Hu,"Card");Hu.type="Card";var ww=Hu;var Ju=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Ju,"CardCollection");Ju.type="CardCollection";var Q_=Ju;var Gu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Gu,"CarouselHeader");Gu.type="CarouselHeader";var Z_=Gu;var zu=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(zu,"CarouselItem");zu.type="CarouselItem";var Tw=zu;var No,ev=class{constructor(e,i){No.set(this,void 0),I(this,No,new L.shim.Cache(e,i),"f")}get cache_dir(){return d(this,No,"f").cache_dir}get(e){return d(this,No,"f").get(e)}set(e,i){return d(this,No,"f").set(e,i)}remove(e){return d(this,No,"f").remove(e)}};n(ev,"UniversalCache");No=new WeakMap;var z1=ev;var ur,tv=class extends EventTarget{constructor(){super(),ur.set(this,new Map)}emit(e,...i){let o=new L.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof L.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");d(this,ur,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof L.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");d(this,ur,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,ur,"f").get(i);o&&(this.removeEventListener(e,o),d(this,ur,"f").delete(i))}};n(tv,"EventEmitterLike");ur=new WeakMap;var $u=tv;var Ro={};D(Ro,{chooseFormat:()=>Ow,download:()=>gC,toDash:()=>Vw});var $1={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Iw(t){return t.replace(/([&"<>'])/g,(e,i)=>$1[i])}n(Iw,"escapeXMLString");function K1(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(K1,"normalizeTag");function me(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?q1(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:K1(t),props:Object.assign(Object.assign({},e),{children:o})}}n(me,"createElement");function q1(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(q1,"createTextElement");function Sw(t){return y(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return Iw(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${Iw(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Sw(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Sw,"renderElementToString");function kw(t){return y(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Sw(yield t)}`})}n(kw,"renderToString");function Cw(t){return t.children}n(Cw,"Fragment");var Ku=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,s)=>{let[l,p,f,m,_,b,x,T]=r.split("#");o.searchParams.set("sigh",T);let k=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{type:"vod",template_url:o.toString().replace("$L",s).replace("$N",x),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(b,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:k}})}};n(Ku,"PlayerStoryboardSpec");Ku.type="PlayerStoryboardSpec";var Ao=Ku;var Q1="StreamingInfo";function Z1(t,e){var i,o,r;let s=new Map,l=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let f=p.mime_type.split(";")[0],m=(i=Ue(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],_=p.color_info?Object.values(p.color_info).join("-"):"",b=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",x=`${f}-${m}-${_}-${b}`;s.has(x)||s.set(x,[]),(r=s.get(x))===null||r===void 0||r.push(p)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:l}}n(Z1,"getFormatGroupings");function Pw(t,e){if(t.length>1&&new Set(t.map(i=>Ue(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Ue(t[0].mime_type,'codecs="','"')}n(Pw,"hoistCodecsIfPossible");function Nw(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(Nw,"hoistNumberAttributeIfPossible");function eC(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(eC,"hoistAudioChannelsIfPossible");function tC(t,e){var i;return y(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:gi,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),s=yield o.text(),l=(i=Ue(s,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let m=f.trim();if(m.length===0)continue;let _,b=Ue(m,"(r=",")");b&&(_=parseInt(b)),p.push({duration:parseInt(m),repeat_count:_})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(tC,"getOTFSegmentTemplate");function Aw(t,e){return y(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:gi,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(Aw,"getPostLiveDvrInfo");function iC(t,e,i,o,r,s){return y(this,void 0,void 0,function*(){if(!t.item){let l=new URL(e.decipher(r));l.searchParams.set("cpn",s||"");let p=i(l).toString();t.item=yield Aw(p,o)}return t.item.duration})}n(iC,"getPostLiveDvrDuration");function Rw(t,e,i,o,r,s){let l=new URL(t.decipher(o));l.searchParams.set("cpn",r||"");let p=e(l).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return tC(p,i)}}}if(s){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let m=t.target_duration_dec;if(typeof m!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return y(this,void 0,void 0,function*(){return s.item||(s.item=yield Aw(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:m*1e3,repeat_count:s.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(Rw,"getSegmentInfo");function oC(t,e,i,o,r,s,l){return new URL(t.decipher(r)).searchParams.set("cpn",s||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Ue(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:Rw(t,i,o,r,s,l)}}n(oC,"getAudioRepresentation");function nC(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(nC,"getTrackRole");function rC(t,e,i,o,r,s){var l;let p=t[0],{audio_track:f}=p,m=[];return{mime_type:p.mime_type.split(";")[0],language:(l=p.language)!==null&&l!==void 0?l:void 0,codecs:Pw(t,m),audio_sample_rate:Nw(t,"audio_sample_rate",m),track_name:f==null?void 0:f.display_name,track_role:nC(p),channels:eC(t,m),representations:t.map(b=>oC(b,m,e,i,o,r,s))}}n(rC,"getAudioSet");var sC={BT709:"1",BT2020:"9"},Ew={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},aC={BT709:"1",BT2020_NCL:"14"};function uC(t){var e;let i=t.color_info,o,r,s;if(i&&(i.primaries&&(o=sC[i.primaries]),i.transfer_characteristics?r=Ew[i.transfer_characteristics]:!((e=Ue(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=Ew.BT709),i.matrix_coefficients&&(s=aC[i.matrix_coefficients],!s))){let p=new URL(t.url),f=JSON.parse(JSON.stringify(t));f.url="REDACTED",f.signature_cipher="REDACTED",f.cipher="REDACTED",W.warn(Q1,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${L.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,f)}return{primaries:o,transfer_characteristics:r,matrix_coefficients:s}}n(uC,"getColorInfo");function lC(t,e,i,o,r,s,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Ue(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:Rw(t,e,r,o,s,l)}}n(lC,"getVideoRepresentation");function cC(t,e,i,o,r,s){let l=t[0],p=uC(l),f=[];return{mime_type:l.mime_type.split(";")[0],color_info:p,codecs:Pw(t,f),fps:Nw(t,"fps",f),representations:t.map(_=>lC(_,e,f,i,o,r,s))}}n(cC,"getVideoSet");function dC(t){var e;let i=new Map,o=t.is(Ao)?t.boards:[t.board];for(let r of o){let s=new URL(r.template_url).pathname.split(".").pop(),l=`image/${s==="jpg"?"jpeg":s}`;i.has(l)||i.set(l,[]),(e=i.get(l))===null||e===void 0||e.push(r)}return i}n(dC,"getStoryboardInfo");function pC(t,e,i,o,r){return y(this,void 0,void 0,function*(){let s=e.template_url,l=i(new URL(s.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(l,{method:"HEAD",headers:gi});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(pC,"getStoryboardMimeType");function fC(t,e,i){return y(this,void 0,void 0,function*(){let o=e.template_url,r=[],s=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<s;m++){let _=new URL(o.replace("$M",m.toString())),b=m===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:gi});m===0&&(i.response=b),r.push(b)}let l=yield Promise.all(r),p=[];for(let m of l)p.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(fC,"getStoryboardBitrate");function mC(t,e,i,o,r){let s=i.template_url,l=new URL(s.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return fC(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:p,template_url:o(l).toString(),getURL(m){return l.toString().replace("$Number$",m.toString())}}}n(mC,"getImageRepresentation");function hC(t,e,i,o){let r=dC(i),s={};return Array.from(r.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return pC(e,p[0],o,l,s)},representations:p.map(f=>mC(t,e,f,o,s))}))}n(hC,"getImageSets");function iv(t,e=!1,i=f=>f,o,r,s,l,p){if(!t)throw new g("Streaming data not available");let f=o?t.adaptive_formats.filter(O=>!o(O)):t.adaptive_formats,m,_;if(e){if(_={},!l)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");m=n(()=>_?iC(_,f[0],i,l,s,r):Promise.resolve(0),"getDuration")}else{let O=f[0].approx_duration_ms/1e3;m=n(()=>Promise.resolve(O),"getDuration")}let{groups:b,has_multiple_audio_tracks:x}=Z1(f,e),{video_groups:T,audio_groups:k}=b.reduce((O,ae)=>ae[0].has_audio?(x&&!ae[0].audio_track||O.audio_groups.push(ae),O):(O.video_groups.push(ae),O),{video_groups:[],audio_groups:[]}),N=k.map(O=>rC(O,i,l,s,r,_)),A=T.map(O=>cC(O,i,s,l,r,_)),F=[];if(p&&l){let O;if(p.is(Ao))O=f[0].approx_duration_ms/1e3;else{let ae=f[0].target_duration_dec;if(typeof ae!="number")throw new g("Format is missing target_duration_dec",{format:f[0]});O=ae}F=hC(O,l,p,i)}return{getDuration:m,audio_sets:N,video_sets:A,image_sets:F}}n(iv,"getStreamingInfo");function _C({info:t}){return y(this,void 0,void 0,function*(){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=yield t.getSegmentTemplate();return me("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},me("segment-timeline",null,e.timeline.map(i=>me("s",{d:i.duration,r:i.repeat_count}))))})}n(_C,"OTFPostLiveDvrSegmentInfo");function Mw({info:t}){return t.is_oft||t.is_post_live_dvr?me(_C,{info:t}):me(Cw,null,me("base-url",null,t.base_url),me("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},me("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(Mw,"SegmentInfo");function vC({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:s,actions:l,storyboards:p}){return y(this,void 0,void 0,function*(){let{getDuration:f,audio_sets:m,video_sets:_,image_sets:b}=iv(t,e,i,o,r,s,l,p);return me("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield f()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},me("period",null,m.map((x,T)=>me("adaptation-set",{id:T,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:x.language,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate,contentType:"audio"},x.track_role&&me("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:x.track_role}),x.track_name&&me("label",{id:T},x.track_name),x.channels&&me("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),x.representations.map(k=>me("representation",{id:k.uid,bandwidth:k.bitrate,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate},k.channels&&me("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),me(Mw,{info:k.segment_info}))))),_.map((x,T)=>me("adaptation-set",{id:T+m.length,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:x.codecs,maxPlayoutRate:"1",frameRate:x.fps,contentType:"video"},x.color_info.primaries&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:x.color_info.primaries}),x.color_info.transfer_characteristics&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:x.color_info.transfer_characteristics}),x.color_info.matrix_coefficients&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:x.color_info.matrix_coefficients}),x.representations.map(k=>me("representation",{id:k.uid,bandwidth:k.bitrate,width:k.width,height:k.height,codecs:k.codecs,frameRate:k.fps},me(Mw,{info:k.segment_info}))))),b.map((x,T)=>y(this,void 0,void 0,function*(){return me("adaptation-set",{id:T+m.length+_.length,mimeType:yield x.getMimeType(),contentType:"image"},x.representations.map(k=>y(this,void 0,void 0,function*(){return me("representation",{id:`thumbnails_${k.thumbnail_width}x${k.thumbnail_height}`,bandwidth:yield k.getBitrate(),width:k.sheet_width,height:k.sheet_height},me("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${k.columns}x${k.rows}`}),me("segment-template",{media:k.template_url,duration:k.template_duration,startNumber:"0"}))})))}))))})}n(vC,"DashManifest");function Vw(t,e=!1,i=f=>f,o,r,s,l,p){if(!t)throw new g("Streaming data not available");return kw(me(vC,{streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:s,actions:l,storyboards:p}))}n(Vw,"toDash");function gC(t,e,i,o,r,s){return y(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Ow(l,o),f=p.decipher(r);if(l.type==="video+audio"&&!t.range){let N=yield e.session.http.fetch_function(`${f}&cpn=${s}`,{method:"GET",headers:gi,redirect:"follow"});if(!N.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:N});let A=N.body;if(!A)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:N});return A}let m=1048576*10,_=t.range?t.range.start:0,b=t.range?t.range.end:m,x=!1,T;return new L.shim.ReadableStream({start(){},pull:N=>y(this,void 0,void 0,function*(){if(x){N.close();return}return(b>=(p.content_length?p.content_length:0)||t.range)&&(x=!0),new Promise((A,F)=>y(this,void 0,void 0,function*(){var Q,O,ae,we;try{T=new AbortController;let $=yield e.session.http.fetch_function(`${f}&cpn=${s}&range=${_}-${b||""}`,{method:"GET",headers:Object.assign({},gi),signal:T.signal}),z=$.body;if(!z)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:$});try{for(var ke=!0,Ne=lw(Ey(z)),Oe;Oe=yield Ne.next(),Q=Oe.done,!Q;ke=!0){we=Oe.value,ke=!1;let Z=we;N.enqueue(Z)}}catch(Z){O={error:Z}}finally{try{!ke&&!Q&&(ae=Ne.return)&&(yield ae.call(Ne))}finally{if(O)throw O.error}}_=b+1,b+=m,A()}catch($){F($)}}))}),cancel(N){return y(this,void 0,void 0,function*(){T.abort(N)})}},{highWaterMark:1,size(N){return N.byteLength}})})}n(gC,"download");function Ow(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,s=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),m=l!=="best",_=i.filter(b=>o&&!b.has_audio||r&&!b.has_video||t.format!=="any"&&!b.mime_type.includes(t.format||"mp4")||!f&&b.quality_label!==l?!1:(p<b.width&&(p=b.width),!0));if(!_.length)throw new g("No matching formats found",{options:t});if(f&&r&&(_=_.filter(b=>b.width===p)),o&&!r){let b=_.filter(x=>s!=="original"?!x.has_video&&x.language===s:!x.has_video&&x.is_original);b.length>0&&(_=b)}return m?_.sort((b,x)=>b.bitrate-x.bitrate):_.sort((b,x)=>x.bitrate-b.bitrate),_[0]}n(Ow,"chooseFormat");var Py,Vt,lr,qu,Dw,ov=class{constructor(e,i,o){Py.add(this),Vt.set(this,void 0),lr.set(this,void 0),qu.set(this,void 0),I(this,Vt,e,"f"),I(this,lr,i,"f"),I(this,qu,o||L.shim.fetch,"f")}get fetch_function(){return d(this,qu,"f")}fetch(e,i){return y(this,void 0,void 0,function*(){let o=st.API.PRODUCTION_1+d(this,Vt,"f").api_version,r=(i==null?void 0:i.baseURL)||o,s=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),l=(i==null?void 0:i.headers)||(e instanceof L.shim.Request?e.headers:new L.shim.Headers)||new L.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof L.shim.Request?e.body:void 0),f=new L.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,Vt,"f").context.client.visitorData||""),f.set("X-Origin",s.origin),f.set("X-Youtube-Client-Version",d(this,Vt,"f").context.client.clientVersion||""),L.shim.server&&(f.set("User-Agent",Mo("desktop")),f.set("origin",s.origin)),s.searchParams.set("key",d(this,Vt,"f").key),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,b=!1,x=r===o||r===st.YT_UPLOAD;if(m==="application/json"&&x&&typeof p=="string"){let N=JSON.parse(p),A=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(d(this,Vt,"f").context))});d(this,Py,"m",Dw).call(this,A.context,A.client),f.set("x-youtube-client-version",A.context.client.clientVersion),delete A.client,L.shim.server&&(A.context.client.clientName==="ANDROID"||A.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",de.ANDROID.USER_AGENT):A.context.client.clientName==="iOS"&&f.set("User-Agent",de.iOS.USER_AGENT)),b=A.context.client.clientName==="WEB_KIDS",_=JSON.stringify(A)}if(d(this,Vt,"f").logged_in&&x&&!b){let N=d(this,Vt,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),s.searchParams.delete("key")),d(this,lr,"f")){let A=Ue(d(this,lr,"f"),"PAPISID=",";");A&&(f.set("authorization",yield Ay(A)),f.set("x-goog-authuser",d(this,Vt,"f").account_index.toString())),f.set("cookie",d(this,lr,"f"))}}let T=new L.shim.Request(s,e instanceof L.shim.Request?e:i),k=yield d(this,qu,"f").call(this,T,{body:_,headers:f,credentials:"include",redirect:e instanceof L.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(k.ok)return k;throw new g(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};n(ov,"HTTPClient");Vt=new WeakMap,lr=new WeakMap,qu=new WeakMap,Py=new WeakSet,Dw=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=de.ANDROID.SDK_VERSION,e.client.userAgent=de.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=de.iOS.DEVICE_MODEL,e.client.clientVersion=de.iOS.VERSION,e.client.clientName=de.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=de.YTMUSIC.VERSION,e.client.clientName=de.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=de.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=de.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=de.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=de.TV_EMBEDDED.NAME,e.client.clientVersion=de.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:st.YT_BASE};break;case"YTKIDS":e.client.clientVersion=de.WEB_KIDS.VERSION,e.client.clientName=de.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Ny=ov;var Wi=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return W.warnOnce(Wi.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return W.warnOnce(Wi.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(Wi,"Channel");Wi.type="Channel";var nv=Wi;var Hi=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new v(r.navigationEndpoint),icon:w.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=c.parseArray(e.actionButtons,S)}get views(){return W.warnOnce(Hi.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return W.warnOnce(Hi.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(Hi,"ChannelAboutFullMetadata");Hi.type="ChannelAboutFullMetadata";var Xu=Hi;var Qu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,S),this.secondary_text=new u(e.secondaryText)}};n(Qu,"ChannelAgeGate");Qu.type="ChannelAgeGate";var Lw=Qu;var Zu=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items)}};n(Zu,"ChannelFeaturedContent");Zu.type="ChannelFeaturedContent";var Bw=Zu;var el=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(el,"ChannelMetadata");el.type="ChannelMetadata";var rv=el;var tl=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(tl,"ChannelMobileHeader");tl.type="ChannelMobileHeader";var Fw=tl;var il=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(il,"ChannelOptions");il.type="ChannelOptions";var sv=il;var ol=class extends a{constructor(e){super(),this.illustration=w.fromResponse(e.illustration),this.description=new u(e.description)}};n(ol,"ChannelOwnerEmptyState");ol.type="ChannelOwnerEmptyState";var Yw=ol;var nl=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(nl,"ChannelSubMenu");nl.type="ChannelSubMenu";var rl=nl;var sl=class extends a{constructor(e){var i,o;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(sl,"ChannelThumbnailWithLink");sl.type="ChannelThumbnailWithLink";var jw=sl;var Ji=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return W.warnOnce(Ji.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return W.warnOnce(Ji.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(Ji,"ChannelVideoPlayer");Ji.type="ChannelVideoPlayer";var Uw=Ji;var al=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};n(al,"Chapter");al.type="Chapter";var av=al;var ul=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:je(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(ul,"ChildVideo");ul.type="ChildVideo";var Ww=ul;var ll=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(ll,"ChipCloudChip");ll.type="ChipCloudChip";var ge=ll;var cl=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,ge),this.next_button=c.parseItem(e.nextButton,S),this.previous_button=c.parseItem(e.previousButton,S),this.horizontal_scrollable=e.horizontalScrollable}};n(cl,"ChipCloud");cl.type="ChipCloud";var ft=cl;var dl=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(dl,"CollaboratorInfoCardContent");dl.type="CollaboratorInfoCardContent";var Hw=dl;var pl=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(pl,"CollageHeroImage");pl.type="CollageHeroImage";var Jw=pl;var fl=class extends a{constructor(e){super(),this.endpoint=new v(e)}};n(fl,"Command");fl.type="Command";var Gw=fl;var uv,ml=class extends a{constructor(e){super(),uv.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,uv,e,"f")}get orig_badge(){return d(this,uv,"f")}};n(ml,"AuthorCommentBadge");uv=new WeakMap;ml.type="AuthorCommentBadge";var lv=ml;var hl=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(hl,"CommentReplyDialog");hl.type="CommentReplyDialog";var cv=hl;var _l=class extends a{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(_l,"PdgCommentChip");_l.type="PdgCommentChip";var dv=_l;var vl=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(vl,"SponsorCommentBadge");vl.type="SponsorCommentBadge";var pv=vl;var Ot={};D(Ot,{decodeVisitorData:()=>jy,encodeChannelAnalyticsParams:()=>Uy,encodeCommentActionParams:()=>gl,encodeCommentParams:()=>zy,encodeCommentsSectionParams:()=>Gy,encodeCustomThumbnailPayload:()=>qy,encodeHashtag:()=>Xy,encodeMessageParams:()=>Jy,encodeMusicSearchFilters:()=>Hy,encodeNotificationPref:()=>$y,encodeReelSequence:()=>Qy,encodeSearchFilters:()=>Wy,encodeVideoMetadataPayload:()=>Ky,encodeVisitorData:()=>Yy});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var U=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+mv(My(this),fv).toString(!1);let r=[],s=new U(i,o);for(;bC(s,xC);){let[l,p]=yC(s);r.push(p),s=l}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new U(0);if(e.length<10)return i<0?mv(My(new U(-i)),fv):new U(i);let r=new U,s=fv;for(let l of e.split("").reverse())parseInt(l)&&(r=mv(r,zw(new U(parseInt(l)),s))),s=zw(s,new U(10));return o?mv(My(r),fv):r}};n(U,"Long");var xC=new U(0),fv=new U(1);function hv(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(hv,"makeChunk");function mv(t,e){let[i,o,r,s]=hv(t),[l,p,f,m]=hv(e),_=0,b=0,x=0,T=0;return T+=i+l,x+=T>>>16,T&=65535,x+=o+p,b+=x>>>16,x&=65535,b+=r+f,_+=b>>>16,b&=65535,_+=s+m,_&=65535,new U(x<<16|T,_<<16|b)}n(mv,"add");function zw(t,e){let[i,o,r,s]=hv(t),[l,p,f,m]=hv(e),_=0,b=0,x=0,T=0;return T+=i*l,x+=T>>>16,T&=65535,x+=i*p+o*l,b+=x>>>16,x&=65535,b+=i*f+r*l+o*p,_+=b>>>16,b&=65535,_+=i*m+o*f+r*p+s*l,_&=65535,new U(x<<16|T,_<<16|b)}n(zw,"mul");function yC(t){let[e,i]=t;return[new U((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(yC,"divByTen");function bC(t,e){let[i,o]=t,[r,s]=e;return o!==s?o-s:i-r}n(bC,"compare");function My(t){let[e,i]=t;return new U(~e,~i)}n(My,"negate");function cr(t){let e=[],r=typeof t=="number"?new U(t):t;for(;r[0]||r[1];){let[s,l]=r,p=s&127,f=l>>>7,m=s>>>7|(l&127)<<32-7;r=new U(m,f);let _=r[0]||r[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(cr,"encode");function dr(t){let e=new U(0),i=0;for(;;){let o=t.getUint8(i);if(e=wC(e,TC(new U(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(dr,"decode");function wC(t,e){return new U(t[0]|e[0],t[1]|e[1])}n(wC,"or");function TC(t,e){return e===0?t:e>=32?new U(0,t[0]<<e-32):new U(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(TC,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(cr(i<<3|o.type)),o.type){case E.Varint:e.push(cr(o.value));break;case E.Fixed64:{let r=new Uint8Array(8),s=new DataView(r.buffer);s.setUint32(0,o.value[0],!0),s.setUint32(4,o.value[1],!0),e.push(r);break}case E.LengthDelimited:e.push(cr(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),Vy(e)}n(P,"serialize");function Vy(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(Vy,"concat");function Oy(t){if(t instanceof U){let e=new U(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(Oy,"encode");function Dy(t){if(t instanceof U){let e=new U(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(Dy,"decode");var Ly={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>Dy(t[0]),sint64:t=>Dy(t).toString(!0),bool:t=>t[0]!==0},By={int32:t=>new U(t),int64:t=>U.parse(t),uint32:t=>new U(t),uint64:t=>U.parse(t),sint32:t=>Oy(new U(t)),sint64:t=>Oy(U.parse(t)),bool:t=>new U(+t)},IC=Object.fromEntries(Object.entries(Ly).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),SC=Object.fromEntries(Object.entries(By).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),J=Object.assign(Object.assign({},IC),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},SC),{double:t=>{let e=new U;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:U.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:U.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),kC=Object.fromEntries(Object.keys(Ly).map(t=>[t,function*(e){for(let i of e){let o=J[t](i);if(o!=null)yield o;else for(let r of NC(i))yield Ly[t](r)}}])),KB=Object.assign(Object.assign({},kC),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*EC(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*PC(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let o of $w(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let o of Kw(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let o of $w(e))yield o|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let o of Kw(e))yield o.toString(!0)}}}),CC=Object.fromEntries(Object.keys(By).map(t=>[t,function(e){return{type:E.LengthDelimited,value:Vy(e.map(i=>{let o=By[t](i);return cr(o)}))}}]));function pr(t,e){return n(function(o){let r=new Uint8Array(o.length*t),s=new DataView(r.buffer);for(let l=0;l<o.length;++l)e(s,l*t,o[l]);return{type:E.LengthDelimited,value:r}},"pack")}n(pr,"getFixedPackFn");var qB=Object.assign(Object.assign({},CC),{double:pr(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:pr(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:pr(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:pr(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:pr(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:pr(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*EC(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(EC,"unpackDouble");function*PC(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(PC,"unpackFloat");function*NC(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=dr(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(NC,"unpackVarint");function*$w(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n($w,"unpackFixed32");function*Kw(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let s=o.getUint32(i,!0);i+=4,yield new U(r,s)}}n(Kw,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let s=dr(new DataView(t.buffer,i+e)),l=s[1][0];e+=s[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[b,x]=dr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:x}]),e+=b;break}case E.Fixed64:let m=r.getUint32(e,!0),_=r.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new U(m,_)}]);break;case E.LengthDelimited:{let[b,x]=dr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=b,e+=x[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([f,{type:p}]);break;case E.Fixed32:o.push([f,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(G,"deserialize");function AC(){return{id:"",timestamp:0}}n(AC,"getDefaultValue");function qw(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return P(e)}n(qw,"encodeBinary");function Xw(t){let e=AC(),i=G(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let s=J.string(r);if(s===void 0)break e;e.id=s}e:{let r=o.get(5);if(r===void 0)break e;let s=J.int32(r);if(s===void 0)break e;e.timestamp=s}return e}n(Xw,"decodeBinary");function Qw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return P(e)}n(Qw,"encodeBinary");function Zw(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:Qw(i)}])}return P(e)}n(Zw,"encodeBinary");function eT(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return P(e)}n(eT,"encodeBinary");function tT(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:eT(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return P(e)}n(tT,"encodeBinary");function iT(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return P(e)}n(iT,"encodeBinary");function oT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:iT(i)}])}return P(e)}n(oT,"encodeBinary");function nT(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:oT(i)}])}return P(e)}n(nT,"encodeBinary");function rT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}n(rT,"encodeBinary");function sT(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:rT(i)}])}return P(e)}n(sT,"encodeBinary");function aT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:sT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return P(e)}n(aT,"encodeBinary");function uT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}n(uT,"encodeBinary");function lT(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return P(e)}n(lT,"encodeBinary");function cT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:lT(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return P(e)}n(cT,"encodeBinary");function dT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return P(e)}n(dT,"encodeBinary");function pT(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:cT(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:dT(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return P(e)}n(pT,"encodeBinary");function fT(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:uT(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:pT(i)}])}return P(e)}n(fT,"encodeBinary");function mT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}n(mT,"encodeBinary");function hT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:mT(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return P(e)}n(hT,"encodeBinary");function _T(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(_T,"encodeBinary");function vT(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:_T(i)}])}return P(e)}n(vT,"encodeBinary");function gT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:vT(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return P(e)}n(gT,"encodeBinary");function xT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:gT(i)}])}return P(e)}n(xT,"encodeBinary");function yT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}n(yT,"encodeBinary");function bT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:yT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return P(e)}n(bT,"encodeBinary");function wT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return P(e)}n(wT,"encodeBinary");function TT(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:wT(i)}])}return P(e)}n(TT,"encodeBinary");function IT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(IT,"encodeBinary");function ST(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(ST,"encodeBinary");function kT(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return P(e)}n(kT,"encodeBinary");function CT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return P(e)}n(CT,"encodeBinary");function ET(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return P(e)}n(ET,"encodeBinary");function PT(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return P(e)}n(PT,"encodeBinary");function NT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:PT(i)}])}return P(e)}n(NT,"encodeBinary");function AT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return P(e)}n(AT,"encodeBinary");function RT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}n(RT,"encodeBinary");function MT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}n(MT,"encodeBinary");function Fy(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:TT(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:IT(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:ST(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:kT(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:CT(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:ET(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:NT(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:AT(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:RT(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:MT(i)}])}return P(e)}n(Fy,"encodeBinary");function VT(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return P(e)}n(VT,"encodeBinary");function OT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:VT(i)}])}return P(e)}n(OT,"encodeBinary");function DT(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return P(e)}n(DT,"encodeBinary");function LT(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:DT(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return P(e)}n(LT,"encodeBinary");function Yy(t,e){let i=qw({id:t,timestamp:e});return encodeURIComponent(mt(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(Yy,"encodeVisitorData");function jy(t){return Xw(Zy(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(jy,"decodeVisitorData");function Uy(t){let e=Zw({params:{channelId:t}});return encodeURIComponent(mt(e))}n(Uy,"encodeChannelAnalyticsParams");function Wy(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},s={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=r[t.sort_by]),t.features))for(let f of t.features)l.filters[s[f]]=1;let p=tT(l);return encodeURIComponent(mt(p))}n(Wy,"encodeSearchFilters");function Hy(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=nT(i);return encodeURIComponent(mt(o))}n(Hy,"encodeMusicSearchFilters");function Jy(t,e){let i=aT({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(mt(i)))}n(Jy,"encodeMessageParams");function Gy(t,e={}){let o=fT({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(mt(o))}n(Gy,"encodeCommentsSectionParams");function zy(t){let e=hT({videoId:t,params:{index:0},number:7});return encodeURIComponent(mt(e))}n(zy,"encodeCommentParams");function gl(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=xT(i);return encodeURIComponent(mt(o))}n(gl,"encodeCommentActionParams");function $y(t,e){let i=bT({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(mt(i))}n($y,"encodeNotificationPref");function Ky(t,e){let i={context:{client:{unkparam:14,clientName:de.ANDROID.NAME,clientVersion:de.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Fy(i)}n(Ky,"encodeVideoMetadataPayload");function qy(t,e){let i={context:{client:{unkparam:14,clientName:de.ANDROID.NAME,clientVersion:de.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return Fy(i)}n(qy,"encodeCustomThumbnailPayload");function Xy(t){let e=OT({params:{hashtag:t,type:1}});return encodeURIComponent(mt(e))}n(Xy,"encodeHashtag");function Qy(t){let e=LT({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(mt(e))}n(Qy,"encodeReelSequence");var Dt,xl=class extends a{constructor(e){var i,o,r,s,l,p,f;super(),Dt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,pv),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,dv),this.author_badge=c.parseItem(e.authorCommentBadge,lv),this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,j),this.action_buttons=c.parseItem(e.actionButtons,Zn),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((l=(s=this.action_buttons)===null||s===void 0?void 0:s.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return y(this,void 0,void 0,function*(){if(!d(this,Dt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new g("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Dt,"f"),{parse:!1})})}dislike(){var e;return y(this,void 0,void 0,function*(){if(!d(this,Dt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new g("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Dt,"f"),{parse:!1})})}reply(e){var i,o,r;return y(this,void 0,void 0,function*(){if(!d(this,Dt,"f"))throw new g("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new g("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=s.endpoint)===null||r===void 0)&&r.dialog))throw new g("Reply button endpoint did not have a dialog.");let p=s.endpoint.dialog.as(cv).reply_button;if(!p)throw new g("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new g("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Dt,"f"),{commentText:e})})}translate(e){var i,o,r,s,l,p;return y(this,void 0,void 0,function*(){if(!d(this,Dt,"f"))throw new g("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=gl(22,m),b=yield d(this,Dt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),x=(o=(i=b.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(l=(s=(r=x==null?void 0:x[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},b),{content:T})})}setActions(e){I(this,Dt,e,"f")}};n(xl,"Comment");Dt=new WeakMap;xl.type="Comment";var fr=xl;var yl=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(yl,"EmojiPicker");yl.type="EmojiPicker";var _v=yl;var bl=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.placeholder=new u(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,S),this.emoji_picker=c.parseItem(e.emojiPicker,_v)}};n(bl,"CommentDialog");bl.type="CommentDialog";var BT=bl;var wl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,S),this.hide_replies=c.parseItem(e.hideReplies,S),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(wl,"CommentReplies");wl.type="CommentReplies";var vv=wl;var Tl=class extends a{constructor(e){super(),this.simplebox_avatar=w.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(Tl,"CommentsSimplebox");Tl.type="CommentsSimplebox";var gv=Tl;var Il=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(Il,"CommentsEntryPointTeaser");Il.type="CommentsEntryPointTeaser";var xv=Il;var Sl=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[xv,gv])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(Sl,"CommentsEntryPointHeader");Sl.type="CommentsEntryPointHeader";var yv=Sl;var kl=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,Mt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(kl,"CommentsHeader");kl.type="CommentsHeader";var Gi=kl;var Cl=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(Cl,"CommentSimplebox");Cl.type="CommentSimplebox";var bv=Cl;var xi,Vo,El=class extends a{constructor(e){super(),xi.set(this,void 0),Vo.set(this,void 0),this.comment=c.parseItem(e.comment,fr),this.comment_replies_data=c.parseItem(e.replies,vv),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return y(this,void 0,void 0,function*(){if(!d(this,xi,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(he);if(!i)throw new g("Replies continuation not found.");let o=yield i.endpoint.call(d(this,xi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=ue(o.on_response_received_endpoints_memo.getType(fr).map(r=>(r.setActions(d(this,xi,"f")),r))),I(this,Vo,o==null?void 0:o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Vo,"f"))throw new g("Continuation not found.");if(!d(this,xi,"f"))throw new g("Actions instance not set for this thread.");let i=(e=d(this,Vo,"f").button)===null||e===void 0?void 0:e.as(S);if(!i)throw new g('"Load more" button not found.');let o=yield i.endpoint.call(d(this,xi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=ue(o.on_response_received_endpoints_memo.getType(fr).map(r=>(r.setActions(d(this,xi,"f")),r))),I(this,Vo,o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Vo,"f")}setActions(e){I(this,xi,e,"f")}};n(El,"CommentThread");xi=new WeakMap,Vo=new WeakMap;El.type="CommentThread";var wv=El;var Pl=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,j)}};n(Pl,"CompactChannel");Pl.type="CompactChannel";var FT=Pl;var Nl=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(Nl,"CompactLink");Nl.type="CompactLink";var mr=Nl;var Al=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Al,"PlaylistCustomThumbnail");Al.type="PlaylistCustomThumbnail";var hr=Al;var Rl=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Rl,"PlaylistVideoThumbnail");Rl.type="PlaylistVideoThumbnail";var _r=Rl;var Ml=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new M(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[_r,hr])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(Ml,"Playlist");Ml.type="Playlist";var ei=Ml;var Vl=class extends ei{constructor(e){super(e)}};n(Vl,"CompactMix");Vl.type="CompactMix";var YT=Vl;var Ol=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(s=>s.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:je(r)},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,j)}};n(Ol,"CompactMovie");Ol.type="CompactMovie";var jT=Ol;var Dl=class extends ei{constructor(e){super(e)}};n(Dl,"CompactPlaylist");Dl.type="CompactPlaylist";var UT=Dl;var Ll=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Ll,"CompactStation");Ll.type="CompactStation";var WT=Ll;var Bl=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=c.parseItem(e.confirmButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Bl,"ConfirmDialog");Bl.type="ConfirmDialog";var HT=Bl;var Fl=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>({metadata_parts:i.metadataParts.map(o=>({text:u.fromAttributed(o.text)}))})),this.delimiter=e.delimiter}};n(Fl,"ContentMetadataView");Fl.type="ContentMetadataView";var Tv=Fl;var Yl=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Yl,"Message");Yl.type="Message";var $e=Yl;var jl=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,$e)}};n(jl,"ConversationBar");jl.type="ConversationBar";var JT=jl;var Ul=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,S),this.short_url=e.shortUrl,this.style=e.style}};n(Ul,"CopyLink");Ul.type="CopyLink";var Iv=Ul;var Wl=class extends a{constructor(e){var i,o;super(),this.avatar=c.parseItem(e.avatar,w_),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};n(Wl,"DecoratedAvatarView");Wl.type="DecoratedAvatarView";var Sv=Wl;var Hl=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Hl,"HeatMarker");Hl.type="HeatMarker";var kv=Hl;var Jl=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,kv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(Jl,"Heatmap");Jl.type="Heatmap";var Cv=Jl;var Gl=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,Cv)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,av)))}};n(Gl,"Marker");Gl.type="Marker";var zl=class extends a{constructor(e){var i;super(),this.markers_map=ue(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Gl(o)))||[])}};n(zl,"MultiMarkersPlayerBar");zl.type="MultiMarkersPlayerBar";var Ev=zl;var $l=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,Ev),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,S)}};n($l,"DecoratedPlayerBar");$l.type="DecoratedPlayerBar";var Pv=$l;var Kl=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Kl,"DefaultPromoPanel");Kl.type="DefaultPromoPanel";var GT=Kl;var ql=class extends a{constructor(e){var i,o,r,s,l,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let f=(p=(l=(s=e.rendererContext.commandContext)===null||s===void 0?void 0:s.onTap)===null||l===void 0?void 0:l.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:c.parseItem(f.engagementPanel,ji),engagement_panel_popup_type:f.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:f.identifier.surface,tag:f.identifier.tag}}}}}};n(ql,"DescriptionPreviewView");ql.type="DescriptionPreviewView";var Nv=ql;var Xl=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Xl,"DidYouMean");Xl.type="DidYouMean";var Av=Xl;var Ql=class extends a{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,ko),this.toggled_button=c.parseItem(e.toggledButtonViewModel,ko),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Ql,"ToggleButtonView");Ql.type="ToggleButtonView";var vr=Ql;var Zl=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,vr),this.dislike_entity_key=e.dislikeEntityKey}};n(Zl,"DislikeButtonView");Zl.type="DislikeButtonView";var Rv=Zl;var ec=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(ec,"DownloadButton");ec.type="DownloadButton";var zT=ec;var tc=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(tc,"DynamicTextView");tc.type="DynamicTextView";var Mv=tc;var Oo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Oo(o)))}};n(Oo,"ChildElement");Oo.type="ChildElement";var Vv=Oo;var Do=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,Do);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ue(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new Vv(r)))||[]))}};n(Do,"Element");Do.type="Element";var gr=Do;var ic=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,j)}};n(ic,"EmergencyOnebox");ic.type="EmergencyOnebox";var $T=ic;var oc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(oc,"EmojiPickerCategory");oc.type="EmojiPickerCategory";var KT=oc;var nc=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(nc,"EmojiPickerCategoryButton");nc.type="EmojiPickerCategoryButton";var qT=nc;var rc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(rc,"EmojiPickerUpsellCategory");rc.type="EmojiPickerUpsellCategory";var XT=rc;var sc=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(sc,"Endscreen");sc.type="Endscreen";var Ov=sc;var ac=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(ac,"EndscreenElement");ac.type="EndscreenElement";var QT=ac;var uc=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(uc,"EndScreenPlaylist");uc.type="EndScreenPlaylist";var Dv=uc;var lc=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(lc,"EndScreenVideo");lc.type="EndScreenVideo";var Lv=lc;var cc=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(cc,"ExpandableTab");cc.type="ExpandableTab";var xr=cc;var dc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(dc,"ExpandedShelfContents");dc.type="ExpandedShelfContents";var ZT=dc;var pc=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(pc,"FancyDismissibleDialog");pc.type="FancyDismissibleDialog";var eI=pc;var fc=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,ge)}};n(fc,"FeedFilterChipBar");fc.type="FeedFilterChipBar";var yi=fc;var mc=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(mc,"FeedNudge");mc.type="FeedNudge";var tI=mc;var hc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(hc,"FeedTabbedHeader");hc.type="FeedTabbedHeader";var Bv=hc;var _c=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,ko)})),this.style=e.style}};n(_c,"FlexibleActionsView");_c.type="FlexibleActionsView";var Fv=_c;var vc=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(vc,"GameDetails");vc.type="GameDetails";var iI=vc;var gc=class extends a{constructor(e){var i,o,r;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(gc,"Grid");gc.type="Grid";var Lo=gc;var xc=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(xc,"GridChannel");xc.type="GridChannel";var Yv=xc;var yc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(yc,"GridHeader");yc.type="GridHeader";var oI=yc;var bc=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(bc,"GridMix");bc.type="GridMix";var nI=bc;var wc=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges,at),this.metadata=new u(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(wc,"GridMovie");wc.type="GridMovie";var rI=wc;var Tc=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new M(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(Tc,"GridPlaylist");Tc.type="GridPlaylist";var jv=Tc;var Ic=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Ic,"ShowCustomThumbnail");Ic.type="ShowCustomThumbnail";var Uv=Ic;var Sc=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Sc,"ThumbnailOverlayBottomPanel");Sc.type="ThumbnailOverlayBottomPanel";var Wv=Sc;var kc=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=se(e.thumbnailRenderer,Uv),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ke(e.thumbnailOverlays,Wv),this.author=new M(e.shortBylineText,void 0)}};n(kc,"GridShow");kc.type="GridShow";var sI=kc;var Cc=class extends a{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new M(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Cc,"GridVideo");Cc.type="GridVideo";var Hv=Cc;var Ec=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Ec,"GuideEntry");Ec.type="GuideEntry";var Bo=Ec;var Pc=class extends a{constructor(e){super(),this.expander_item=se(e.expanderItem,Bo),this.collapser_item=se(e.collapserItem,Bo),this.expandable_items=Ke(e.expandableItems)}};n(Pc,"GuideCollapsibleEntry");Pc.type="GuideCollapsibleEntry";var aI=Pc;var Nc=class extends a{constructor(e){super(),this.header_entry=se(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ke(e.sectionItems)}};n(Nc,"GuideCollapsibleSectionEntry");Nc.type="GuideCollapsibleSectionEntry";var uI=Nc;var Ac=class extends Bo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Ac,"GuideDownloadsEntry");Ac.type="GuideDownloadsEntry";var lI=Ac;var Rc=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ke(e.items)}};n(Rc,"GuideSection");Rc.type="GuideSection";var yr=Rc;var Mc=class extends yr{};n(Mc,"GuideSubscriptionsSection");Mc.type="GuideSubscriptionsSection";var Jv=Mc;var Vc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(Vc,"HashtagHeader");Vc.type="HashtagHeader";var Gv=Vc;var Oc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=w.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(Oc,"HashtagTile");Oc.type="HashtagTile";var cI=Oc;var Dc=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(Dc,"HeroPlaylistThumbnail");Dc.type="HeroPlaylistThumbnail";var dI=Dc;var Lc=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:w.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:w.fromResponse(e.backgroundImage.image),gradient_image:w.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(Lc,"Panel");Lc.type="Panel";var Bc=class extends a{constructor(e){super(),this.panels=ue(e.highlightsCarousel.panels.map(i=>new Lc(i)))}};n(Bc,"HighlightsCarousel");Bc.type="HighlightsCarousel";var Fc=Bc;var Yc=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(Yc,"SearchSuggestion");Yc.type="SearchSuggestion";var zv=Yc;var jc=class extends zv{constructor(e){super(e)}};n(jc,"HistorySuggestion");jc.type="HistorySuggestion";var pI=jc;var Uc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,S),this.next_button=c.parseItem(e.nextButton,S)}get contents(){return this.items}};n(Uc,"HorizontalMovieList");Uc.type="HorizontalMovieList";var fI=Uc;var Wc=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(Wc,"IconLink");Wc.type="IconLink";var $v=Wc;var Hc=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(Hc,"ImageBannerView");Hc.type="ImageBannerView";var Kv=Hc;var Jc=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(Jc,"IncludingResultsFor");Jc.type="IncludingResultsFor";var mI=Jc;var Gc=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(Gc,"InfoPanelContent");Gc.type="InfoPanelContent";var qv=Gc;var zc=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=c.parseItem(e.menu,j),this.content=c.parseItem(e.content,qv),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(zc,"InfoPanelContainer");zc.type="InfoPanelContainer";var Xv=zc;var $c=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=c.parseArray(e.badges,at),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[ze,S]),this.auto_generated=new u(e.autoGenerated)}};n($c,"InteractiveTabbedHeader");$c.type="InteractiveTabbedHeader";var Qv=$c;var Kc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Kc,"ItemSectionHeader");Kc.type="ItemSectionHeader";var br=Kc;var qc=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(qc,"ItemSectionTab");qc.type="Tab";var Zv=qc;var Xc=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=c.parseArray(e.tabs,Zv),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(Xc,"ItemSectionTabbedHeader");Xc.type="ItemSectionTabbedHeader";var wr=Xc;var Qc=class extends a{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,Fo.SortFilterSubMenu)}};n(Qc,"SortFilterHeader");Qc.type="SortFilterHeader";var e0=Qc;var Zc=class extends a{constructor(e){var i,o,r;super(),this.header=c.parseItem(e.header,[Gi,br,wr,e0]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Zc,"ItemSection");Zc.type="ItemSection";var xe=Zc;var ed=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(ed,"LikeButton");ed.type="LikeButton";var t0=ed;var td=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,vr),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(td,"LikeButtonView");td.type="LikeButtonView";var i0=td;var id=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(id,"LiveChat");id.type="LiveChat";var o0=id;var od=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(od,"LiveChatBannerHeader");od.type="LiveChatBannerHeader";var n0=od;var nd=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,n0),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(nd,"LiveChatBanner");nd.type="LiveChatBanner";var r0=nd;var rd=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,r0)}};n(rd,"AddBannerToLiveChatCommand");rd.type="AddBannerToLiveChatCommand";var hI=rd;var sd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(sd,"AddChatItemAction");sd.type="AddChatItemAction";var s0=sd;var ad=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(ad,"AddLiveChatTickerItemAction");ad.type="AddLiveChatTickerItemAction";var _I=ad;var ud=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(ud,"DimChatItemAction");ud.type="DimChatItemAction";var vI=ud;var ld=class extends a{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,S),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(ld,"LiveChatAutoModMessage");ld.type="LiveChatAutoModMessage";var gI=ld;var cd=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(cd,"LiveChatBannerPoll");cd.type="LiveChatBannerPoll";var xI=cd;var dd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(dd,"LiveChatMembershipItem");dd.type="LiveChatMembershipItem";var yI=dd;var pd=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(pd,"LiveChatPaidMessage");pd.type="LiveChatPaidMessage";var bI=pd;var fd=class extends a{constructor(e){super(),this.id=e.id,this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(fd,"LiveChatPaidSticker");fd.type="LiveChatPaidSticker";var wI=fd;var md=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(md,"LiveChatPlaceholderItem");md.type="LiveChatPlaceholderItem";var TI=md;var hd=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(hd,"LiveChatProductItem");hd.type="LiveChatProductItem";var II=hd;var _d=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(_d,"LiveChatRestrictedParticipation");_d.type="LiveChatRestrictedParticipation";var SI=_d;var Yo=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,S),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Yo,"LiveChatMessageBase");Yo.type="LiveChatMessageBase";var vd=class extends Yo{constructor(e){super(e),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(vd,"LiveChatTextMessage");vd.type="LiveChatTextMessage";var kI=vd;var gd=class extends a{constructor(e){var i,o;super(),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(gd,"LiveChatTickerPaidMessageItem");gd.type="LiveChatTickerPaidMessageItem";var a0=gd;var xd=class extends a0{};n(xd,"LiveChatTickerPaidStickerItem");xd.type="LiveChatTickerPaidStickerItem";var CI=xd;var yd=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new M(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(yd,"LiveChatTickerSponsorItem");yd.type="LiveChatTickerSponsorItem";var EI=yd;var bd=class extends Yo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(bd,"LiveChatViewerEngagementMessage");bd.type="LiveChatViewerEngagementMessage";var PI=bd;var wd=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(wd,"PollHeader");wd.type="PollHeader";var NI=wd;var Td=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(Td,"LiveChatActionPanel");Td.type="LiveChatActionPanel";var u0=Td;var Id=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Id,"MarkChatItemAsDeletedAction");Id.type="MarkChatItemAsDeletedAction";var AI=Id;var Sd=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Sd,"MarkChatItemsByAuthorAsDeletedAction");Sd.type="MarkChatItemsByAuthorAsDeletedAction";var RI=Sd;var kd=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(kd,"RemoveBannerForLiveChatCommand");kd.type="RemoveBannerForLiveChatCommand";var MI=kd;var Cd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Cd,"RemoveChatItemAction");Cd.type="RemoveChatItemAction";var VI=Cd;var Ed=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Ed,"RemoveChatItemByAuthorAction");Ed.type="RemoveChatItemByAuthorAction";var OI=Ed;var Pd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(Pd,"ReplaceChatItemAction");Pd.type="ReplaceChatItemAction";var DI=Pd;var Nd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Nd,"ReplayChatItemAction");Nd.type="ReplayChatItemAction";var LI=Nd;var Ad=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,u0)}};n(Ad,"ShowLiveChatActionPanelAction");Ad.type="ShowLiveChatActionPanelAction";var BI=Ad;var Rd=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(Rd,"ShowLiveChatDialogAction");Rd.type="ShowLiveChatDialogAction";var FI=Rd;var Md=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(Md,"ShowLiveChatTooltipCommand");Md.type="ShowLiveChatTooltipCommand";var YI=Md;var Vd=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(Vd,"UpdateDateTextAction");Vd.type="UpdateDateTextAction";var l0=Vd;var Od=class extends a{constructor(e){super(),this.description=new u(e.description)}};n(Od,"UpdateDescriptionAction");Od.type="UpdateDescriptionAction";var c0=Od;var Dd=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(Dd,"UpdateLiveChatPollAction");Dd.type="UpdateLiveChatPollAction";var jI=Dd;var Ld=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Ld,"UpdateTitleAction");Ld.type="UpdateTitleAction";var d0=Ld;var Bd=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(Bd,"UpdateToggleButtonTextAction");Bd.type="UpdateToggleButtonTextAction";var p0=Bd;var Fd=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(Fd,"UpdateViewershipAction");Fd.type="UpdateViewershipAction";var f0=Fd;var Yd=class extends at{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};n(Yd,"LiveChatAuthorBadge");Yd.type="LiveChatAuthorBadge";var UI=Yd;var jd=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,S),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(jd,"LiveChatDialog");jd.type="LiveChatDialog";var WI=jd;var Ud=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,j),this.collapse_button=c.parseItem(e.collapseButton,S),this.view_selector=c.parseItem(e.viewSelector,Mt)}};n(Ud,"LiveChatHeader");Ud.type="LiveChatHeader";var m0=Ud;var Wd=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,S)}};n(Wd,"LiveChatItemList");Wd.type="LiveChatItemList";var h0=Wd;var Hd=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,S),this.target_id=e.targetId}};n(Hd,"LiveChatMessageInput");Hd.type="LiveChatMessageInput";var HI=Hd;var Jd=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(Jd,"LiveChatParticipant");Jd.type="LiveChatParticipant";var _0=Jd;var Gd=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=c.parseArray(e.participants,_0)}};n(Gd,"LiveChatParticipantsList");Gd.type="LiveChatParticipantsList";var v0=Gd;var zd=class extends S{constructor(e){super(e)}};n(zd,"MenuNavigationItem");zd.type="MenuNavigationItem";var g0=zd;var $d=class extends S{constructor(e){super(e)}};n($d,"MenuServiceItem");$d.type="MenuServiceItem";var zi=$d;var Kd=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[g0,zi])}};n(Kd,"MenuPopup");Kd.type="MenuPopup";var JI=Kd;var qd=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(qd,"MenuServiceItemDownload");qd.type="MenuServiceItemDownload";var GI=qd;var Xd=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(Xd,"MultiPageMenu");Xd.type="MultiPageMenu";var zI=Xd;var Qd=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(Qd,"MultiPageMenuNotificationSection");Qd.type="MultiPageMenuNotificationSection";var $I=Qd;var Zd=class extends a{constructor(e){super()}};n(Zd,"MusicMenuItemDivider");Zd.type="MusicMenuItemDivider";var x0=Zd;var ep=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(ep,"MusicMultiSelectMenuItem");ep.type="MusicMultiSelectMenuItem";var Lt=ep;var tp=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[Lt,x0])}};n(tp,"MusicMultiSelectMenu");tp.type="MusicMultiSelectMenu";var y0=tp;var ip=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=c.parse(e.buttons)}};n(ip,"SimpleMenuHeader");ip.type="SimpleMenuHeader";var b0=ip;var op=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(op,"MerchandiseItem");op.type="MerchandiseItem";var KI=op;var np=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(np,"MerchandiseShelf");np.type="MerchandiseShelf";var w0=np;var rp=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(rp,"MetadataRow");rp.type="MetadataRow";var qI=rp;var sp=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(sp,"MetadataRowContainer");sp.type="MetadataRowContainer";var T0=sp;var ap=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(ap,"MetadataRowHeader");ap.type="MetadataRowHeader";var XI=ap;var up=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(up,"MetadataScreen");up.type="MetadataScreen";var QI=up;var lp=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(lp,"MicroformatData");lp.type="MicroformatData";var ti=lp;var cp=class extends ei{constructor(e){super(e)}};n(cp,"Mix");cp.type="Mix";var ZI=cp;var dp=class extends a{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=c.parseItem(e.button,S)}};n(dp,"ModalWithTitleAndButton");dp.type="ModalWithTitleAndButton";var eS=dp;var pp=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:je(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,j)}};n(pp,"Movie");pp.type="Movie";var tS=pp;var fp=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,r)=>r.width-o.width)}};n(fp,"MovingThumbnail");fp.type="MovingThumbnail";var iS=fp;var mp=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(mp,"MusicCardShelfHeaderBasic");mp.type="MusicCardShelfHeaderBasic";var I0=mp;var hp=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(hp,"MusicInlineBadge");hp.type="MusicInlineBadge";var S0=hp;var _p=class extends a{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(_p,"MusicPlayButton");_p.type="MusicPlayButton";var k0=_p;var vp=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,k0),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(vp,"MusicItemThumbnailOverlay");vp.type="MusicItemThumbnailOverlay";var ii=vp;var gp=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};n(gp,"MusicThumbnail");gp.type="MusicThumbnail";var wt=gp;var xp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,wt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=c.parseArray(e.buttons,S),this.menu=c.parseItem(e.menu,j),this.on_tap=new v(e.onTap),this.header=c.parseItem(e.header,I0),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,S0),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,ii),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(xp,"MusicCardShelf");xp.type="MusicCardShelf";var C0=xp;var yp=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,wt)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,S)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,$v))}};n(yp,"MusicCarouselShelfBasicHeader");yp.type="MusicCarouselShelfBasicHeader";var E0=yp;var bp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,wt),this.overlay=c.parseItem(e.overlay,ii),this.on_tap=new v(e.onTap),this.menu=c.parseItem(e.menu,j),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(bp,"MusicMultiRowListItem");bp.type="MusicMultiRowListItem";var P0=bp;var wp=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(wp,"MusicNavigationButton");wp.type="MusicNavigationButton";var Tr=wp;var Tp=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Tp,"MusicResponsiveListItemFixedColumn");Tp.type="musicResponsiveListItemFlexColumnRenderer";var N0=Tp;var Ip=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Ip,"MusicResponsiveListItemFlexColumn");Ip.type="MusicResponsiveListItemFlexColumn";var A0=Ip;var Bt,Ir,rS,sS,oS,nS,aS,uS,lS,cS,dS,Sp=class extends a{constructor(e){var i,o,r,s,l,p;super(),Bt.add(this),Ir.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,A0),this.fixed_columns=c.parseArray(e.fixedColumns,N0),I(this,Ir,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let f=(p=(l=(s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(_=>{var b,x,T,k;return((k=(T=(x=(b=_.title.endpoint)===null||b===void 0?void 0:b.payload)===null||x===void 0?void 0:x.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,Bt,"m",cS).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,Bt,"m",dS).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,Bt,"m",aS).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,Bt,"m",uS).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,Bt,"m",lS).call(this);break;default:this.flex_columns[1]?d(this,Bt,"m",sS).call(this):d(this,Bt,"m",rS).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,wt)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,j)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,ii))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Sp,"MusicResponsiveListItem");Ir=new WeakMap,Bt=new WeakSet,rS=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),sS=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(r=>r.text.match(/(.*?) views/)))?(this.item_type="video",d(this,Bt,"m",nS).call(this)):(this.item_type="song",d(this,Bt,"m",oS).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),oS=n(function(){var e,i,o,r,s,l,p,f,m,_,b,x,T,k,N;this.id=d(this,Ir,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let A=((s=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(O=>/^\d+$/.test(O.text.replace(/:/g,""))))===null||s===void 0?void 0:s.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());A&&(this.duration={text:A,seconds:je(A)});let F=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(O=>et(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")))||((b=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||b===void 0?void 0:b.find(O=>et(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")));F&&et(F)&&(this.album={id:(T=(x=F.endpoint)===null||x===void 0?void 0:x.payload)===null||T===void 0?void 0:T.browseId,name:F.text,endpoint:F.endpoint});let Q=(N=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||N===void 0?void 0:N.filter(O=>et(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("UC"));Q&&(this.artists=Q.map(O=>{var ae,we;return{name:O.text,channel_id:et(O)?(we=(ae=O.endpoint)===null||ae===void 0?void 0:ae.payload)===null||we===void 0?void 0:we.browseId:void 0,endpoint:et(O)?O.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),nS=n(function(){var e,i,o,r,s,l,p,f,m,_;this.id=d(this,Ir,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let b=(s=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||s===void 0?void 0:s.filter(T=>et(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));b&&(this.authors=b.map(T=>{var k,N;return{name:T.text,channel_id:et(T)?(N=(k=T.endpoint)===null||k===void 0?void 0:k.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:et(T)?T.endpoint:void 0}}));let x=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);x&&(this.duration={text:x,seconds:je(x)})},"_MusicResponsiveListItem_parseVideo"),aS=n(function(){var e,i,o,r,s,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(s=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||s===void 0?void 0:s.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),uS=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(s=>/^\d+(,\d+)? songs?$/i.test(s.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),lS=n(function(){var e,i;this.id=d(this,Ir,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),cS=n(function(){var e,i,o,r,s,l,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(b=>et(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&et(_)&&(this.author={name:_.text,channel_id:(l=(s=_.endpoint)===null||s===void 0?void 0:s.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),dS=n(function(){var e,i,o,r,s,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(l=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||l===void 0?void 0:l.find(b=>et(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&et(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Sp.type="MusicResponsiveListItem";var $i=Sp;var kp=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_,b,x,T,k,N,A,F,Q,O,ae,we,ke,Ne;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.videoId),this.subtitle=new u(e.subtitle),this.badges=c.parse(e.subtitleBadges),(m=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((b=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||b===void 0?void 0:b.api_url)==="/next"?this.item_type="endpoint":!((x=this.subtitle.runs)===null||x===void 0)&&x[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find($=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test($.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let $=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(z=>z.text.match(/\d+ songs|song/));this.item_count=$?$.text:null}else if(this.item_type=="album"){let $=(A=this.subtitle.runs)===null||A===void 0?void 0:A.filter(z=>{var Z,oe;return(oe=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||oe===void 0?void 0:oe.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var Z,oe;return{name:z.text,channel_id:(oe=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||oe===void 0?void 0:oe.browseId,endpoint:z.endpoint}})),this.year=(F=this.subtitle.runs)===null||F===void 0?void 0:F.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((O=(Q=this===null||this===void 0?void 0:this.subtitle.runs)===null||Q===void 0?void 0:Q.find(z=>z==null?void 0:z.text.match(/(.*?) views/)))===null||O===void 0?void 0:O.text)||"N/A";let $=(ae=this.subtitle.runs)===null||ae===void 0?void 0:ae.find(z=>{var Z,oe,Ye;return(Ye=(oe=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||oe===void 0?void 0:oe.browseId)===null||Ye===void 0?void 0:Ye.startsWith("UC")});$&&(this.author={name:$==null?void 0:$.text,channel_id:(ke=(we=$==null?void 0:$.endpoint)===null||we===void 0?void 0:we.payload)===null||ke===void 0?void 0:ke.browseId,endpoint:$==null?void 0:$.endpoint})}else if(this.item_type=="song"){let $=(Ne=this.subtitle.runs)===null||Ne===void 0?void 0:Ne.filter(z=>{var Z,oe;return(oe=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||oe===void 0?void 0:oe.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var Z,oe;return{name:z==null?void 0:z.text,channel_id:(oe=(Z=z==null?void 0:z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||oe===void 0?void 0:oe.browseId,endpoint:z==null?void 0:z.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,ii),this.menu=c.parseItem(e.menu,j)}};n(kp,"MusicTwoRowItem");kp.type="MusicTwoRowItem";var Sr=kp;var Cp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,E0),this.contents=c.parseArray(e.contents,[Sr,$i,P0,Tr]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Cp,"MusicCarouselShelf");Cp.type="MusicCarouselShelf";var Re=Cp;var Ep=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(Ep,"MusicDescriptionShelf");Ep.type="MusicDescriptionShelf";var jo=Ep;var Pp=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((s=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let b=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(x=>{var T,k;return(k=(T=x==null?void 0:x.endpoint)===null||T===void 0?void 0:T.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});b&&(this.author={name:b.text,channel_id:(_=(m=b.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:b.endpoint}),this.menu=c.parseItem(e.menu)}};n(Pp,"MusicDetailHeader");Pp.type="MusicDetailHeader";var Uo=Pp;var Np=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Np,"MusicDownloadStateBadge");Np.type="MusicDownloadStateBadge";var pS=Np;var Ap=class extends a{constructor(e){super(),this.header=c.parseItem(e.header)}};n(Ap,"MusicEditablePlaylistDetailHeader");Ap.type="MusicEditablePlaylistDetailHeader";var R0=Ap;var Rp=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,gr):null}};n(Rp,"MusicElementHeader");Rp.type="MusicElementHeader";var Mp=Rp;var Vp=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(Vp,"MusicHeader");Vp.type="MusicHeader";var Ki=Vp;var Op=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=c.parseItem(e.thumbnail,wt)}};n(Op,"MusicImmersiveHeader");Op.type="MusicImmersiveHeader";var M0=Op;var Dp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Dp,"ActionButton");Dp.type="ActionButton";var Lp=class{constructor(e){this.image=w.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Dp(i))}};n(Lp,"Panel");Lp.type="Panel";var Bp=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Lp(i))}};n(Bp,"MusicLargeCardItemCarousel");Bp.type="MusicLargeCardItemCarousel";var fS=Bp;var Fp=class extends a{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,$i),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Fp,"MusicPlaylistShelf");Fp.type="MusicPlaylistShelf";var Wo=Fp;var Yp=class extends a{constructor(e){var i,o,r,s,l;super(),this.title=new u(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:je(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,b,x;return(x=(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||x===void 0?void 0:x.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var _,b,x;return(x=(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||x===void 0?void 0:x.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(s=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,b;return{name:m.text,channel_id:(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId,endpoint:m.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Yp,"PlaylistPanelVideo");Yp.type="PlaylistPanelVideo";var bi=Yp;var jp=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,bi),Reflect.has(e,"counterpart")&&(this.counterpart=ue(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,bi))||[]))}};n(jp,"PlaylistPanelVideoWrapper");jp.type="PlaylistPanelVideoWrapper";var V0=jp;var Up=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=c.parseArray(e.contents,[V0,bi,Li]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Up,"PlaylistPanel");Up.type="PlaylistPanel";var oi=Up;var Wp=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,oi)}};n(Wp,"MusicQueue");Wp.type="MusicQueue";var kr=Wp;var Hp=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents,$i),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,S)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(Hp,"MusicShelf");Hp.type="MusicShelf";var Te=Hp;var Jp=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(Jp,"MusicSideAlignedItem");Jp.type="MusicSideAlignedItem";var O0=Jp;var Gp=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,y0)}};n(Gp,"MusicSortFilterButton");Gp.type="MusicSortFilterButton";var zp=Gp;var $p=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n($p,"MusicTastebuilderShelfThumbnail");$p.type="MusicTastebuilderShelfThumbnail";var D0=$p;var Kp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,D0),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=c.parseItem(e.actionButton,S),this.is_visible=e.isVisible}};n(Kp,"MusicTasteBuilderShelf");Kp.type="MusicTasteBuilderShelf";var L0=Kp;var qp=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,j),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(qp,"MusicVisualHeader");qp.type="MusicVisualHeader";var B0=qp;var Xp=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(Xp,"Notification");Xp.type="Notification";var F0=Xp;var Qp=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,Mv),this.image=c.parseItem(e.image,[or,Sv]),this.metadata=c.parseItem(e.metadata,Tv),this.actions=c.parseItem(e.actions,Fv),this.description=c.parseItem(e.description,Nv),this.attributation=c.parseItem(e.attributation,y_),this.banner=c.parseItem(e.banner,Kv)}};n(Qp,"PageHeaderView");Qp.type="PageHeaderView";var Y0=Qp;var Zp=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,Y0)}};n(Zp,"PageHeader");Zp.type="PageHeader";var ni=Zp;var ef=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(ef,"PageIntroduction");ef.type="PageIntroduction";var j0=ef;var tf=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(tf,"PivotButton");tf.type="PivotButton";var U0=tf;var of=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(of,"PlayerAnnotationsExpanded");of.type="PlayerAnnotationsExpanded";var W0=of;var nf=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(nf,"PlayerCaptionsTracklist");nf.type="PlayerCaptionsTracklist";var H0=nf;var rf=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(rf,"PlayerOverflow");rf.type="PlayerOverflow";var J0=rf;var sf=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,J0)}};n(sf,"PlayerControlsOverlay");sf.type="PlayerControlsOverlay";var mS=sf;var af=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=c.parseItem(e.proceedButton,S),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(af,"PlayerErrorMessage");af.type="PlayerErrorMessage";var hS=af;var uf=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(uf,"PlayerLegacyDesktopYpcOffer");uf.type="PlayerLegacyDesktopYpcOffer";var _S=uf;var lf=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(lf,"YpcTrailer");lf.type="YpcTrailer";var G0=lf;var cf=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,G0)}};n(cf,"PlayerLegacyDesktopYpcTrailer");cf.type="PlayerLegacyDesktopYpcTrailer";var df=cf;var pf=class extends a{constructor(e){super();let[i,o,r,s,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(s,10),rows:parseInt(l,10)}}};n(pf,"PlayerLiveStoryboardSpec");pf.type="PlayerLiveStoryboardSpec";var z0=pf;var ff=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(ff,"PlayerMicroformat");ff.type="PlayerMicroformat";var Tt=ff;var mf=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.byline),this.cancel_button=c.parseItem(e.cancelButton,S),this.next_button=c.parseItem(e.nextButton,S),this.close_button=c.parseItem(e.closeButton,S)}};n(mf,"PlayerOverlayAutoplay");mf.type="PlayerOverlayAutoplay";var $0=mf;var hf=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[Lv,Dv]),this.title=new u(e.title).toString()}};n(hf,"WatchNextEndScreen");hf.type="WatchNextEndScreen";var K0=hf;var _f=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,K0),this.autoplay=c.parseItem(e.autoplay,$0),this.share_button=c.parseItem(e.shareButton,S),this.add_to_menu=c.parseItem(e.addToMenu,j),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,Pv)}};n(_f,"PlayerOverlay");_f.type="PlayerOverlay";var qi=_f;var vf=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new M(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(vf,"PlaylistHeader");vf.type="PlaylistHeader";var q0=vf;var gf=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(gf,"PlaylistInfoCardContent");gf.type="PlaylistInfoCardContent";var vS=gf;var xf=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(xf,"PlaylistMetadata");xf.type="PlaylistMetadata";var X0=xf;var yf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(yf,"PlaylistSidebar");yf.type="PlaylistSidebar";var gS=yf;var bf=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(bf,"PlaylistSidebarPrimaryInfo");bf.type="PlaylistSidebarPrimaryInfo";var Q0=bf;var wf=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(wf,"PlaylistSidebarSecondaryInfo");wf.type="PlaylistSidebarSecondaryInfo";var Z0=wf;var Tf=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new M(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,j),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Eo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Eo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Tf,"PlaylistVideo");Tf.type="PlaylistVideo";var Cr=Tf;var If=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(If,"PlaylistVideoList");If.type="PlaylistVideoList";var xS=If;var Sf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Sf,"Poll");Sf.type="Poll";var yS=Sf;var kf=class extends Bi{constructor(e){super(e)}};n(kf,"Post");kf.type="Post";var eg=kf;var Cf=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,T_)}};n(Cf,"PostMultiImage");Cf.type="PostMultiImage";var bS=Cf;var Ef=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(Ef,"ProductListHeader");Ef.type="ProductListHeader";var wS=Ef;var Pf=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,S)}};n(Pf,"ProductListItem");Pf.type="ProductListItem";var TS=Pf;var Nf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Nf,"ProfileColumn");Nf.type="ProfileColumn";var IS=Nf;var Af=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Af,"ProfileColumnStats");Af.type="ProfileColumnStats";var SS=Af;var Rf=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(Rf,"ProfileColumnStatsEntry");Rf.type="ProfileColumnStatsEntry";var kS=Rf;var Mf=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};n(Mf,"ProfileColumnUserInfo");Mf.type="ProfileColumnUserInfo";var CS=Mf;var Vf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(Vf,"Quiz");Vf.type="Quiz";var ES=Vf;var Of=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=c.parseItem(e.button,S),this.surface=e.surface}};n(Of,"RecognitionShelf");Of.type="RecognitionShelf";var PS=Of;var Df=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Df,"ReelItem");Df.type="ReelItem";var tg=Df;var Lf=class extends a{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.author=new M(e.channelNavigationEndpoint,void 0)}};n(Lf,"ReelPlayerHeader");Lf.type="ReelPlayerHeader";var ig=Lf;var Bf=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,t0),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,ig),this.menu=c.parseItem(e.menu,j),this.next_item_button=c.parseItem(e.nextItemButton,S),this.prev_item_button=c.parseItem(e.prevItemButton,S),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,S),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,S),this.share_button=c.parseItem(e.shareButton,S),this.pivot_button=c.parseItem(e.pivotButton,U0),this.info_panel=c.parseItem(e.infoPanel,Xv)}};n(Bf,"ReelPlayerOverlay");Bf.type="ReelPlayerOverlay";var NS=Bf;var Ff=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(Ff,"RelatedChipCloud");Ff.type="RelatedChipCloud";var og=Ff;var Yf=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(Yf,"RichGrid");Yf.type="RichGrid";var Xi=Yf;var jf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(jf,"RichItem");jf.type="RichItem";var AS=jf;var Uf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Uf,"RichListHeader");Uf.type="RichListHeader";var RS=Uf;var Wf=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(Wf,"RichMetadata");Wf.type="RichMetadata";var Hf=Wf;var Jf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Jf,"RichMetadataRow");Jf.type="RichMetadataRow";var Gf=Jf;var zf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(zf,"RichSection");zf.type="RichSection";var MS=zf;var $f=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n($f,"RichShelf");$f.type="RichShelf";var ng=$f;var Kf=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=c.parseItem(e.searchButton,S),this.clear_button=c.parseItem(e.clearButton,S),this.placeholder_text=new u(e.placeholderText)}};n(Kf,"SearchBox");Kf.type="SearchBox";var VS=Kf;var qf=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(qf,"SearchFilter");qf.type="SearchFilter";var rg=qf;var Xf=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=c.parseArray(e.filters,rg)}};n(Xf,"SearchFilterGroup");Xf.type="SearchFilterGroup";var Er=Xf;var Qf=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=c.parseArray(e.groups,Er)}};n(Qf,"SearchFilterOptionsDialog");Qf.type="SearchFilterOptionsDialog";var OS=Qf;var Zf=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,ft),this.search_filter_button=c.parseItem(e.searchFilterButton,S)}};n(Zf,"SearchHeader");Zf.type="SearchHeader";var sg=Zf;var em=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,Er)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Be))}};n(em,"SearchSubMenu");em.type="SearchSubMenu";var ag=em;var tm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(tm,"SearchSuggestionsSection");tm.type="SearchSuggestionsSection";var ug=tm;var im=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(im,"SecondarySearchContainer");im.type="SecondarySearchContainer";var DS=im;var om=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Be,S]),this.dislike_button=c.parseItem(e.dislikeButton,[Be,S])}};n(om,"SegmentedLikeDislikeButton");om.type="SegmentedLikeDislikeButton";var Ho=om;var nm=class extends a{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,i0),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,Rv),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(nm,"SegmentedLikeDislikeButtonView");nm.type="SegmentedLikeDislikeButtonView";var Jo=nm;var rm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(rm,"SettingBoolean");rm.type="SettingBoolean";var LS=rm;var sm=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(sm,"SettingsCheckbox");sm.type="SettingsCheckbox";var lg=sm;var am=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(am,"SettingsSwitch");am.type="SettingsSwitch";var Pr=am;var um=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[Pr,qn,Iv,lg,sv]))}};n(um,"SettingsOptions");um.type="SettingsOptions";var Nr=um;var lm=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items,mr)}get contents(){return this.items}};n(lm,"SettingsSidebar");lm.type="SettingsSidebar";var cg=lm;var cm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=se(e.actionMenu,j),this.original_post=se(e.originalPost,Bi),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=se(e.expandButton,S),this.author=new M(e.displayName,void 0)}};n(cm,"SharedPost");cm.type="SharedPost";var dg=cm;var dm=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,S))}};n(dm,"Shelf");dm.type="Shelf";var Ar=dm;var pm=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(pm,"ShowingResultsFor");pm.type="ShowingResultsFor";var pg=pm;var fm=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(fm,"SimpleCardContent");fm.type="SimpleCardContent";var BS=fm;var mm=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(mm,"SimpleCardTeaser");mm.type="SimpleCardTeaser";var FS=mm;var hm=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(hm,"SimpleTextSection");hm.type="SimpleTextSection";var YS=hm;var _m=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(_m,"SingleActionEmergencySupport");_m.type="SingleActionEmergencySupport";var jS=_m;var vm=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=c.parseItem(e.content,[X,kr,Xi])}};n(vm,"Tab");vm.type="Tab";var ye=vm;var gm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,ye)}};n(gm,"SingleColumnBrowseResults");gm.type="SingleColumnBrowseResults";var ri=gm;var xm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(xm,"SingleColumnMusicWatchNextResults");xm.type="SingleColumnMusicWatchNextResults";var US=xm;var ym=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};n(ym,"SingleHeroImage");ym.type="SingleHeroImage";var WS=ym;var bm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,ze)}};n(bm,"SlimOwner");bm.type="SlimOwner";var HS=bm;var wm=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(wm,"SlimVideoMetadata");wm.type="SlimVideoMetadata";var fg=wm;var Tm=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(Tm,"SubFeedOption");Tm.type="SubFeedOption";var mg=Tm;var Im=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=c.parseArray(e.options,mg)}};n(Im,"SubFeedSelector");Im.type="SubFeedSelector";var JS=Im;var Sm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Sm,"Tabbed");Sm.type="Tabbed";var GS=Sm;var km=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,ye)}};n(km,"TabbedSearchResults");km.type="TabbedSearchResults";var hg=km;var Cm=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(Cm,"TextHeader");Cm.type="TextHeader";var zS=Cm;var Em=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};n(Em,"ThumbnailLandscapePortrait");Em.type="ThumbnailLandscapePortrait";var $S=Em;var Pm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Pm,"ThumbnailOverlayEndorsement");Pm.type="ThumbnailOverlayEndorsement";var KS=Pm;var Nm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Nm,"ThumbnailOverlayHoverText");Nm.type="ThumbnailOverlayHoverText";var qS=Nm;var Am=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(Am,"ThumbnailOverlayInlineUnplayable");Am.type="ThumbnailOverlayInlineUnplayable";var XS=Am;var Rm=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Rm,"ThumbnailOverlayLoadingPreview");Rm.type="ThumbnailOverlayLoadingPreview";var QS=Rm;var Mm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Mm,"ThumbnailOverlayNowPlaying");Mm.type="ThumbnailOverlayNowPlaying";var ZS=Mm;var Vm=class extends a{constructor(e){super(),this.hack=e.hack}};n(Vm,"ThumbnailOverlayPinking");Vm.type="ThumbnailOverlayPinking";var ek=Vm;var Om=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(Om,"ThumbnailOverlayPlaybackStatus");Om.type="ThumbnailOverlayPlaybackStatus";var tk=Om;var Dm=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Dm,"ThumbnailOverlayResumePlayback");Dm.type="ThumbnailOverlayResumePlayback";var ik=Dm;var Lm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Lm,"ThumbnailOverlaySidePanel");Lm.type="ThumbnailOverlaySidePanel";var ok=Lm;var Bm=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(Bm,"ThumbnailOverlayToggleButton");Bm.type="ThumbnailOverlayToggleButton";var nk=Bm;var Fm=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(Fm,"TimedMarkerDecoration");Fm.type="TimedMarkerDecoration";var rk=Fm;var Ym=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Ym,"TitleAndButtonListHeader");Ym.type="TitleAndButtonListHeader";var sk=Ym;var jm=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(jm,"ToggleMenuServiceItem");jm.type="ToggleMenuServiceItem";var ak=jm;var Um=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Um,"Tooltip");Um.type="Tooltip";var uk=Um;var Wm=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,ze),this.endpoint=new v(e.navigationEndpoint)}};n(Wm,"TopicChannelDetails");Wm.type="TopicChannelDetails";var lk=Wm;var Hm=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(Hm,"TwoColumnBrowseResults");Hm.type="TwoColumnBrowseResults";var si=Hm;var Jm=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(Jm,"TwoColumnSearchResults");Jm.type="TwoColumnSearchResults";var _g=Jm;var vg,eb,Gm=class extends a{constructor(e){var i,o,r,s,l;super(),vg.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((s=p.shortBylineText)===null||s===void 0)&&s.simpleText?new u(p.shortBylineText):new M(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,j)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>d(this,vg,"m",eb).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>d(this,vg,"m",eb).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(Gm,"TwoColumnWatchNextResults");vg=new WeakSet,eb=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Gm.type="TwoColumnWatchNextResults";var Rr=Gm;var zm=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(zm,"UniversalWatchCard");zm.type="UniversalWatchCard";var gg=zm;var $m=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,S),this.dismiss_button=c.parseItem(e.dismissButton,S),this.is_visible=e.isVisible}};n($m,"UpsellDialog");$m.type="UpsellDialog";var ck=$m;var Km=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Km,"VerticalList");Km.type="VerticalList";var dk=Km;var qm=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(qm,"VerticalWatchCardList");qm.type="VerticalWatchCardList";var pk=qm;var Xm=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(Xm,"VideoInfoCardContent");Xm.type="VideoInfoCardContent";var fk=Xm;var Qm=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Qm,"VideoOwner");Qm.type="VideoOwner";var Mr=Qm;var Zm=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((s=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||s===void 0?void 0:s.shortViewCount),this.badges=c.parseArray(e.badges,at),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=c.parseItem(e.videoActions,j)}};n(Zm,"VideoPrimaryInfo");Zm.type="VideoPrimaryInfo";var xg=Zm;var eh=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,Mr),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S]),this.metadata=c.parseItem(e.metadataRowContainer,T0),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(eh,"VideoSecondaryInfo");eh.type="VideoSecondaryInfo";var th=eh;var ih=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:je(e.lengthText.simpleText)},this.style=e.style}};n(ih,"WatchCardCompactVideo");ih.type="WatchCardCompactVideo";var yg=ih;var oh=class extends a{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(oh,"WatchCardHeroVideo");oh.type="WatchCardHeroVideo";var mk=oh;var nh=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new M(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(nh,"WatchCardRichHeader");nh.type="WatchCardRichHeader";var hk=nh;var rh=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(rh,"WatchCardSectionSequence");rh.type="WatchCardSectionSequence";var _k=rh;var sh=class extends si{constructor(e){super(e)}};n(sh,"WatchNextTabbedResults");sh.type="WatchNextTabbedResults";var bg=sh;var ah=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,X),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(ah,"AnchoredSection");ah.type="AnchoredSection";var wg=ah;var uh,lh=class extends a{constructor(e){super(),uh.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=w.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Be]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return y(this,void 0,void 0,function*(){if(!d(this,uh,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,uh,"f"),{parse:!1})})}setActions(e){I(this,uh,e,"f")}};n(lh,"KidsBlocklistPickerItem");uh=new WeakMap;lh.type="KidsBlocklistPickerItem";var Vr=lh;var ch=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=c.parse(e.childRows,!0,[Vr]),this.done_button=c.parseItem(e.doneButton,[S]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(ch,"KidsBlocklistPicker");ch.type="KidsBlocklistPicker";var vk=ch;var dh=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(dh,"KidsCategoryTab");dh.type="KidsCategoryTab";var Or=dh;var ph=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,Or),this.privacy_button=c.parseItem(e.privacyButtonRenderer,S)}};n(ph,"KidsCategoriesHeader");ph.type="kidsCategoriesHeader";var Tg=ph;var fh=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,wg)}};n(fh,"KidsHomeScreen");fh.type="kidsHomeScreen";var Ig=fh;var ab={};D(ab,{camelToSnake:()=>Go,createRuntimeClass:()=>Ck,generateRuntimeClass:()=>_h,generateTypescriptClass:()=>kg,inferType:()=>Sg,introspect:()=>ob,isArrayType:()=>Sk,isIgnoredKey:()=>kk,isMiscType:()=>Ik,isRenderer:()=>ib,isRendererList:()=>Tk,mergeKeyInfo:()=>mh,parse:()=>sb,toParser:()=>rb,toTypeDeclaration:()=>nb});var HC=new Set(["trackingParams","accessibility","accessibilityData"]),tb={};function Go(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Go,"camelToSnake");function Sg(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=ib(e))return tb[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=Tk(e)){for(let[r,s]of Object.entries(i))tb[r]=s;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=Ik(t,e))||(i=Sk(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,s])=>[r,Sg(r,s)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(Sg,"inferType");function Tk(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>ib(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[vh(r),o[r]]})):!1}n(Tk,"isRendererList");function Ik(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(Ik,"isMiscType");function ib(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return vh(o)}return!1}n(ib,"isRenderer");function Sk(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(s=>typeof s);if(!e.every(s=>s===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let s=0;s<t.length;s++){let l=Object.entries(t[s]).map(([p,f])=>[p,Sg(p,f)]);if(s===0){r=l;continue}r=mh(r,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(Sk,"isArrayType");function JC(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!kk(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=Sg(i,o);return[i,r]})}n(JC,"introspectKeysFirstPass");function GC(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),r=new Set,s=o[0],l;if(s){r.add(s[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),_=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],b=t.find(([T])=>T===_),x=b?b[1].type==="array"&&b[1].array_type==="renderer"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;x&&_&&r.add(_),l={type:"misc",misc_type:"Author",optional:!1,params:[s[0],x?_:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!r.has(p))}n(GC,"introspectKeysSecondPass");function zC(t){let e=JC(t);return GC(e)}n(zC,"introspect2");function ob(t){let e=zC(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let s of r.renderers){let l=tb[s];l&&i.set(s,l)}let o=Array.from(i).filter(([r])=>!Cg(r));return{key_info:e,unimplemented_dependencies:o}}n(ob,"introspect");function kk(t){return typeof t=="string"&&HC.has(t)}n(kk,"isIgnoredKey");function Ck(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let s=(o=n(class extends a{static set key_info(l){I(this,o,new Map(l),"f",r)}static get key_info(){return[...d(this,o,"f",r).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=ob(l),{resolved_key_info:m,changed_keys:_}=mh(s.key_info,p);_.length>0&&(s.key_info=m,i({error_type:"class_changed",classname:t,key_info:s.key_info,changed_keys:_}));for(let[x,T]of f)_h(x,T,i);for(let[x,T]of p){let k=Go(x);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,sb(x,T,l))}}},"_a"),aw(o,"node"),o.type=t,r={value:new Map},o);return s.key_info=e,Object.defineProperty(s,"name",{value:t,writable:!1}),s}n(Ck,"createRuntimeClass");function _h(t,e,i){let{key_info:o,unimplemented_dependencies:r}=ob(e),s=Ck(t,o,i);ub(t,s);for(let[l,p]of r)_h(l,p,i);return s}n(_h,"generateRuntimeClass");function kg(t,e){let i=[],o=["super();"];for(let[r,s]of e){let l=Go(r);s.type==="misc"&&s.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${s.optional?"?":""}: ${nb(s)};`),o.push(`this.${l} = ${rb(r,s)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(kg,"generateTypescriptClass");function gk(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${Go(i)}${o.optional?"?":""}: ${nb(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(gk,"toTypeDeclarationObject");function nb(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${gk(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return gk(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(nb,"toTypeDeclaration");function xk(t,e,i,o){let r=[...i,o];return`{
${e.map(([s,l])=>`${" ".repeat((t+2)*2)}${Go(s)}: ${rb(s,l,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(xk,"toParserObject");function rb(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${yk(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${yk(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${xk(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=xk(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let s=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${s} : undefined`:s}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(rb,"toParser");function yk(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(yk,"toParserValidTypes");function ai(t,e){let i=t;for(let o of e)i=i[o];return i}n(ai,"accessDataFromKeyPath");function bk(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(bk,"hasDataFromKeyPath");function wk(t,e,i,o,r){let s={},l=[...i,t];for(let[p,f]of o)s[p]=r?sb(p,f,e,l):void 0;return s}n(wk,"parseObject");function sb(t,e,i,o=["data"]){let r=!e.optional||bk({data:i},[...o,t]);switch(e.type){case"renderer":return r?se(ai({data:i},[...o,t]),e.renderers.map(s=>hh(s))):void 0;case"array":{switch(e.array_type){case"renderer":return r?qe(ai({data:i},[...o,t]),!0,e.renderers.map(s=>hh(s))):void 0;case"object":return r?ai({data:i},[...o,t]).map((s,l)=>wk(`${l}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?ai({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return wk(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new v(ai({data:i},[...o,t])):void 0;case"Text":return r?new u(ai({data:i},[...o,t])):void 0;case"Thumbnail":return r?w.fromResponse(ai({data:i},[...o,t])):void 0;case"Author":return!e.optional||bk({data:i},[...o,e.params[0]])?new M(ai({data:i},[...o,e.params[0]]),e.params[1]?ai({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return ai({data:i},[...o,t])}}n(sb,"parse");function mh(t,e){let i=new Map,o=new Set(t.map(([x])=>x)),r=new Set(e.map(([x])=>x)),s=e.filter(([x])=>!o.has(x)),l=t.filter(([x])=>!r.has(x)),p=t.filter(([x])=>r.has(x)),f=new Map(e);for(let[x,T]of p){let k=f.get(x);if(!!k){if(T.type!==k.type){i.set(x,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(T.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:N}=mh(T.keys,k.keys),A={type:"object",keys:N,optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;case"renderer":{if(k.type!=="renderer")continue;let N=Object.assign(Object.assign({},T.renderers),k.renderers),A=T.optional||k.optional,F={type:"renderer",renderers:N,optional:A};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(x,F)}break;case"array":{if(k.type!=="array")continue;switch(T.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let N=Object.assign(Object.assign({},T.renderers),k.renderers),A=T.optional||k.optional,F={type:"array",array_type:"renderer",renderers:N,optional:A};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(x,F)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:N}=mh(T.items.keys,k.items.keys),A={type:"array",array_type:"object",items:{type:"object",keys:N,optional:T.items.optional||k.items.optional},optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;case"primitive":{if(T.items.typeof.includes("never")&&k.array_type==="object"){i.set(x,k);continue}if(k.array_type!=="primitive"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let N=new Set([...k.items.typeof,...T.items.typeof]);N.size>1&&N.has("never")&&N.delete("never");let A={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(N),optional:T.items.optional||k.items.optional},optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(T.misc_type!==k.misc_type&&i.set(x,{type:"primative",typeof:["unknown"],optional:!0}),T.misc_type){case"Author":{if(k.misc_type!=="Author")break;let N=T.params[1]||k.params[1],A=T.optional||k.optional,F={type:"misc",misc_type:"Author",optional:A,params:[k.params[0],N]};JSON.stringify(F)!==JSON.stringify(T)&&i.set(x,F)}break}}break;case"primative":{if(k.type!=="primative")continue;let N={type:"primative",typeof:Array.from(new Set([...k.typeof,...T.typeof])),optional:T.optional||k.optional};JSON.stringify(N)!==JSON.stringify(T)&&i.set(x,N)}break}}}for(let[x,T]of s)i.set(x,Object.assign(Object.assign({},T),{optional:!0}));for(let[x,T]of l)i.set(x,Object.assign(Object.assign({},T),{optional:!0}));let m=t.filter(([x])=>!i.has(x));return{resolved_key_info:[...new Map([...m,...i]).entries()],changed_keys:[...i.entries()]}}n(mh,"mergeKeyInfo");var Qi=class extends a{constructor(e){var i,o,r;super(),this.contents=Ke(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Qi,"ItemSectionContinuation");Qi.type="itemSectionContinuation";var Zi=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(Zi,"NavigateAction");Zi.type="navigateAction";var Dr=class extends a{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(Dr,"ShowMiniplayerCommand");Dr.type="showMiniplayerCommand";var eo=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=qe(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(eo,"ReloadContinuationItemsCommand");eo.type="reloadContinuationItemsCommand";var ut=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=qe(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(ut,"SectionListContinuation");ut.type="sectionListContinuation";var to=class extends a{constructor(e){var i;super(),this.contents=qe(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(to,"MusicPlaylistShelfContinuation");to.type="musicPlaylistShelfContinuation";var ui=class extends a{constructor(e){var i,o,r,s;super(),this.contents=Ke(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(ui,"MusicShelfContinuation");ui.type="musicShelfContinuation";var io=class extends a{constructor(e){var i;super(),this.items=qe(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(io,"GridContinuation");io.type="gridContinuation";var Lr=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=Ke(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(Lr,"PlaylistPanelContinuation");Lr.type="playlistPanelContinuation";var zo=class extends a{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(zo,"Continuation");zo.type="continuation";var oo=class extends a{constructor(e){var i,o,r,s,l,p,f,m;super(),this.actions=qe((i=e.actions)===null||i===void 0?void 0:i.map(x=>(delete x.clickTrackingParams,x)),!0)||ue([]),this.action_panel=se(e.actionPanel),this.item_list=se(e.itemList,h0),this.header=se(e.header,m0),this.participants_list=se(e.participantsList,v0),this.popout_message=se(e.popoutMessage,$e),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(x=>({emoji_id:x.emojiId,shortcuts:x.shortcuts,search_terms:x.searchTerms,image:w.fromResponse(x.image),is_custom_emoji:x.isCustomEmoji})))||[];let _,b;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(b="timed",_=(s=e.continuations)===null||s===void 0?void 0:s[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(b="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(b="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new zo({continuation:_,type:b}),this.viewer_name=e.viewerName}};n(oo,"LiveChatContinuation");oo.type="liveChatContinuation";var wi=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(wi,"ContinuationCommand");wi.type="ContinuationCommand";var Eg,Pg=class{constructor(e,i){var o,r,s,l,p,f;if(Eg.set(this,void 0),i&&I(this,Eg,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.max_dvr_duration_sec=e.maxDvrDurationSec,this.target_duration_dec=e.targetDurationSec,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(r=e.colorInfo.transferCharacteristics)===null||r===void 0?void 0:r.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(s=e.colorInfo.matrixCoefficients)===null||s===void 0?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let m=new URLSearchParams(this.cipher||this.signature_cipher),b=(l=new URLSearchParams(m.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":"),x=(p=b==null?void 0:b.find(T=>T.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=b==null?void 0:b.find(T=>T.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=x==="dubbed",this.is_descriptive=x==="descriptive",this.is_original=x==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new g("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,Eg,"f"))}};n(Pg,"Format");Eg=new WeakMap;var Ng=Pg;var no=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(no,"VideoDetails");var $o="Parser",$C=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),db=new Map(Object.entries(Fo)),Ek=new Map,qo=null,Ko=n(t=>{var{classname:e}=t,i=sw(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&W.warn($o,new g(`Something went wrong at ${e}!
This is a bug, please report it at ${L.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":W.warn($o,new bt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":W.warn($o,new g(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${L.shim.info.bugs_url}`));break;case"mutation_data_invalid":W.warn($o,new g(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${L.shim.info.bugs_url}`));break;case"class_not_found":W.warn($o,new g(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${L.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${L.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${kg(e,i.key_info)}`));break;case"class_changed":W.warn($o,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>Go(o)).join(", ")}
The class has changed to:
${kg(e,i.key_info)}`);break;default:W.warn($o,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function KC(t){Ko=t}n(KC,"setParserErrorHandler");function Ft(){qo=null}n(Ft,"_clearMemo");function Yt(){qo=new Vi}n(Yt,"_createMemo");function qC(t,e){if(!qo)return;let i=qo.get(t);if(!i)return qo.set(t,[e]);i.push(e)}n(qC,"_addToMemo");function jt(){if(!qo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return qo}n(jt,"_getMemo");function Pk(t){return $C.has(t)}n(Pk,"shouldIgnore");function vh(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(vh,"sanitizeClassName");function hh(t){let e=db.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(hh,"getParserByName");function Cg(t){return db.has(t)}n(Cg,"hasParser");function ub(t,e){db.set(t,e),Ek.set(t,e)}n(ub,"addRuntimeParser");function XC(){return Object.fromEntries(Ek)}n(XC,"getDynamicParsers");function QC(t){var e,i,o,r,s,l,p,f,m,_,b,x;let T={};Yt();let k=qe(t.contents),N=jt();k&&(T.contents=k,T.contents_memo=N),Ft(),Yt();let A=t.onResponseReceivedActions?Ag(t.onResponseReceivedActions):null,F=jt();A&&(T.on_response_received_actions=A,T.on_response_received_actions_memo=F),Ft(),Yt();let Q=t.onResponseReceivedEndpoints?Ag(t.onResponseReceivedEndpoints):null,O=jt();Q&&(T.on_response_received_endpoints=Q,T.on_response_received_endpoints_memo=O),Ft(),Yt();let ae=t.onResponseReceivedCommands?Ag(t.onResponseReceivedCommands):null,we=jt();ae&&(T.on_response_received_commands=ae,T.on_response_received_commands_memo=we),Ft(),Yt();let ke=t.continuationContents?lb(t.continuationContents):null,Ne=jt();ke&&(T.continuation_contents=ke,T.continuation_contents_memo=Ne),Ft(),Yt();let Oe=t.actions?Ak(t.actions):null,$=jt();Oe&&(T.actions=Oe,T.actions_memo=$),Ft(),Yt();let z=t.liveChatItemContextMenuSupportedRenderers?se(t.liveChatItemContextMenuSupportedRenderers):null,Z=jt();z&&(T.live_chat_item_context_menu_supported_renderers=z,T.live_chat_item_context_menu_supported_renderers_memo=Z),Ft(),Yt();let oe=t.header?qe(t.header):null,Ye=jt();oe&&(T.header=oe,T.header_memo=Ye),Ft(),Yt();let pt=t.sidebar?se(t.sidebar):null,xt=jt();pt&&(T.sidebar=pt,T.sidebar_memo=xt),Ft(),Yt();let K=qe(t.items);K&&(T.items=K,T.items_memo=jt()),Ft(),Yt();let Je=qe(t.entries);Je&&(T.entries=Je,T.entries_memo=jt()),Ft(),Rk(N,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let Kt=t.continuation?Nk(t.continuation):null;Kt&&(T.continuation=Kt);let qt=t.continuationEndpoint?lb(t.continuationEndpoint):null;qt&&(T.continuation_endpoint=qt);let Ce=qe(t.metadata);Ce&&(T.metadata=Ce);let nt=se(t.microformat);nt&&(T.microformat=nt);let Fn=se(t.overlay);Fn&&(T.overlay=Fn);let Yn=Ke(t.alerts,[Qn,v_]);Yn.length&&(T.alerts=Yn);let jn=t.refinements;jn&&(T.refinements=jn);let Un=t.estimatedResults?parseInt(t.estimatedResults):null;Un&&(T.estimated_results=Un);let Wn=qe(t.playerOverlays);Wn&&(T.player_overlays=Wn);let Hn=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Hn&&(T.playback_tracking=Hn);let Jn=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:se(t.playabilityStatus.audioOnlyPlayability,b_),error_screen:se(t.playabilityStatus.errorScreen)}:null;if(Jn&&(T.playability_status=Jn),t.streamingData){let Se=new Map,rt={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:cb(t.streamingData.formats,Se),adaptive_formats:cb(t.streamingData.adaptiveFormats,Se),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};T.streaming_data=rt}if(t.playerConfig){let Se={audio_config:{loudness_db:(o=t.playerConfig.audioConfig)===null||o===void 0?void 0:o.loudnessDb,perceptual_loudness_db:(r=t.playerConfig.audioConfig)===null||r===void 0?void 0:r.perceptualLoudnessDb,enable_per_format_loudness:(s=t.playerConfig.audioConfig)===null||s===void 0?void 0:s.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((l=t.playerConfig.streamSelectionConfig)===null||l===void 0?void 0:l.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((f=(p=t.playerConfig.mediaCommonConfig)===null||p===void 0?void 0:p.dynamicReadaheadConfig)===null||f===void 0?void 0:f.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((_=(m=t.playerConfig.mediaCommonConfig)===null||m===void 0?void 0:m.dynamicReadaheadConfig)===null||_===void 0?void 0:_.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((x=(b=t.playerConfig.mediaCommonConfig)===null||b===void 0?void 0:b.dynamicReadaheadConfig)===null||x===void 0?void 0:x.readAheadGrowthRateMs)||0}}};T.player_config=Se}let Gn=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;Gn&&(T.current_video_endpoint=Gn);let zn=t.endpoint?new v(t.endpoint):null;zn&&(T.endpoint=zn);let $n=se(t.captions,H0);$n&&(T.captions=$n);let Kn=t.videoDetails?new no(t.videoDetails):null;Kn&&(T.video_details=Kn);let ce=Ke(t.annotations,W0);ce.length&&(T.annotations=ce);let yt=se(t.storyboards,[Ao,z0]);yt&&(T.storyboards=yt);let Ge=se(t.endscreen,Ov);Ge&&(T.endscreen=Ge);let _i=se(t.cards,Q_);_i&&(T.cards=_i);let yo=Ke(t.engagementPanels,ji);return yo.length&&(T.engagement_panels=yo),T}n(QC,"parseResponse");function se(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=vh(i[0]);if(!Pk(o))try{let s=Cg(o)?hh(o):_h(o,t[i[0]],Ko);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===s.type))return Ko({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(s.type!==e.type)return Ko({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new s(t[i[0]]);return qC(o,l),l}catch(r){return Ko({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(se,"parseItem");function Ke(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=se(o,e);r&&i.push(r)}return ue(i)}else if(!t)return ue([]);throw new bt("Expected array but got a single item")}n(Ke,"parseArray");function qe(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let s of t){let l=se(s,i);l&&o.push(l)}let r=ue(o);return e?r:new Zt(r)}else if(e)throw new bt("Expected array but got a single item");return new Zt(se(t,i))}n(qe,"parse");function Nk(t){return t.timedContinuationData?new zo({continuation:t.timedContinuationData,type:"timed"}):null}n(Nk,"parseC");function lb(t){return t.itemSectionContinuation?new Qi(t.itemSectionContinuation):t.sectionListContinuation?new ut(t.sectionListContinuation):t.liveChatContinuation?new oo(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new to(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ui(t.musicShelfContinuation):t.gridContinuation?new io(t.gridContinuation):t.playlistPanelContinuation?new Lr(t.playlistPanelContinuation):t.continuationCommand?new wi(t.continuationCommand):null}n(lb,"parseLC");function Ag(t){return ue(t.map(e=>{if(e.navigateAction)return new Zi(e.navigateAction);if(e.showMiniplayerCommand)return new Dr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new eo(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new So(e.appendContinuationItemsAction)}).filter(e=>e))}n(Ag,"parseRR");function Ak(t){return Array.isArray(t)?qe(t.map(e=>(delete e.clickTrackingParams,e))):new Zt(se(t))}n(Ak,"parseActions");function cb(t,e){return(t==null?void 0:t.map(i=>new Ng(i,e)))||[]}n(cb,"parseFormats");function Rk(t,e){let i=t.getType(Lt);if(i.length>0&&!e)Ko({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let s=e.find(p=>{var f,m;return((m=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||m===void 0?void 0:m.id)===r.form_item_entity_key}),l=s==null?void 0:s.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?r.selected=l.selected:o.push(`'${r.title}'`)}o.length>0&&Ko({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(Rk,"applyMutations");var vb={};D(vb,{AccountInfo:()=>Mg,Analytics:()=>Og,Channel:()=>Me,ChannelListContinuation:()=>on,Comments:()=>Fg,FilteredChannelList:()=>lo,Guide:()=>jg,HashtagFeed:()=>ci,History:()=>Jr,HomeFeed:()=>Wt,ItemMenu:()=>Jg,Library:()=>$g,LiveChat:()=>tx,NotificationsMenu:()=>ix,Playlist:()=>Ti,Search:()=>ox,Settings:()=>nx,SmoothedQueue:()=>Xg,TimeWatched:()=>sx,TranscriptInfo:()=>Bg,VideoInfo:()=>Nh});var Br,Rg=class{constructor(e){if(Br.set(this,void 0),I(this,Br,c.parseResponse(e.data),"f"),!d(this,Br,"f").contents)throw new g("Page contents not found");let i=d(this,Br,"f").contents.array().as(c_).first();if(!i)throw new g("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Br,"f")}};n(Rg,"AccountInfo");Br=new WeakMap;var Mg=Rg;var gh,Vg=class{constructor(e){var i;gh.set(this,void 0),I(this,gh,c.parseResponse(e.data),"f"),this.sections=(i=d(this,gh,"f").contents_memo)===null||i===void 0?void 0:i.getType(gr).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,gh,"f")}};n(Vg,"Analytics");gh=new WeakMap;var Og=Vg;var xh,Xe,Xo,yh,lt,Mk,pb,ro=class{constructor(e,i,o=!1){xh.add(this),Xe.set(this,void 0),Xo.set(this,void 0),yh.set(this,void 0),lt.set(this,void 0),d(this,xh,"m",Mk).call(this,i)||o?I(this,Xe,i,"f"):I(this,Xe,c.parseResponse(i.data),"f");let r=fb(d(this,Xe,"f").contents_memo,d(this,Xe,"f").continuation_contents_memo,d(this,Xe,"f").on_response_received_commands_memo,d(this,Xe,"f").on_response_received_endpoints_memo,d(this,Xe,"f").on_response_received_actions_memo,d(this,Xe,"f").sidebar_memo,d(this,Xe,"f").header_memo);if(!r)throw new g("No memo found in feed");I(this,lt,r,"f"),I(this,yh,e,"f")}static getVideosFromMemo(e){return e.getType(ir,Hv,tg,rr,Cr,bi,yg)}static getPlaylistsFromMemo(e){return e.getType(ei,jv)}get videos(){return ro.getVideosFromMemo(d(this,lt,"f"))}get posts(){return d(this,lt,"f").getType(Bi,eg,dg)}get channels(){return d(this,lt,"f").getType(nv,Yv)}get playlists(){return ro.getPlaylistsFromMemo(d(this,lt,"f"))}get memo(){return d(this,lt,"f")}get page_contents(){var e;let i=(e=d(this,lt,"f").getType(ye))===null||e===void 0?void 0:e.first().content,o=d(this,lt,"f").getType(eo).first(),r=d(this,lt,"f").getType(So).first();return i||o||r}get shelves(){return d(this,lt,"f").getType(Ar,ng,ar)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,Xe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,Xe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(si,_g))return o.secondary_contents}get actions(){return d(this,yh,"f")}get page(){return d(this,Xe,"f")}get has_continuation(){return d(this,xh,"m",pb).call(this).length>0}getContinuationData(){return y(this,void 0,void 0,function*(){if(d(this,Xo,"f")){if(d(this,Xo,"f").length===0)throw new g("There are no continuations.");return yield d(this,Xo,"f")[0].endpoint.call(d(this,yh,"f"),{parse:!0})}if(I(this,Xo,d(this,xh,"m",pb).call(this),"f"),d(this,Xo,"f"))return this.getContinuationData()})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new ro(this.actions,e,!0)})}};n(ro,"Feed");Xe=new WeakMap,Xo=new WeakMap,yh=new WeakMap,lt=new WeakMap,xh=new WeakSet,Mk=n(function(e){return!("data"in e)},"_Feed_isParsed"),pb=n(function(){if(d(this,Xe,"f").header_memo){let e=d(this,Xe,"f").header_memo.getType(he);return d(this,lt,"f").getType(he).filter(i=>!e.includes(i))}return d(this,lt,"f").getType(he)},"_Feed_getBodyContinuations");var _e=ro;var Fr,Dg=class extends _e{constructor(e,i,o=!1){super(e,i,o),Fr.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Fr,"f"))return d(this,Fr,"f")||[];if(((e=this.memo.getType(yi))===null||e===void 0?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(yi))===null||i===void 0?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return I(this,Fr,this.memo.getType(ge),"f"),d(this,Fr,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(s=>s.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new g("Invalid filter");if(!o)throw new g("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new g("Failed to get filtered feed");return new _e(this.actions,r,!0)})}};n(Dg,"FilterableFeed");Fr=new WeakMap;var so=Dg;var mb={};D(mb,{Feed:()=>_e,FilterableFeed:()=>so,MediaInfo:()=>uo,TabbedFeed:()=>Qo});var ao,Ut,Yr,bh,Lg=class{constructor(e,i,o){var r,s;ao.set(this,void 0),Ut.set(this,void 0),Yr.set(this,void 0),bh.set(this,void 0),I(this,Ut,i,"f");let l=c.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?c.parseResponse(e[1].data):void 0;if(I(this,ao,[l,p],"f"),I(this,Yr,o,"f"),((s=l.playability_status)===null||s===void 0?void 0:s.status)==="ERROR")throw new g("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,this.player_config=l.player_config,I(this,bh,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var r;return y(this,void 0,void 0,function*(){let s=d(this,ao,"f")[0];if(s.video_details&&s.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&s.storyboards&&(l=s.storyboards),Ro.toDash(this.streaming_data,(r=this.page[0].video_details)===null||r===void 0?void 0:r.is_post_live_dvr,e,i,d(this,Yr,"f"),d(this,Ut,"f").session.player,d(this,Ut,"f"),l)})}getStreamingInfo(e,i){var o;return iv(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,d(this,Ut,"f").session.player,d(this,Ut,"f"),d(this,ao,"f")[0].storyboards?d(this,ao,"f")[0].storyboards:void 0)}chooseFormat(e){return Ro.chooseFormat(e,this.streaming_data)}download(e={}){return y(this,void 0,void 0,function*(){let i=d(this,ao,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Ro.download(e,d(this,Ut,"f"),this.playability_status,this.streaming_data,d(this,Ut,"f").session.player,this.cpn)})}getTranscript(){var e;return y(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new g("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new g("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(he);if(!r)throw new g("Transcript continuation not found.");let s=yield r.endpoint.call(this.actions);return new Bg(this.actions,s)})}addToWatchHistory(e=q.CLIENTS.WEB.NAME,i=q.CLIENTS.WEB.VERSION,o="https://www."){return y(this,void 0,void 0,function*(){if(!d(this,bh,"f"))throw new g("Playback tracking not available");let r={cpn:d(this,Yr,"f"),fmt:251,rtn:0,rt:0},s=d(this,bh,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Ut,"f").stats(s,{client_name:e,client_version:i},r)})}get actions(){return d(this,Ut,"f")}get cpn(){return d(this,Yr,"f")}get page(){return d(this,ao,"f")}};n(Lg,"MediaInfo");ao=new WeakMap,Ut=new WeakMap,Yr=new WeakMap,bh=new WeakMap;var uo=Lg;var Zo,en,tn=class extends _e{constructor(e,i,o=!1){var r;super(e,i,o),Zo.set(this,void 0),en.set(this,void 0),I(this,en,e,"f"),I(this,Zo,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(ye),"f")}get tabs(){var e,i;return(i=(e=d(this,Zo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return y(this,void 0,void 0,function*(){let o=(i=d(this,Zo,"f"))===null||i===void 0?void 0:i.find(s=>s.title.toLowerCase()===e.toLowerCase());if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,en,"f"));return new tn(d(this,en,"f"),r,!1)})}getTabByURL(e){var i;return y(this,void 0,void 0,function*(){let o=(i=d(this,Zo,"f"))===null||i===void 0?void 0:i.find(s=>{var l;return((l=s.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,en,"f"));return new tn(d(this,en,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,Zo,"f"))===null||i===void 0?void 0:i.some(r=>{var s;return((s=r.endpoint.metadata.url)===null||s===void 0?void 0:s.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(ye))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(tn,"TabbedFeed");Zo=new WeakMap,en=new WeakMap;var Qo=tn;var Me=class extends Qo{constructor(e,i,o=!1){var r,s,l,p,f,m;super(e,i,o),this.header=(s=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||s===void 0?void 0:s.as(Ui,Z_,Qv,ni);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(rv),b=(p=this.page.microformat)===null||p===void 0?void 0:p.as(ti);if(this.page.alerts){let x=this.page.alerts.first();if((x==null?void 0:x.alert_type)==="ERROR")throw new jr(x.text.toString())}if(!_&&!this.page.contents)throw new g("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),b||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(ze).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().as(si).tabs.array().filterType(ye,xr).get({selected:!0})}applyFilter(e){var i;return y(this,void 0,void 0,function*(){let o,r=this.memo.getType(yi).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof ge&&(o=e);if(!o)throw new g("Invalid filter",e);let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new g("No page returned",{filter:o});return new lo(this.actions,s,!0)})}applySort(e){var i,o;return y(this,void 0,void 0,function*(){let r=this.memo.getType(Mt).first();if(!r)throw new g("No sort filter sub menu found");let s=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let l=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Me(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(X).sub_menu)===null||r===void 0?void 0:r.as(rl);if(!l)throw new g("Sub menu not found");let p=l.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(s=p.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0});return new Me(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(yi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(ge).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Mt).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(X).sub_menu)===null||o===void 0?void 0:o.as(rl);return(r==null?void 0:r.content_type_sub_menu_items.map(s=>s.title))||[]}getHome(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Me(this.actions,e.page,!0)})}getVideos(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Me(this.actions,e.page,!0)})}getShorts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Me(this.actions,e.page,!0)})}getLiveStreams(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Me(this.actions,e.page,!0)})}getReleases(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Me(this.actions,e.page,!0)})}getPodcasts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Me(this.actions,e.page,!0)})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Me(this.actions,e.page,!0)})}getCommunity(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Me(this.actions,e.page,!0)})}getAbout(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Xu)[0];let l=((e=this.header)===null||e===void 0?void 0:e.is(Ui))&&this.header.tagline;if(l||((i=this.header)===null||i===void 0?void 0:i.is(ni))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(l&&l.more_endpoint instanceof v){let m=yield l.more_endpoint.call(this.actions);return new Qo(this.actions,m,!1).memo.getType(Xu)[0]}let p=(s=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(he)[0])===null||s===void 0?void 0:s.endpoint;if(!p)throw new g("Failed to extract continuation to get channel about");let f=yield p.call(this.actions,{parse:!0});if(!f.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:f});return f.on_response_received_endpoints_memo.getType(s_)[0]}throw new g("About not found")})}search(e){var i,o;return y(this,void 0,void 0,function*(){let r=(i=this.memo.getType(xr))===null||i===void 0?void 0:i[0];if(!r)throw new g("Search tab not found",this);let s=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Me(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,s;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Ui))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(ni))&&((s=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||s===void 0?void 0:s.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(xr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new on(this.actions,i,!0)})}};n(Me,"Channel");var on=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((s=this.page.on_response_received_endpoints)===null||s===void 0?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new on(this.actions,i,!0)})}};n(on,"ChannelListContinuation");var lo=class extends so{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(ge).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new lo(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new g("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(yi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(ge)),new lo(this.actions,i,!0)})}};n(lo,"FilteredChannelList");var Ur,li,Wr,nn=class{constructor(e,i,o=!1){var r,s,l;Ur.set(this,void 0),li.set(this,void 0),Wr.set(this,void 0),I(this,Ur,o?i:c.parseResponse(i),"f"),I(this,li,e,"f");let p=d(this,Ur,"f").on_response_received_endpoints;if(!p)throw new g("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.firstOfType(Gi);let _=((s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.filterType(wv))||[];this.contents=ue(_.map(b=>{var x;return(x=b.comment)===null||x===void 0||x.setActions(d(this,li,"f")),b.setActions(d(this,li,"f")),b})),I(this,Wr,(l=m==null?void 0:m.contents)===null||l===void 0?void 0:l.firstOfType(he),"f")}applySort(e){var i,o,r,s;return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(s=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.at(1)),!l)throw new g("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(d(this,li,"f"),{parse:!0});return new nn(d(this,li,"f"),p,!0)})}createComment(e){var i;return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(bv).submit_button;if(!o)throw new g("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new g("Button does not have an endpoint.");return yield o.endpoint.call(d(this,li,"f"),{commentText:e})})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Wr,"f"))throw new g("Continuation not found");let e=yield d(this,Wr,"f").endpoint.call(d(this,li,"f"),{parse:!0}),i=Object.assign({},d(this,Ur,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new nn(d(this,li,"f"),i,!0)})}get has_continuation(){return!!d(this,Wr,"f")}get page(){return d(this,Ur,"f")}};n(nn,"Comments");Ur=new WeakMap,li=new WeakMap,Wr=new WeakMap;var Fg=nn;var wh,Yg=class{constructor(e){wh.set(this,void 0),I(this,wh,c.parseResponse(e),"f"),this.contents=d(this,wh,"f").items.array().as(yr,Jv)}get page(){return d(this,wh,"f")}};n(Yg,"Guide");wh=new WeakMap;var jg=Yg;var Hr=class extends _e{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(xe),this.feed_actions=this.memo.getType(S_).first()}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Hr(this.actions,e,!0)})}};n(Hr,"History");var Jr=Hr;var Wt=class extends so{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(Bv).first(),this.contents=this.memo.getType(Xi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Wt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return y(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Wt(this.actions,o.page,!0)})}};n(Wt,"HomeFeed");var ci=class extends so{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let o=this.page.contents_memo.getType(ye).first();if(!o.content)throw new g("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(Gv,ni)),this.contents=o.content.as(Xi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ci(this.actions,o.page)})}};n(ci,"HashtagFeed");var Ug,Wg,Th,Hg=class{constructor(e,i){Ug.set(this,void 0),Wg.set(this,void 0),Th.set(this,void 0),I(this,Ug,e,"f"),I(this,Wg,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(j))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');I(this,Th,o.as(j).items,"f")}selectItem(e){return y(this,void 0,void 0,function*(){let i;if(e instanceof S){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let r=d(this,Th,"f").find(s=>s.is(zi)?s.as(zi).icon_type===e:!1);if(!r||!r.is(zi))throw new g(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return yield i.call(d(this,Wg,"f"),{parse:!0})})}items(){return d(this,Th,"f")}page(){return d(this,Ug,"f")}};n(Hg,"ItemMenu");Ug=new WeakMap,Wg=new WeakMap,Th=new WeakMap;var Jg=Hg;var Ih,Gg,Gr=class extends _e{constructor(e,i,o=!1){var r,s,l,p,f;super(e,i,o),Ih.add(this);let m=this.memo.getType(q0).first(),_=this.memo.getType(Q0).first(),b=this.memo.getType(Z0).first(),x=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Qn);if(x&&x.alert_type==="ERROR")throw new g(x.text.toString(),x);if(!_&&!b&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(X0)),{subtitle:m?m.subtitle:null,author:(p=(l=b==null?void 0:b.owner)===null||l===void 0?void 0:l.as(Mr).author)!==null&&p!==void 0?p:m==null?void 0:m.author,thumbnails:(f=_==null?void 0:_.thumbnail_renderer)===null||f===void 0?void 0:f.as(_r,hr).thumbnail,total_items:d(this,Ih,"m",Gg).call(this,0,_),views:d(this,Ih,"m",Gg).call(this,1,_),last_updated:d(this,Ih,"m",Gg).call(this,2,_),can_share:m==null?void 0:m.can_share,can_delete:m==null?void 0:m.can_delete,is_editable:m==null?void 0:m.is_editable,privacy:m==null?void 0:m.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType($e)}get items(){return ue(this.videos.as(Cr).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(X).first();return e?!!this.memo.getType(he).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=this.memo.getType(X).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(he).find(s=>!i.contents.includes(s));if(!o)throw new g("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Gr(this.actions,e,!0)})}};n(Gr,"Playlist");Ih=new WeakSet,Gg=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Ti=Gr;var hb,Vk,zg=class extends _e{constructor(e,i){if(super(e,i),hb.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(ni).first();let o=this.page.contents_memo.getType(Ar);this.sections=o.map(r=>{var s;return{type:r.icon_type,title:r.title,contents:((s=r.content)===null||s===void 0?void 0:s.key("items").array())||[],getAll:()=>d(this,hb,"m",Vk).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(zg,"Library");hb=new WeakSet,Vk=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(j).hasKey("top_level_buttons")))throw new g(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(j).top_level_buttons.firstOfType(S);if(!o)throw new g("Did not find target button.");let r=yield o.as(S).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ti(this.actions,r,!0);case"WATCH_HISTORY":return new Jr(this.actions,r,!0);case"CONTENT_CUT":return new _e(this.actions,r,!0);default:throw new g("Target shelf not implemented.")}})},"_Library_getAll");var $g=zg;var Ii,co,rn,It,Ht,ct;function ZC(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(ZC,"flattenQueue");var Kg=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(Kg,"DelayQueue");var qg=class{constructor(){Ii.set(this,void 0),co.set(this,void 0),rn.set(this,void 0),It.set(this,void 0),Ht.set(this,void 0),ct.set(this,void 0),I(this,Ii,null,"f"),I(this,co,null,"f"),I(this,rn,null,"f"),I(this,It,[],"f"),I(this,Ht,null,"f"),I(this,ct,new Kg,"f")}enqueueActionGroup(e){if(d(this,Ii,"f")!==null){let i=Date.now()-d(this,Ii,"f");d(this,ct,"f").back.push(i),5<d(this,ct,"f").front.length+d(this,ct,"f").back.length&&(d(this,ct,"f").front.length||(d(this,ct,"f").front=d(this,ct,"f").back,d(this,ct,"f").front.reverse(),d(this,ct,"f").back=[]),d(this,ct,"f").front.pop()),I(this,co,Math.max(...d(this,ct,"f").getValues()),"f")}I(this,Ii,Date.now(),"f"),d(this,It,"f").push(e),d(this,Ht,"f")===null&&I(this,Ht,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(I(this,Ht,null,"f"),d(this,It,"f").length){let e=1e4;d(this,co,"f")!==null&&d(this,Ii,"f")!==null&&(e=d(this,co,"f")-Date.now()+d(this,Ii,"f")),e=d(this,It,"f").length<e/80?1:Math.ceil(d(this,It,"f").length/(e/80));let i=ZC(d(this,It,"f").splice(0,e));d(this,rn,"f")&&d(this,rn,"f").call(this,i),d(this,It,"f")!==null&&(e==1?(e=d(this,co,"f")/d(this,It,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,I(this,Ht,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,Ht,"f")!==null&&(clearTimeout(d(this,Ht,"f")),I(this,Ht,null,"f")),I(this,It,[],"f")}set callback(e){I(this,rn,e,"f")}get callback(){return d(this,rn,"f")}get action_queue(){return d(this,It,"f")}get estimated_update_interval(){return d(this,co,"f")}get last_update_time(){return d(this,Ii,"f")}get next_update_id(){return d(this,Ht,"f")}get poll_response_delay_queue(){return d(this,ct,"f")}};n(qg,"SmoothedQueue");Ii=new WeakMap,co=new WeakMap,rn=new WeakMap,It=new WeakMap,Ht=new WeakMap,ct=new WeakMap;var Xg=qg;var We,Si,Ch,Qg,an,Sh,kh,_b,Zg,Ok,sn,ex=class extends $u{constructor(e){var i,o;super(),We.add(this),Si.set(this,void 0),Ch.set(this,void 0),Qg.set(this,void 0),an.set(this,void 0),Sh.set(this,void 0),kh.set(this,0),this.running=!1,this.is_replay=!1,I(this,Ch,e.basic_info.id,"f"),I(this,Qg,e.basic_info.channel_id,"f"),I(this,Si,e.actions,"f"),I(this,an,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Xg,this.smoothed_queue.callback=r=>y(this,void 0,void 0,function*(){r.length?r.length<10?yield d(this,We,"m",Zg).call(this,r):this.is_replay?(d(this,We,"m",Zg).call(this,r),yield d(this,We,"m",sn).call(this,2e3)):d(this,We,"m",Zg).call(this,r):yield d(this,We,"m",sn).call(this,2e3),this.running&&d(this,We,"m",_b).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,We,"m",_b).call(this),d(this,We,"m",Ok).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Si,"f").execute("/live_chat/send_message",{params:Jy(d(this,Qg,"f"),d(this,Ch,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:L.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new g("Unexpected response from send_message",i);return i.actions.array().as(s0)})}applyFilter(e){var i,o,r,s,l,p,f;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let m=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((s=m==null?void 0:m.at(0))===null||s===void 0)&&s.selected)return;I(this,an,(l=m==null?void 0:m.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;I(this,an,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return y(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new g("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(d(this,Si,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new Jg(i,d(this,Si,"f"))})}selectButton(e){return y(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Si,"f"),{parse:!0})})}};n(ex,"LiveChat");Si=new WeakMap,Ch=new WeakMap,Qg=new WeakMap,an=new WeakMap,Sh=new WeakMap,kh=new WeakMap,We=new WeakSet,_b=n(function t(){y(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,Si,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,an,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new g("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof oo)){this.stop(),this.emit("end");return}I(this,an,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&d(this,We,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),I(this,kh,0,"f")}catch(o){this.emit("error",o),I(this,kh,(i=d(this,kh,"f"),e=i++,i),"f"),e<10?(yield d(this,We,"m",sn).call(this,2e3),d(this,We,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Zg=n(function(e){return y(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let s of e)yield d(this,We,"m",sn).call(this,r),this.emit("chat-update",s)})},"_LiveChat_emitSmoothedActions"),Ok=n(function t(){y(this,void 0,void 0,function*(){var e,i,o,r,s,l,p,f,m,_,b;try{let x={videoId:d(this,Ch,"f")};d(this,Sh,"f")&&(x.continuation=d(this,Sh,"f"));let T=yield d(this,Si,"f").execute("/updated_metadata",x),k=c.parseResponse(T.data);I(this,Sh,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(d0))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(c0))||((s=this.metadata)===null||s===void 0?void 0:s.description),views:((l=k.actions)===null||l===void 0?void 0:l.array().firstOfType(f0))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(p0))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=k.actions)===null||_===void 0?void 0:_.array().firstOfType(l0))||((b=this.metadata)===null||b===void 0?void 0:b.date)},this.emit("metadata-update",this.metadata),yield d(this,We,"m",sn).call(this,5e3),this.running&&d(this,We,"m",t).call(this)}catch(x){yield d(this,We,"m",sn).call(this,2e3),this.running&&d(this,We,"m",t).call(this)}})},"_LiveChat_pollMetadata"),sn=n(function(e){return y(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var tx=ex;var un,Eh,zr=class{constructor(e,i){un.set(this,void 0),Eh.set(this,void 0),I(this,Eh,e,"f"),I(this,un,c.parseResponse(i.data),"f"),this.header=d(this,un,"f").actions_memo.getType(b0).first(),this.contents=d(this,un,"f").actions_memo.getType(F0)}getContinuation(){return y(this,void 0,void 0,function*(){let e=d(this,un,"f").actions_memo.getType(he).first();if(!e)throw new g("Continuation not found");let i=yield e.endpoint.call(d(this,Eh,"f"),{parse:!1});return new zr(d(this,Eh,"f"),i)})}get page(){return d(this,un,"f")}};n(zr,"NotificationsMenu");un=new WeakMap,Eh=new WeakMap;var ix=zr;var ln=class extends _e{constructor(e,i,o=!1){var r,s,l,p,f,m;super(e,i,o);let _=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(X).first().contents)||((s=this.page.on_response_received_commands)===null||s===void 0?void 0:s.first().contents);if(!_)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(sg)),this.results=(l=_.find(b=>b.is(xe)&&b.contents&&b.contents.length>0))===null||l===void 0?void 0:l.as(xe).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(ag).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(gg).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Fi)}selectRefinementCard(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Co),!r)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new g("Invalid refinement card!");let s=yield r.endpoint.call(this.actions,{parse:!0});return new ln(this.actions,s,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Co).map(i=>i.query))||[]}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new ln(this.actions,e,!0)})}};n(ln,"Search");var ox=ln;var cn,Ph,$r=class{constructor(e,i){var o,r,s,l;if(cn.set(this,void 0),Ph.set(this,void 0),I(this,Ph,e,"f"),I(this,cn,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,cn,"f").sidebar)===null||o===void 0?void 0:o.as(cg),!d(this,cn,"f").contents)throw new g("Page contents not found");let p=d(this,cn,"f").contents.item().as(si).tabs.array().as(ye).get({selected:!0});if(!p)throw new g("Target tab not found");let f=(r=p.content)===null||r===void 0?void 0:r.as(X).contents.as(xe);this.introduction=(l=(s=f==null?void 0:f.shift())===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(j0),this.sections=f==null?void 0:f.map(m=>{var _;return{title:!((_=m.header)===null||_===void 0)&&_.is(Gi,br,wr)?m.header.title.toString():null,contents:m.contents}})}selectSidebarItem(e){return y(this,void 0,void 0,function*(){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(mr))i=e;else throw new g("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Ph,"f"),{parse:!1});return new $r(d(this,Ph,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let s=r.as(Nr).options;if(s){for(let l of s)if(l.is(Pr)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Nr).options&&(e=e.concat(o.as(Nr).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,cn,"f")}};n($r,"Settings");cn=new WeakMap,Ph=new WeakMap;var nx=$r;var Kr,rx=class{constructor(e){var i;if(Kr.set(this,void 0),I(this,Kr,c.parseResponse(e.data),"f"),!d(this,Kr,"f").contents)throw new g("Page contents not found");let o=d(this,Kr,"f").contents.item().as(ri).tabs.get({selected:!0});if(!o)throw new g("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(X).contents.as(xe)}get page(){return d(this,Kr,"f")}};n(rx,"TimeWatched");Kr=new WeakMap;var sx=rx;var po,qr=class extends uo{constructor(e,i,o){var r,s,l,p,f,m,_,b,x,T,k,N,A,F,Q,O,ae,we,ke,Ne,Oe,$,z,Z,oe,Ye,pt,xt,K,Je,Kt,qt,Ce,nt,Fn,Yn,jn,Un,Wn,Hn,Jn,Gn,zn,$n,Kn;super(e,i,o),po.set(this,void 0);let[ce,yt]=this.page;if(ce.microformat&&!(!((r=ce.microformat)===null||r===void 0)&&r.is(Tt,ti)))throw new g("Invalid microformat",ce.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ce.video_details),{embed:!((s=ce.microformat)===null||s===void 0)&&s.is(Tt)?(l=ce.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ce.microformat)===null||p===void 0)&&p.is(Tt)?(f=ce.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=ce.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=ce.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((b=ce.microformat)===null||b===void 0)&&b.is(Tt)?(x=ce.microformat)===null||x===void 0?void 0:x.category:null,has_ypc_metadata:!((T=ce.microformat)===null||T===void 0)&&T.is(Tt)?(k=ce.microformat)===null||k===void 0?void 0:k.has_ypc_metadata:null,start_timestamp:!((N=ce.microformat)===null||N===void 0)&&N.is(Tt)?ce.microformat.start_timestamp:null,end_timestamp:!((A=ce.microformat)===null||A===void 0)&&A.is(Tt)?ce.microformat.end_timestamp:null,view_count:((F=ce.microformat)===null||F===void 0?void 0:F.is(Tt))&&isNaN((Q=ce.video_details)===null||Q===void 0?void 0:Q.view_count)?ce.microformat.view_count:(O=ce.video_details)===null||O===void 0?void 0:O.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ce.annotations,this.storyboards=ce.storyboards,this.endscreen=ce.endscreen,this.captions=ce.captions,this.cards=ce.cards,this.streaming_data){let Se=this.streaming_data.adaptive_formats.find(rt=>{var Xt;return(Xt=rt.audio_track)===null||Xt===void 0?void 0:Xt.audio_is_default});if(Se)this.streaming_data.formats.forEach(rt=>rt.language=Se.language);else if(((ae=this.captions)===null||ae===void 0?void 0:ae.caption_tracks)&&((we=this.captions)===null||we===void 0?void 0:we.caption_tracks.length)>0){let rt=this.captions.caption_tracks.find(De=>De.kind==="asr"),Xt=rt==null?void 0:rt.language_code;this.streaming_data.adaptive_formats.forEach(De=>{De.has_audio&&(De.language=Xt)}),this.streaming_data.formats.forEach(De=>De.language=Xt)}}let Ge=(ke=yt==null?void 0:yt.contents)===null||ke===void 0?void 0:ke.item().as(Rr),_i=Ge==null?void 0:Ge.results,yo=Ge==null?void 0:Ge.secondary_results;if(_i&&yo){if(((Ne=ce.microformat)===null||Ne===void 0?void 0:Ne.is(Tt))&&((Oe=ce.microformat)===null||Oe===void 0?void 0:Oe.category)==="Gaming"){let De=(Z=(z=($=_i.firstOfType(th))===null||$===void 0?void 0:$.metadata)===null||z===void 0?void 0:z.rows)===null||Z===void 0?void 0:Z.firstOfType(Gf);De!=null&&De.is(Gf)&&(this.game_info={title:(Ye=(oe=De==null?void 0:De.contents)===null||oe===void 0?void 0:oe.firstOfType(Hf))===null||Ye===void 0?void 0:Ye.title,release_year:(xt=(pt=De==null?void 0:De.contents)===null||pt===void 0?void 0:pt.firstOfType(Hf))===null||xt===void 0?void 0:xt.subtitle})}this.primary_info=_i.firstOfType(xg),this.secondary_info=_i.firstOfType(th),this.merchandise=_i.firstOfType(w0),this.related_chip_cloud=(K=yo.firstOfType(og))===null||K===void 0?void 0:K.content.as(ft),Ge!=null&&Ge.playlist&&(this.playlist=Ge.playlist),this.watch_next_feed=((Je=yo.firstOfType(xe))===null||Je===void 0?void 0:Je.contents)||yo,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Kt=this.watch_next_feed.at(-1))===null||Kt===void 0?void 0:Kt.is(he))&&I(this,po,(qt=this.watch_next_feed.pop())===null||qt===void 0?void 0:qt.as(he),"f"),this.player_overlays=(Ce=yt==null?void 0:yt.player_overlays)===null||Ce===void 0?void 0:Ce.item().as(qi),Ge!=null&&Ge.autoplay&&(this.autoplay=Ge.autoplay);let Se=(Fn=(nt=this.primary_info)===null||nt===void 0?void 0:nt.menu)===null||Fn===void 0?void 0:Fn.top_level_buttons.firstOfType(Ho);((Yn=Se==null?void 0:Se.like_button)===null||Yn===void 0?void 0:Yn.is(Be))&&((jn=Se==null?void 0:Se.dislike_button)===null||jn===void 0?void 0:jn.is(Be))&&(this.basic_info.like_count=(Un=Se==null?void 0:Se.like_button)===null||Un===void 0?void 0:Un.like_count,this.basic_info.is_liked=(Wn=Se==null?void 0:Se.like_button)===null||Wn===void 0?void 0:Wn.is_toggled,this.basic_info.is_disliked=(Hn=Se==null?void 0:Se.dislike_button)===null||Hn===void 0?void 0:Hn.is_toggled);let rt=(Gn=(Jn=this.primary_info)===null||Jn===void 0?void 0:Jn.menu)===null||Gn===void 0?void 0:Gn.top_level_buttons.firstOfType(Jo);if(rt&&(this.basic_info.like_count=rt.like_count,rt.like_button)){let De=rt.like_button.like_status_entity.like_status;this.basic_info.is_liked=De==="LIKE",this.basic_info.is_disliked=De==="DISLIKE"}let Xt=(zn=_i.get({target_id:"comments-entry-point"}))===null||zn===void 0?void 0:zn.as(xe);this.comments_entry_point_header=($n=Xt==null?void 0:Xt.contents)===null||$n===void 0?void 0:$n.firstOfType(yv),this.livechat=(Kn=yt==null?void 0:yt.contents_memo)===null||Kn===void 0?void 0:Kn.getType(o0).first()}}selectFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new g("Invalid filter",{available_filters:this.filters});l=m}else if(e!=null&&e.is(ge))l=e;else throw new g("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(r=l.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),f=(s=p==null?void 0:p.on_response_received_endpoints)===null||s===void 0?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){if(!d(this,po,"f"))throw new g("Watch next feed continuation not found");let l=yield(e=d(this,po,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(he)?I(this,po,(s=this.watch_next_feed.pop())===null||s===void 0?void 0:s.as(he),"f"):I(this,po,void 0,"f"),this})}like(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Jo);if(l){let _=(o=l==null?void 0:l.like_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!l.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(Ho),f=p==null?void 0:p.like_button;if(!f)throw new g("Like button not found",{video_id:this.basic_info.id});if(!f.is(Be))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}dislike(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Jo);if(l){let _=(o=l==null?void 0:l.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!l.dislike_button||!l.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(Ho),f=p==null?void 0:p.dislike_button;if(!f)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!f.is(Be))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}removeRating(){var e,i,o,r,s,l,p;return y(this,void 0,void 0,function*(){let f,m=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Jo);if(m){let k=(o=m==null?void 0:m.like_button)===null||o===void 0?void 0:o.toggle_button;if(!k||!k.default_button||!m.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let N=m.like_button.like_status_entity.like_status;if(N==="LIKE")f=(r=m==null?void 0:m.like_button)===null||r===void 0?void 0:r.toggle_button;else if(N==="DISLIKE")f=(s=m==null?void 0:m.dislike_button)===null||s===void 0?void 0:s.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!f||!f.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(f.toggled_button.on_tap.payload.commands.find(Q=>Q.innertubeCommand)).call(this.actions)}let _=(p=(l=this.primary_info)===null||l===void 0?void 0:l.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(Ho),b=_==null?void 0:_.like_button,x=_==null?void 0:_.dislike_button;if(!(b!=null&&b.is(Be))||!(x!=null&&x.is(Be)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(b!=null&&b.is_toggled?f=b:x!=null&&x.is_toggled&&(f=x),!f)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return yield f.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new tx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(df).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new qr([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!d(this,po,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(df))}get music_tracks(){var e,i,o,r,s,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(Po)});if(p!==void 0&&p.length>0){let f=(s=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Po))===null||r===void 0?void 0:r.items)===null||s===void 0?void 0:s.filterType(sr);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(m=>{var _,b,x,T,k,N,A,F,Q,O,ae,we,ke,Ne,Oe,$,z,Z,oe;let Ye,pt,xt,K,Je,Kt;Ye=(b=(_=m.video_lockup)===null||_===void 0?void 0:_.title)===null||b===void 0?void 0:b.toString(),Je=(x=m.video_lockup)===null||x===void 0?void 0:x.endpoint.payload.videoId;for(let qt=0;qt<m.info_rows.length;qt++){let Ce=m.info_rows[qt];if(Ce.info_row_expand_status_key===void 0)if(Ye===void 0){if(Ye=((T=Ce.default_metadata)===null||T===void 0?void 0:T.toString())||((k=Ce.expanded_metadata)===null||k===void 0?void 0:k.toString()),Je===void 0){let nt=((N=Ce.default_metadata)===null||N===void 0?void 0:N.endpoint)||((A=Ce.expanded_metadata)===null||A===void 0?void 0:A.endpoint);Je=(F=nt==null?void 0:nt.payload)===null||F===void 0?void 0:F.videoId}}else xt=((Q=Ce.default_metadata)===null||Q===void 0?void 0:Q.toString())||((O=Ce.expanded_metadata)===null||O===void 0?void 0:O.toString());else{if(((ae=Ce.info_row_expand_status_key)===null||ae===void 0?void 0:ae.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(pt=((we=Ce.default_metadata)===null||we===void 0?void 0:we.toString())||((ke=Ce.expanded_metadata)===null||ke===void 0?void 0:ke.toString()),Kt===void 0)){let nt=((Ne=Ce.default_metadata)===null||Ne===void 0?void 0:Ne.endpoint)||((Oe=Ce.expanded_metadata)===null||Oe===void 0?void 0:Oe.endpoint);Kt=($=nt==null?void 0:nt.payload)===null||$===void 0?void 0:$.browseId}((z=Ce.info_row_expand_status_key)===null||z===void 0?void 0:z.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((Z=Ce.default_metadata)===null||Z===void 0?void 0:Z.toString())||((oe=Ce.expanded_metadata)===null||oe===void 0?void 0:oe.toString()))}}return{song:Ye,artist:pt,album:xt,license:K,videoId:Je,channelId:Kt}})}return[]}};n(qr,"VideoInfo");po=new WeakMap;var Nh=qr;var Ah,Rh,Xr=class{constructor(e,i){Ah.set(this,void 0),Rh.set(this,void 0),I(this,Ah,c.parseResponse(i.data),"f"),I(this,Rh,e,"f"),this.transcript=d(this,Ah,"f").actions_memo.getType(Xn).first()}selectLanguage(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l=(s=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield d(this,Rh,"f").execute("/get_transcript",{params:l.continuation});return new Xr(d(this,Rh,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(s=>s.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,s;return((s=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(l=>l.selected))===null||s===void 0?void 0:s.title.toString())||""}get page(){return d(this,Ah,"f")}};n(Xr,"TranscriptInfo");Ah=new WeakMap,Rh=new WeakMap;var Bg=Xr;var xb={};D(xb,{Album:()=>ux,Artist:()=>dx,Explore:()=>fx,HomeFeed:()=>mx,Library:()=>hx,LibraryContinuation:()=>mn,Playlist:()=>rs,Recap:()=>vx,Search:()=>gx,TrackInfo:()=>Bh});var ki,ax=class{constructor(e){var i,o,r;if(ki.set(this,void 0),I(this,ki,c.parseResponse(e.data),"f"),this.header=(i=d(this,ki,"f").header)===null||i===void 0?void 0:i.item().as(Uo),this.url=((o=d(this,ki,"f").microformat)===null||o===void 0?void 0:o.as(ti).url_canonical)||null,!d(this,ki,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(r=d(this,ki,"f").contents_memo.getType(Te))===null||r===void 0?void 0:r.first().contents,this.sections=d(this,ki,"f").contents_memo.getType(Re)||[]}get page(){return d(this,ki,"f")}};n(ax,"Album");ki=new WeakMap;var ux=ax;var Qr,lx,cx=class{constructor(e,i){var o,r,s;Qr.set(this,void 0),lx.set(this,void 0),I(this,Qr,c.parseResponse(e.data),"f"),I(this,lx,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(M0,B0,Ki);let l=((r=d(this,Qr,"f").contents_memo)===null||r===void 0?void 0:r.getType(Te))||[],p=((s=d(this,Qr,"f").contents_memo)===null||s===void 0?void 0:s.getType(Re))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return y(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new g("Could not find any node of type MusicShelf.");let r=o.find(p=>p.title.toString()==="Songs");if(!r)throw new g("Could not find target shelf (Songs).");if(!r.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield r.endpoint.call(d(this,lx,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Wo))===null||i===void 0?void 0:i.first()})}get page(){return d(this,Qr,"f")}};n(cx,"Artist");Qr=new WeakMap,lx=new WeakMap;var dx=cx;var Mh,px=class{constructor(e){var i,o,r;Mh.set(this,void 0),I(this,Mh,c.parseResponse(e.data),"f");let s=(i=d(this,Mh,"f").contents)===null||i===void 0?void 0:i.item().as(ri).tabs.get({selected:!0});if(!s)throw new g("Could not find target tab.");let l=(o=s.content)===null||o===void 0?void 0:o.as(X);if(!l)throw new g("Target tab did not have any content.");this.top_buttons=((r=l.contents.firstOfType(Lo))===null||r===void 0?void 0:r.items.as(Tr))||[],this.sections=l.contents.filterType(Re)}get page(){return d(this,Mh,"f")}};n(px,"Explore");Mh=new WeakMap;var fx=px;var fo,dn,pn,fn=class{constructor(e,i){var o,r,s,l,p,f;fo.set(this,void 0),dn.set(this,void 0),pn.set(this,void 0),I(this,dn,i,"f"),I(this,fo,c.parseResponse(e.data),"f");let m=(o=d(this,fo,"f").contents)===null||o===void 0?void 0:o.item().as(ri).tabs.get({selected:!0});if(!m)throw new g("Could not find Home tab.");if(m.content===null){if(!d(this,fo,"f").continuation_contents)throw new g("Continuation did not have any content.");I(this,pn,d(this,fo,"f").continuation_contents.as(ut).continuation,"f"),this.sections=(r=d(this,fo,"f").continuation_contents.as(ut).contents)===null||r===void 0?void 0:r.as(Re);return}this.header=(l=(s=m.content)===null||s===void 0?void 0:s.as(X).header)===null||l===void 0?void 0:l.as(ft),I(this,pn,(p=m.content)===null||p===void 0?void 0:p.as(X).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(X).contents.as(Re,L0)}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,pn,"f"))throw new g("Continuation not found.");let e=yield d(this,dn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,pn,"f")});return new fn(e,d(this,dn,"f"))})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ge).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ge)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,dn,"f"),{client:"YTMUSIC"});return new fn(s,d(this,dn,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ge).map(o=>o.text))||[]}get has_continuation(){return!!d(this,pn,"f")}get page(){return d(this,fo,"f")}};n(fn,"HomeFeed");fo=new WeakMap,dn=new WeakMap,pn=new WeakMap;var mx=fn;var di,mo,Zr,es,Vh,ts,is=class{constructor(e,i){var o,r,s,l,p;di.set(this,void 0),mo.set(this,void 0),Zr.set(this,void 0),I(this,di,c.parseResponse(e.data),"f"),I(this,mo,i,"f");let f=(o=d(this,di,"f").contents_memo)===null||o===void 0?void 0:o.getType(X).first();this.header=(r=f==null?void 0:f.header)===null||r===void 0?void 0:r.as(O0),this.contents=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Lo,Te),I(this,Zr,(p=(l=this.contents)===null||l===void 0?void 0:l.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,r,s,l,p,f,m,_,b;return y(this,void 0,void 0,function*(){let x;if(typeof e=="string"){let A=(i=d(this,di,"f").contents_memo)===null||i===void 0?void 0:i.getType(zp).first(),F=(o=A==null?void 0:A.menu)===null||o===void 0?void 0:o.options.filter(Q=>Q instanceof Lt);if(x=F==null?void 0:F.find(Q=>Q.title===e),!x)throw new g(`Sort option "${e}" not found`,{available_filters:F.map(Q=>Q.title)})}else e instanceof Lt&&(x=e);if(!x)throw new g("Invalid sort option");if(x.selected)return this;let T=(p=(l=(s=(r=x.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commands)===null||l===void 0?void 0:l.find(A=>A.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new g("Failed to find sort option command");let k=yield d(this,mo,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),N=(m=(f=d(this,di,"f").contents_memo)===null||f===void 0?void 0:f.getType(Lt))===null||m===void 0?void 0:m.find(A=>A.selected);return N&&(N.selected=!1),x.selected=!0,this.contents=(b=(_=k.continuation_contents)===null||_===void 0?void 0:_.as(ut).contents)===null||b===void 0?void 0:b.as(Lo,Te),this})}applyFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l,p=(i=d(this,di,"f").contents_memo)===null||i===void 0?void 0:i.getType(ft).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof ge&&(l=e);if(!l)throw new g("Invalid filter",e);let m=yield new v((s=(r=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||r===void 0?void 0:r.commands)===null||s===void 0?void 0:s[0]).call(d(this,mo,"f"),{client:"YTMUSIC"});return new is(m,d(this,mo,"f"))})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Zr,"f"))throw new g("No continuation available");let e=yield d(this,mo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Zr,"f")});return new mn(e,d(this,mo,"f"))})}get has_continuation(){return!!d(this,Zr,"f")}get sort_options(){var e,i;let o=(e=d(this,di,"f").contents_memo)===null||e===void 0?void 0:e.getType(zp).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(s=>s instanceof Lt)).map(s=>s.title)}get filters(){var e,i;return((i=(e=d(this,di,"f").contents_memo)===null||e===void 0?void 0:e.getType(ft))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,di,"f")}};n(is,"Library");di=new WeakMap,mo=new WeakMap,Zr=new WeakMap;var mn=class{constructor(e,i){if(es.set(this,void 0),Vh.set(this,void 0),ts.set(this,void 0),I(this,es,c.parseResponse(e.data),"f"),I(this,Vh,i,"f"),!d(this,es,"f").continuation_contents)throw new g("No continuation contents found");this.contents=d(this,es,"f").continuation_contents.as(ui,io),I(this,ts,this.contents.continuation||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,ts,"f"))throw new g("No continuation available");let e=yield d(this,Vh,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,ts,"f")});return new mn(e,d(this,Vh,"f"))})}get has_continuation(){return!!d(this,ts,"f")}get page(){return d(this,es,"f")}};n(mn,"LibraryContinuation");es=new WeakMap,Vh=new WeakMap,ts=new WeakMap;var hx=is;var gb,ht,_n,hn,os,Oh,Dk,ns=class{constructor(e,i){var o,r,s,l,p,f,m;if(gb.add(this),ht.set(this,void 0),_n.set(this,void 0),hn.set(this,void 0),os.set(this,void 0),Oh.set(this,void 0),I(this,_n,i,"f"),I(this,ht,c.parseResponse(e.data),"f"),I(this,os,null,"f"),I(this,Oh,null,"f"),d(this,ht,"f").continuation_contents){let _=(o=d(this,ht,"f").continuation_contents)===null||o===void 0?void 0:o.as(to);this.items=_.contents,I(this,hn,_.continuation,"f")}else((r=d(this,ht,"f").header)===null||r===void 0?void 0:r.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(s=d(this,ht,"f").header)===null||s===void 0?void 0:s.item().as(R0).header)===null||l===void 0?void 0:l.as(Uo):this.header=(p=d(this,ht,"f").header)===null||p===void 0?void 0:p.item().as(Uo),this.items=((f=d(this,ht,"f").contents_memo)===null||f===void 0?void 0:f.getType(Wo).first().contents)||null,I(this,hn,((m=d(this,ht,"f").contents_memo)===null||m===void 0?void 0:m.getType(Wo).first().continuation)||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,hn,"f"))throw new g("Continuation not found.");let e=yield d(this,_n,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,hn,"f")});return new ns(e,d(this,_n,"f"))})}getRelated(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=d(this,ht,"f").contents_memo)===null||e===void 0?void 0:e.getType(X))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield d(this,_n,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ut),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Re,Te),_=(s=m==null?void 0:m.matchCondition(b=>b.is(Re)))===null||s===void 0?void 0:s.as(Re);if(_)return _;l=f==null?void 0:f.continuation}throw new g("Target section not found.")})}getSuggestions(e=!0){return y(this,void 0,void 0,function*(){let r=yield e||!d(this,os,"f")?d(this,gb,"m",Dk).call(this):Promise.resolve(null);return r&&(I(this,os,r.items,"f"),I(this,Oh,r.continuation,"f")),(r==null?void 0:r.items)||d(this,os,"f")})}get page(){return d(this,ht,"f")}get has_continuation(){return!!d(this,hn,"f")}};n(ns,"Playlist");ht=new WeakMap,_n=new WeakMap,hn=new WeakMap,os=new WeakMap,Oh=new WeakMap,gb=new WeakSet,Dk=n(function(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=d(this,Oh,"f")||((i=(e=d(this,ht,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(X).continuation);if(l){let f=(o=(yield d(this,_n,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ut),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Re,Te),_=(s=m==null?void 0:m.matchCondition(b=>b.is(Te)))===null||s===void 0?void 0:s.as(Te);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var rs=ns;var ho,Dh,_x=class{constructor(e,i){var o,r,s,l,p,f,m;ho.set(this,void 0),Dh.set(this,void 0),I(this,ho,c.parseResponse(e.data),"f"),I(this,Dh,i,"f");let _=(o=d(this,ho,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(Mp)?(l=(s=(r=d(this,ho,"f").header)===null||r===void 0?void 0:r.item().as(Mp).element)===null||s===void 0?void 0:s.model)===null||l===void 0?void 0:l.as(Fc):(p=d(this,ho,"f").header)===null||p===void 0?void 0:p.item().as(Ki);let b=(f=d(this,ho,"f").contents)===null||f===void 0?void 0:f.item().as(ri).tabs.firstOfType(ye);if(!b)throw new g("Target tab not found");this.sections=(m=b.content)===null||m===void 0?void 0:m.as(X).contents.as(xe,Re,$e)}getPlaylist(){return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Header not found");if(!this.header.is(Fc))throw new g("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,Dh,"f"),{client:"YTMUSIC"});return new rs(i,d(this,Dh,"f"))})}get page(){return d(this,ho,"f")}};n(_x,"Recap");ho=new WeakMap,Dh=new WeakMap;var vx=_x;var pi,Ci,ss,Lh,as,vn=class{constructor(e,i,o){var r,s,l;if(pi.set(this,void 0),Ci.set(this,void 0),ss.set(this,void 0),I(this,Ci,i,"f"),I(this,pi,c.parseResponse(e.data),"f"),!d(this,pi,"f").contents||!d(this,pi,"f").contents_memo)throw new g("Response did not contain any contents.");let p=d(this,pi,"f").contents.item().as(hg).tabs.get({selected:!0});if(!p)throw new g("Could not find target tab.");let f=(r=p.content)===null||r===void 0?void 0:r.as(X);if(!f)throw new g("Target tab did not have any content.");this.header=(s=f.header)===null||s===void 0?void 0:s.as(ft),this.contents=f.contents.as(Te,C0,xe),o&&I(this,ss,(l=this.contents.firstOfType(Te))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return y(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,Ci,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new vn(i,d(this,Ci,"f"),!0)})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,ss,"f"))throw new g("Continuation not found.");let e=yield d(this,Ci,"f").execute("/search",{continuation:d(this,ss,"f"),client:"YTMUSIC"});return new us(d(this,Ci,"f"),e)})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ge).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ge)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,Ci,"f"),{client:"YTMUSIC"});return new vn(s,d(this,Ci,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ge).map(o=>o.text))||[]}get has_continuation(){return!!d(this,ss,"f")}get did_you_mean(){var e;return(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Av).first()}get showing_results_for(){var e;return(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(pg).first()}get message(){var e;return(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType($e).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(Te))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te)}get page(){return d(this,pi,"f")}};n(vn,"Search");pi=new WeakMap,Ci=new WeakMap,ss=new WeakMap;var gx=vn,us=class{constructor(e,i){var o,r;Lh.set(this,void 0),as.set(this,void 0),I(this,Lh,e,"f"),I(this,as,c.parseResponse(i.data),"f"),this.header=(o=d(this,as,"f").header)===null||o===void 0?void 0:o.item().as(Ki),this.contents=(r=d(this,as,"f").continuation_contents)===null||r===void 0?void 0:r.as(ui)}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new g("Continuation not found.");let i=yield d(this,Lh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new us(d(this,Lh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,as,"f")}};n(us,"SearchContinuation");Lh=new WeakMap,as=new WeakMap;var xx=class extends uo{constructor(e,i,o){var r,s,l,p,f,m,_,b,x;super(e,i,o);let[T,k]=this.page;if(!(!((r=T.microformat)===null||r===void 0)&&r.is(ti)))throw new g("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(s=T.microformat)===null||s===void 0?void 0:s.description,is_unlisted:(l=T.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=T.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,k){let N=(b=(_=k.contents_memo)===null||_===void 0?void 0:_.getType(bg))===null||b===void 0?void 0:b[0];this.tabs=N==null?void 0:N.tabs.array().as(ye),this.current_video_endpoint=k.current_video_endpoint,this.player_overlays=(x=k.player_overlays)===null||x===void 0?void 0:x.item().as(qi)}}getTab(e){var i,o;return y(this,void 0,void 0,function*(){if(!this.tabs)throw new g("Could not find any tab");let r=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!r)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(r.content)return r.content;let s=yield r.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=s.contents)===null||o===void 0?void 0:o.item().type)==="Message")return s.contents.item().as($e);if(!s.contents)throw new g("Page contents was empty",s);return s.contents.item().as(X).contents})}getUpNext(e=!0){var i,o;return y(this,void 0,void 0,function*(){let r=yield this.getTab("Up next");if(!r||!r.content)throw new g("Music queue was empty, the video id is probably invalid.",r);let s=r.content.as(oi);if(!s.playlist_id&&e){let l=s.contents.firstOfType(Li);if(!l)throw new g("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new g("Could not fetch automix");return(o=p.contents_memo.getType(oi))===null||o===void 0?void 0:o[0]}return s})}getRelated(){return y(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return y(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(jo)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,q.CLIENTS.YTMUSIC.NAME,q.CLIENTS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(xx,"TrackInfo");var Bh=xx;var yb={};D(yb,{Channel:()=>yx,HomeFeed:()=>bx,Search:()=>Tx,VideoInfo:()=>Sx});var ls=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Ui),this.contents=this.memo.getType(xe).first()||((s=this.page.continuation_contents)===null||s===void 0?void 0:s.as(Qi))}getContinuation(){var e;return y(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new ls(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(ls,"Channel");var yx=ls;var cs=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Tg),this.contents=(s=this.page.contents)===null||s===void 0?void 0:s.item().as(Ig)}selectCategoryTab(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(s=>s.title.toString()===e):e!=null&&e.is(Or)&&(o=e),!o)throw new g(`Tab "${e}" not found`);let r=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new cs(this.actions,r,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(cs,"HomeFeed");var bx=cs;var wx=class extends _e{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(xe).first();if(!o)throw new g("No item section found in search response.");this.contents=o.contents}};n(wx,"Search");var Tx=wx;var Ix=class extends uo{constructor(e,i,o){var r,s,l,p,f;super(e,i,o);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let b=(r=_==null?void 0:_.contents)===null||r===void 0?void 0:r.item().as(Rr),x=b==null?void 0:b.results,T=b==null?void 0:b.secondary_results;x&&T&&(this.slim_video_metadata=(l=(s=x.firstOfType(xe))===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(fg),this.watch_next_feed=((p=T.firstOfType(xe))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(qi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(Ix,"VideoInfo");var Sx=Ix;var wb={};D(wb,{VideoInfo:()=>Ux});var bb={};D(bb,{Account:()=>yn,Browse:()=>Cx,BrowseEndpoint:()=>Y,Channel:()=>Ei,Comment:()=>Nx,GetNotificationMenuEndpoint:()=>gn,GuideEndpoint:()=>ds,Kids:()=>Fx,Like:()=>Ax,Music:()=>Rx,NextEndpoint:()=>Ee,Notification:()=>ps,PlayerEndpoint:()=>tt,Playlist:()=>Vx,Reel:()=>St,ResolveURLEndpoint:()=>xn,SearchEndpoint:()=>_t,Subscription:()=>Ox,Upload:()=>Bx});var Y={};D(Y,{PATH:()=>eE,build:()=>tE});var eE="/browse";function tE(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(tE,"build");var gn={};D(gn,{PATH:()=>iE,build:()=>oE});var iE="/notification/get_notification_menu";function oE(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(oE,"build");var ds={};D(ds,{PATH:()=>nE});var nE="/guide";var Ee={};D(Ee,{PATH:()=>rE,build:()=>sE});var rE="/next";function sE(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(sE,"build");var tt={};D(tt,{PATH:()=>aE,build:()=>uE});var aE="/player";function uE(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}n(uE,"build");var xn={};D(xn,{PATH:()=>lE,build:()=>cE});var lE="/navigation/resolve_url";function cE(t){return Object.assign({url:t.url})}n(cE,"build");var _t={};D(_t,{PATH:()=>dE,build:()=>pE});var dE="/search";function pE(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(pE,"build");var yn={};D(yn,{AccountListEndpoint:()=>kx});var kx={};D(kx,{PATH:()=>fE,build:()=>mE});var fE="/account/accounts_list";function mE(){return{client:"ANDROID"}}n(mE,"build");var Cx={};D(Cx,{EditPlaylistEndpoint:()=>it});var it={};D(it,{PATH:()=>hE,build:()=>_E});var hE="/browse/edit_playlist";function _E(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(_E,"build");var Ei={};D(Ei,{EditDescriptionEndpoint:()=>Px,EditNameEndpoint:()=>Ex});var Ex={};D(Ex,{PATH:()=>vE,build:()=>gE});var vE="/channel/edit_name";function gE(t){return{givenName:t.given_name,client:"ANDROID"}}n(gE,"build");var Px={};D(Px,{PATH:()=>xE,build:()=>yE});var xE="/channel/edit_description";function yE(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(yE,"build");var Nx={};D(Nx,{CreateCommentEndpoint:()=>wn,PerformCommentActionEndpoint:()=>bn});var bn={};D(bn,{PATH:()=>bE,build:()=>wE});var bE="/comment/perform_comment_action";function wE(t){return Object.assign({actions:t.actions},{client:t.client})}n(wE,"build");var wn={};D(wn,{PATH:()=>TE,build:()=>IE});var TE="/comment/create_comment";function IE(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(IE,"build");var Ax={};D(Ax,{DislikeEndpoint:()=>In,LikeEndpoint:()=>Tn,RemoveLikeEndpoint:()=>Sn});var Tn={};D(Tn,{PATH:()=>SE,build:()=>kE});var SE="/like/like";function kE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(kE,"build");var In={};D(In,{PATH:()=>CE,build:()=>EE});var CE="/like/dislike";function EE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(EE,"build");var Sn={};D(Sn,{PATH:()=>PE,build:()=>NE});var PE="/like/removelike";function NE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(NE,"build");var Rx={};D(Rx,{GetSearchSuggestionsEndpoint:()=>kn});var kn={};D(kn,{PATH:()=>AE,build:()=>RE});var AE="/music/get_search_suggestions";function RE(t){return{input:t.input,client:"YTMUSIC"}}n(RE,"build");var ps={};D(ps,{GetUnseenCountEndpoint:()=>Mx,ModifyChannelPreferenceEndpoint:()=>Cn});var Mx={};D(Mx,{PATH:()=>ME});var ME="/notification/get_unseen_count";var Cn={};D(Cn,{PATH:()=>VE,build:()=>OE});var VE="/notification/modify_channel_preference";function OE(t){return Object.assign({params:t.params},{client:t.client})}n(OE,"build");var Vx={};D(Vx,{CreateEndpoint:()=>En,DeleteEndpoint:()=>Pn});var En={};D(En,{PATH:()=>DE,build:()=>LE});var DE="/playlist/create";function LE(t){return{title:t.title,ids:t.ids}}n(LE,"build");var Pn={};D(Pn,{PATH:()=>BE,build:()=>FE});var BE="/playlist/delete";function FE(t){return{playlistId:t.playlist_id}}n(FE,"build");var Ox={};D(Ox,{SubscribeEndpoint:()=>Nn,UnsubscribeEndpoint:()=>An});var Nn={};D(Nn,{PATH:()=>YE,build:()=>jE});var YE="/subscription/subscribe";function jE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(jE,"build");var An={};D(An,{PATH:()=>UE,build:()=>WE});var UE="/subscription/unsubscribe";function WE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(WE,"build");var St={};D(St,{WatchEndpoint:()=>Dx,WatchSequenceEndpoint:()=>Lx});var Dx={};D(Dx,{PATH:()=>HE,build:()=>JE});var HE="/reel/reel_item_watch";function JE(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(JE,"build");var Lx={};D(Lx,{PATH:()=>GE,build:()=>zE});var GE="/reel/reel_watch_sequence";function zE(t){return{sequenceParams:t.sequenceParams}}n(zE,"build");var Bx={};D(Bx,{CreateVideoEndpoint:()=>Rn});var Rn={};D(Rn,{PATH:()=>$E,build:()=>KE});var $E="/upload/createvideo";function KE(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(KE,"build");var Fx={};D(Fx,{BlocklistPickerEndpoint:()=>Mn});var Mn={};D(Mn,{PATH:()=>qE,build:()=>XE});var qE="/kids/get_kids_blocklist_picker";function XE(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(XE,"build");var fs,Yx,jx=class{constructor(e,i){var o,r;fs.set(this,void 0),Yx.set(this,void 0),I(this,Yx,i,"f");let s=c.parseResponse(e[0].data),l=c.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=(o=l.entries)===null||o===void 0?void 0:o.array(),I(this,fs,(r=l.continuation_endpoint)===null||r===void 0?void 0:r.as(wi),"f")}getWatchNextContinuation(){var e,i;return y(this,void 0,void 0,function*(){if(!d(this,fs,"f"))throw new g("Watch next feed continuation not found");let o=yield d(this,Yx,"f").execute(St.WatchSequenceEndpoint.PATH,St.WatchSequenceEndpoint.build({sequenceParams:d(this,fs,"f").token}));if(!o.success)throw new g("Continue failed ",o.status_code);let r=c.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),I(this,fs,(i=r.continuation_endpoint)===null||i===void 0?void 0:i.as(wi),"f"),this})}};n(jx,"VideoInfo");fs=new WeakMap,Yx=new WeakMap;var Ux=jx;var M=class{constructor(e,i,o,r){var s,l,p,f,m,_,b,x,T,k,N,A,F,Q,O,ae,we,ke,Ne,Oe,$,z,Z,oe,Ye,pt,xt;let K=new u(e);this.id=r||((f=(p=(l=(s=K==null?void 0:K.runs)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((_=(m=K==null?void 0:K.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((x=(b=K==null?void 0:K.runs)===null||b===void 0?void 0:b[0])===null||x===void 0?void 0:x.endpoint)||(K==null?void 0:K.endpoint),this.badges=Array.isArray(i)?c.parseArray(i):ue([]),this.is_moderator=(T=this.badges)===null||T===void 0?void 0:T.some(Je=>Je.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(Je=>Je.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(N=this.badges)===null||N===void 0?void 0:N.some(Je=>Je.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((O=(Q=(F=(A=K==null?void 0:K.runs)===null||A===void 0?void 0:A[0])===null||F===void 0?void 0:F.endpoint)===null||Q===void 0?void 0:Q.metadata)===null||O===void 0?void 0:O.api_url)==="/browse"&&`${st.YT_BASE}${((Ne=(ke=(we=(ae=K==null?void 0:K.runs)===null||ae===void 0?void 0:ae[0])===null||we===void 0?void 0:we.endpoint)===null||ke===void 0?void 0:ke.payload)===null||Ne===void 0?void 0:Ne.canonicalBaseUrl)||`/u/${(Z=(z=($=(Oe=K==null?void 0:K.runs)===null||Oe===void 0?void 0:Oe[0])===null||$===void 0?void 0:$.endpoint)===null||z===void 0?void 0:z.payload)===null||Z===void 0?void 0:Z.browseId}`}`||`${st.YT_BASE}${((Ye=(oe=K==null?void 0:K.endpoint)===null||oe===void 0?void 0:oe.payload)===null||Ye===void 0?void 0:Ye.canonicalBaseUrl)||`/u/${(xt=(pt=K==null?void 0:K.endpoint)===null||pt===void 0?void 0:pt.payload)===null||xt===void 0?void 0:xt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(M,"Author");var Lk={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Wx,Hx,QE="Utils",L=class{static load(e){I(L,Wx,e,"f",Hx)}static get shim(){if(!d(L,Wx,"f",Hx))throw new Error("Platform is not loaded");return d(L,Wx,"f",Hx)}};n(L,"Platform");Wx=L;Hx={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=L.shim.info.version}};n(g,"InnertubeError");var bt=class extends g{};n(bt,"ParsingError");var Vn=class extends g{};n(Vn,"MissingParamError");var fi=class extends g{};n(fi,"OAuthError");var Jt=class extends Error{};n(Jt,"PlayerError");var ms=class extends Error{};n(ms,"SessionError");var jr=class extends Error{};n(jr,"ChannelError");function Zh(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(Zh,"deepCompare");function Ue(t,e,i){let o=new RegExp(`${Ib(e)}(.*?)${Ib(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Ue,"getStringBetweenStrings");function Ib(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Ib,"escapeStringRegexp");function Mo(t){let e=Lk[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Mo,"getRandomUserAgent");function Ay(t){return y(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield L.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(Ay,"generateSidAuth");function kt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(kt,"generateRandomString");function je(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(je,"timeToSeconds");function fb(...t){let e=new Vi;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(fb,"concatMemos");function ee(t){for(let[e,i]of Object.entries(t))if(!i)throw new Vn(`${e} is missing`)}n(ee,"throwIfMissing");function ZE(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(ZE,"hasKeys");function Ey(t){return uw(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield bo(i.read());if(o)return yield bo(void 0);yield yield bo(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Ey,"streamToIterable");var eP=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],s=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=r.length>0?`${r.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return W.warn(QE,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${s}`),L.shim.fetch(t,e)},"debugFetch");function mt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(mt,"u8ToBase64");function Zy(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(Zy,"base64ToU8");function et(t){return!("emoji"in t)}n(et,"isTextRun");function Sb(t){return y(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),s=[];for(let l=0;l<r.length;++l)s.push(e[r[l]]);return s.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Sb,"sha1Hash");var Jx={name:"youtubei.js",version:"9.0.2",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Yh={};D(Yh,{ArrayExpression:()=>hs,ArrowFunctionExpression:()=>_s,AssignmentExpression:()=>vs,BinaryExpression:()=>gs,BlockStatement:()=>xs,BreakStatement:()=>ys,CallExpression:()=>bs,ConditionalExpression:()=>Ts,ContinueStatement:()=>Is,ExpressionStatement:()=>Ss,ForOfStatement:()=>ks,ForStatement:()=>Cs,FunctionDeclaration:()=>Es,FunctionExpression:()=>Ps,Identifier:()=>Ns,IfStatement:()=>As,Literal:()=>Rs,LogicalExpression:()=>Ms,MemberExpression:()=>Vs,NewExpression:()=>Os,ObjectExpression:()=>Ds,Property:()=>Ls,ReturnStatement:()=>Bs,SequenceExpression:()=>Fs,SwitchCase:()=>Ys,SwitchStatement:()=>js,ThisExpression:()=>Us,ThrowStatement:()=>Ws,TryStatement:()=>Hs,UnaryExpression:()=>Js,UpdateExpression:()=>Gs,VariableDeclaration:()=>zs,WhileStatement:()=>$s});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var hs=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(hs,"ArrayExpression");var kb={};D(kb,{namedFunction:()=>On});var On=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var _s=class extends R{run(){let{params:e,body:i}=this.node;return On("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(_s,"ArrowFunctionExpression");var vs=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(vs,"AssignmentExpression");var gs=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(gs,"BinaryExpression");var xs=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(xs,"BlockStatement");var ys=class extends R{run(){return"break"}};n(ys,"BreakStatement");var Bk=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Gx,Cb,bs=class extends R{constructor(){super(...arguments),Gx.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let s=this.visitor.listeners[e](this.node,this.visitor);if(s!=="proceed")return s}if(i&&i!=="toString"&&this.visitor.listeners[i]){let s=this.visitor.listeners[i](this.node,this.visitor);if(s!=="proceed")return s}if(this.node.callee.type==="MemberExpression"){if(ws.has(this.node,this.visitor))return ws.execute(this.node,this.visitor);let s=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof s[l]!="function"&&Bk(this,Gx,"m",Cb).call(this),s[l].toString().includes("[native code]")?s[l](...p):s[l](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(s=>this.visitor.visitNode(s));return typeof o!="function"&&Bk(this,Gx,"m",Cb).call(this),o(r)}};n(bs,"CallExpression");Gx=new WeakSet,Cb=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var ws=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(ws,"Builtins");ws.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let s of o)i[0]([s,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Ts=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Ts,"ConditionalExpression");var Is=class extends R{run(){return"continue"}};n(Is,"ContinueStatement");var Ss=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(Ss,"ExpressionStatement");var ks=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(ks,"ForOfStatement");var Cs=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Cs,"ForStatement");var Es=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=On(o,s=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,s[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(Es,"FunctionDeclaration");var Ps=class extends R{run(){let{params:e,body:i}=this.node;return On("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(Ps,"FunctionExpression");var Ns=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Ns,"Identifier");var As=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(As,"IfStatement");var Rs=class extends R{run(){return this.node.value}};n(Rs,"Literal");var Ms=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Ms,"LogicalExpression");var Vs=class extends R{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),s=o?this.visitor.visitNode(i):this.visitor.getName(i);if(s!==void 0||s!==null){if(this.visitor.listeners[s]){let l=this.visitor.listeners[s](this.node,this.visitor);if(l!=="proceed")return l}return r==null?void 0:r[s]}}};n(Vs,"MemberExpression");var Os=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(Os,"NewExpression");var Ds=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(Ds,"ObjectExpression");var Eb=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Fh,Fk,Yk,jk,Ls=class extends R{constructor(){super(...arguments),Fh.add(this)}run(){switch(this.node.kind){case"init":return Eb(this,Fh,"m",Fk).call(this);case"get":return Eb(this,Fh,"m",Yk).call(this);case"set":return Eb(this,Fh,"m",jk).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Ls,"Property");Fh=new WeakSet,Fk=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),Yk=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),jk=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Bs=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(Bs,"ReturnStatement");var Fs=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(Fs,"SequenceExpression");var Ys=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Ys,"SwitchCase");var js=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let s=this.node.cases[r];if(i){let l=this.visitor.visitNode(s);if(l==="break")break;if(l==="continue")return l;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=s&&e===this.visitor.visitNode(s.test),i===void 0&&r>this.node.cases.length)break;if(s&&!i&&!s.test){o=r,r+=1;continue}if(!s&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(js,"SwitchStatement");var Us=class extends R{run(){return this.visitor.scope.get("_this")}};n(Us,"ThisExpression");var Ws=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(Ws,"ThrowStatement");var Hs=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(Hs,"TryStatement");var Js=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(Js,"UnaryExpression");var Gs=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Gs,"UpdateExpression");var zs=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),s=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,s),typeof s=="object"&&s!==null&&this.visitor.scope.set("_this",s)})}};n(zs,"VariableDeclaration");var $s=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n($s,"WhileStatement");var iP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Pb,Uk,Ks=class{constructor(e){Pb.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=iP(this,Pb,"m",Uk).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(Ks,"Visitor");Pb=new WeakSet,Uk=n(function(e){let i=Yh[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var oP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],zk=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],nP="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",$k="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Nb={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Ab="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rP={5:Ab,"5module":Ab+" export import",6:Ab+" const class extends export import super"},sP=/^in(stanceof)?$/,aP=new RegExp("["+$k+"]"),uP=new RegExp("["+$k+nP+"]");function Mb(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Mb,"isInAstralSet");function Pi(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&aP.test(String.fromCharCode(t)):e===!1?!1:Mb(t,zk)}n(Pi,"isIdentifierStart");function qs(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&uP.test(String.fromCharCode(t)):e===!1?!1:Mb(t,zk)||Mb(t,oP)}n(qs,"isIdentifierChar");var le=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function Ct(t,e){return new le(t,{beforeExpr:!0,binop:e})}n(Ct,"binop");var Et={beforeExpr:!0},dt={startsExpr:!0},Db={};function ie(t,e){return e===void 0&&(e={}),e.keyword=t,Db[t]=new le(t,e)}n(ie,"kw");var h={num:new le("num",dt),regexp:new le("regexp",dt),string:new le("string",dt),name:new le("name",dt),privateId:new le("privateId",dt),eof:new le("eof"),bracketL:new le("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new le("]"),braceL:new le("{",{beforeExpr:!0,startsExpr:!0}),braceR:new le("}"),parenL:new le("(",{beforeExpr:!0,startsExpr:!0}),parenR:new le(")"),comma:new le(",",Et),semi:new le(";",Et),colon:new le(":",Et),dot:new le("."),question:new le("?",Et),questionDot:new le("?."),arrow:new le("=>",Et),template:new le("template"),invalidTemplate:new le("invalidTemplate"),ellipsis:new le("...",Et),backQuote:new le("`",dt),dollarBraceL:new le("${",{beforeExpr:!0,startsExpr:!0}),eq:new le("=",{beforeExpr:!0,isAssign:!0}),assign:new le("_=",{beforeExpr:!0,isAssign:!0}),incDec:new le("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new le("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ct("||",1),logicalAND:Ct("&&",2),bitwiseOR:Ct("|",3),bitwiseXOR:Ct("^",4),bitwiseAND:Ct("&",5),equality:Ct("==/!=/===/!==",6),relational:Ct("</>/<=/>=",7),bitShift:Ct("<</>>/>>>",8),plusMin:new le("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ct("%",10),star:Ct("*",10),slash:Ct("/",10),starstar:new le("**",{beforeExpr:!0}),coalesce:Ct("??",1),_break:ie("break"),_case:ie("case",Et),_catch:ie("catch"),_continue:ie("continue"),_debugger:ie("debugger"),_default:ie("default",Et),_do:ie("do",{isLoop:!0,beforeExpr:!0}),_else:ie("else",Et),_finally:ie("finally"),_for:ie("for",{isLoop:!0}),_function:ie("function",dt),_if:ie("if"),_return:ie("return",Et),_switch:ie("switch"),_throw:ie("throw",Et),_try:ie("try"),_var:ie("var"),_const:ie("const"),_while:ie("while",{isLoop:!0}),_with:ie("with"),_new:ie("new",{beforeExpr:!0,startsExpr:!0}),_this:ie("this",dt),_super:ie("super",dt),_class:ie("class",dt),_extends:ie("extends",Et),_export:ie("export"),_import:ie("import",dt),_null:ie("null",dt),_true:ie("true",dt),_false:ie("false",dt),_in:ie("in",{beforeExpr:!0,binop:7}),_instanceof:ie("instanceof",{beforeExpr:!0,binop:7}),_typeof:ie("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ie("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ie("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},At=/\r\n?|\n|\u2028|\u2029/,lP=new RegExp(At.source,"g");function Xs(t){return t===10||t===13||t===8232||t===8233}n(Xs,"isNewLine");function Kk(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(Xs(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(Kk,"nextLineBreak");var qk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Pt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Xk=Object.prototype,cP=Xk.hasOwnProperty,dP=Xk.toString,Hh=Object.hasOwn||function(t,e){return cP.call(t,e)},Wk=Array.isArray||function(t){return dP.call(t)==="[object Array]"};function _o(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(_o,"wordsRegexp");function vo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(vo,"codePointToString");var pP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Uh=n(function(e,i){this.line=e,this.column=i},"Position");Uh.prototype.offset=n(function(e){return new Uh(this.line,this.column+e)},"offset");var Xx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Qk(t,e){for(var i=1,o=0;;){var r=Kk(t,o,e);if(r<0)return new Uh(i,e-o);++i,o=r}}n(Qk,"getLineInfo");var Vb={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Hk=!1;function fP(t){var e={};for(var i in Vb)e[i]=t&&Hh(t,i)?t[i]:Vb[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Hk&&typeof console=="object"&&console.warn&&(Hk=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Wk(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return Wk(e.onComment)&&(e.onComment=mP(e,e.onComment)),e}n(fP,"getOptions");function mP(t,e){return function(i,o,r,s,l,p){var f={type:i?"Block":"Line",value:o,start:r,end:s};t.locations&&(f.loc=new Xx(this,l,p)),t.ranges&&(f.range=[r,s]),e.push(f)}}n(mP,"pushComment");var Wh=1,Qs=2,Lb=4,Zk=8,e1=16,t1=32,Bb=64,i1=128,Jh=256,Fb=Wh|Qs|Jh;function Yb(t,e){return Qs|(t?Lb:0)|(e?Zk:0)}n(Yb,"functionFlags");var $x=0,jb=1,Ai=2,o1=3,n1=4,r1=5,Fe=n(function(e,i,o){this.options=e=fP(e),this.sourceFile=e.sourceFile,this.keywords=_o(rP[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Nb[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=_o(r);var s=(r?r+" ":"")+Nb.strict;this.reservedWordsStrict=_o(s),this.reservedWordsStrictBind=_o(s+" "+Nb.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(At).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Wh),this.regexpState=null,this.privateNameStack=[]},"Parser"),mi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Fe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");mi.inFunction.get=function(){return(this.currentVarScope().flags&Qs)>0};mi.inGenerator.get=function(){return(this.currentVarScope().flags&Zk)>0&&!this.currentVarScope().inClassFieldInit};mi.inAsync.get=function(){return(this.currentVarScope().flags&Lb)>0&&!this.currentVarScope().inClassFieldInit};mi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Jh)return!1;if(e.flags&Qs)return(e.flags&Lb)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};mi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Bb)>0||i||this.options.allowSuperOutsideMethod};mi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&i1)>0};mi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};mi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Qs|Jh))>0||i};mi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Jh)>0};Fe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Fe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Fe.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Fe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Fe.prototype,mi);var ot=Fe.prototype,hP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ot.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Pt.lastIndex=t,t+=Pt.exec(this.input)[0].length;var e=hP.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Pt.lastIndex=t+e[0].length;var i=Pt.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||At.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Pt.lastIndex=t,t+=Pt.exec(this.input)[0].length,this.input[t]===";"&&t++}};ot.eat=function(t){return this.type===t?(this.next(),!0):!1};ot.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};ot.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ot.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ot.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||At.test(this.input.slice(this.lastTokEnd,this.start))};ot.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ot.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};ot.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ot.expect=function(t){this.eat(t)||this.unexpected()};ot.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Qx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");ot.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};ot.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};ot.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ot.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var B=Fe.prototype;B.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var s=r[o];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Ub={kind:"loop"},_P={kind:"switch"};B.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Pt.lastIndex=this.pos;var e=Pt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Pi(o,!0)){for(var r=i+1;qs(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var s=this.input.slice(i,r);if(!sP.test(s))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Pt.lastIndex=this.pos;var t=Pt.exec(this.input),e=this.pos+t[0].length,i;return!At.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(qs(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};B.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),s;switch(this.isLet(t)&&(o=h._var,s="let"),o){case h._break:case h._continue:return this.parseBreakContinueStatement(r,o.keyword);case h._debugger:return this.parseDebuggerStatement(r);case h._do:return this.parseDoStatement(r);case h._for:return this.parseForStatement(r);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(r,!0);case h._if:return this.parseIfStatement(r);case h._return:return this.parseReturnStatement(r);case h._switch:return this.parseSwitchStatement(r);case h._throw:return this.parseThrowStatement(r);case h._try:return this.parseTryStatement(r);case h._const:case h._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case h._while:return this.parseWhileStatement(r);case h._with:return this.parseWithStatement(r);case h.braceL:return this.parseBlock(!0,r);case h.semi:return this.parseEmptyStatement(r);case h._export:case h._import:if(this.options.ecmaVersion>10&&o===h._import){Pt.lastIndex=this.pos;var l=Pt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===h._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var m=this.value,_=this.parseExpression();return o===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(r,m,_,t):this.parseExpressionStatement(r,_)}};B.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};B.parseDoStatement=function(t){return this.next(),this.labels.push(Ub),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};B.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ub),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var s=this.isContextual("let"),l=!1,p=new Qx,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};B.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,jh|(i?0:Ob),!1,e)};B.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};B.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};B.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(_P),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var o=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};B.parseThrowStatement=function(t){return this.next(),At.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var vP=[];B.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?t1:0),this.checkLValPattern(t,e?n1:Ai),this.expect(h.parenR),t};B.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};B.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};B.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Ub),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};B.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};B.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};B.parseLabeledStatement=function(t,e,i,o){for(var r=0,s=this.labels;r<s.length;r+=1){var l=s[r];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};B.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};B.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};B.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};B.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(h.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(h.comma))break}return t};B.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?jb:Ai,!1)};var jh=1,Ob=2,s1=4;B.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===h.star&&e&Ob&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&jh&&(t.id=e&s1&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&Ob)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?jb:Ai:o1));var s=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Yb(t.async,t.generator)),e&jh||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=s,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&jh?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(r.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(s&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),s=!0):l.key&&l.key.type==="PrivateIdentifier"&&gP(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,s=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?s=!0:o="async"),!o&&(e>=9||!s)&&this.eat(h.star)&&(r=!0),!o&&!s&&!r){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||r||s){var m=!i.static&&Kx(i,"constructor"),_=m&&t;m&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":l,this.parseClassMethod(i,r,s,_)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};B.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};B.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Kx(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};B.parseClassField=function(t){if(Kx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Kx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};B.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Jh|Bb);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};B.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ai,!1)):(e===!0&&this.unexpected(),t.id=null)};B.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};B.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],s=0;s<i.length;++s){var l=i[s];Hh(e,l.name)||(r?r.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function gP(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(gP,"isPrivateNameConflicted");function Kx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Kx,"checkKeyName");B.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};B.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};B.parseExportDeclaration=function(t){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,jh|s1,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};B.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Hh(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};B.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var s=r[o];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};B.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};B.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};B.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=vP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};B.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ai),this.finishNode(t,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ai),this.finishNode(t,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ai),this.finishNode(t,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return pP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Rt=Fe.prototype;Rt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Rt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Rt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Rt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Rt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Rt.parseBindingList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(h.comma),e&&this.type===h.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),r.push(l),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};Rt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Rt.parseBindingListItem=function(t){return t};Rt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Rt.checkLValSimple=function(t,e,i){e===void 0&&(e=$x);var o=e!==$x;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ai&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Hh(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==r1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Rt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=$x),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Rt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=$x),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Gt=n(function(e,i,o,r,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!s},"TokContext"),Ie={b_stat:new Gt("{",!1),b_expr:new Gt("{",!0),b_tmpl:new Gt("${",!1),p_stat:new Gt("(",!1),p_expr:new Gt("(",!0),q_tmpl:new Gt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Gt("function",!1),f_expr:new Gt("function",!0),f_expr_gen:new Gt("function",!0,!1,null,!0),f_gen:new Gt("function",!1,!1,null,!0)},Zs=Fe.prototype;Zs.initialContext=function(){return[Ie.b_stat]};Zs.curContext=function(){return this.context[this.context.length-1]};Zs.braceIsBlock=function(t){var e=this.curContext();return e===Ie.f_expr||e===Ie.f_stat?!0:t===h.colon&&(e===Ie.b_stat||e===Ie.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?At.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===Ie.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};Zs.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Zs.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Zs.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ie.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ie.b_stat:Ie.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(Ie.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?Ie.p_stat:Ie.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==Ie.p_stat)&&!(t===h._return&&At.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===Ie.b_stat)?this.context.push(Ie.f_expr):this.context.push(Ie.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===Ie.q_tmpl?this.context.pop():this.context.push(Ie.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===Ie.f_expr?this.context[e]=Ie.f_expr_gen:this.context[e]=Ie.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var H=Fe.prototype;H.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var l=e[r];if(l){var p;s==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[s],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[r]={init:!1,get:!1,set:!1};l[s]=!0}};H.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===h.comma){var s=this.startNodeAt(i,o);for(s.expressions=[r];this.eat(h.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r};H.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,s=-1,l=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Qx,o=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),m};H.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(h.question)){var s=this.startNodeAt(i,o);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(h.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r};H.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};H.parseExprOp=function(t,e,i,o,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==h._in)&&s>o){var l=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(s=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),m,_,s,r),x=this.buildBinary(e,i,t,b,f,l||p);return(l&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(x,e,i,o,r)}return t};H.buildBinary=function(t,e,i,o,r,s){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=r,l.right=o,this.finishNode(l,s?"LogicalExpression":"BinaryExpression")};H.parseMaybeUnary=function(t,e,i,o){var r=this.start,s=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&a1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(r,s);m.operator=this.value,m.prefix=!1,m.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function a1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&a1(t.expression)}n(a1,"isPrivateFieldAccess");H.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,i,o,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};H.parseSubscripts=function(t,e,i,o,r){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,s,l,r);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};H.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};H.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};H.parseSubscript=function(t,e,i,o,r,s,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(h.parenL)){var b=new Qx,x=this.yieldPos,T=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,b);if(r&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=x,this.awaitPos=T,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,N,l);this.checkExpressionErrors(b,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var A=this.startNodeAt(e,i);A.callee=t,A.arguments=N,p&&(A.optional=f),t=this.finishNode(A,"CallExpression")}else if(this.type===h.backQuote){(f||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var F=this.startNodeAt(e,i);F.tag=t,F.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(F,"TaggedTemplateExpression")}return t};H.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(o,"Super");case h._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case h.name:var s=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(Ie.f_expr),this.parseFunction(this.startNodeAt(s,l),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===h.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,l),[f],!0,e)}return f;case h.regexp:var m=this.value;return o=this.parseLiteral(m.value),o.regex={pattern:m.pattern,flags:m.flags},o;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return o=this.startNode(),o.value=this.type===h._null?null:this.type===h._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case h.parenL:var _=this.start,b=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(b)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),b;case h.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case h.braceL:return this.overrideContext(Ie.b_expr),this.parseObj(!1,t);case h._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};H.parseExprAtomDefault=function(){this.unexpected()};H.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};H.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};H.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};H.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};H.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};H.shouldParseArrow=function(t){return!this.canInsertSemicolon()};H.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],m=!0,_=!1,b=new Qx,x=this.yieldPos,T=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),s&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){k=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var N=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(f)&&this.eat(h.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=x,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(b,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(r=this.startNodeAt(l,p),r.expressions=f,this.finishNodeAt(r,"SequenceExpression",N,A)):r=f[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var F=this.startNodeAt(i,o);return F.expression=r,this.finishNode(F,"ParenthesizedExpression")}else return r};H.parseParenItem=function(t){return t};H.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var xP=[];H.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=xP,this.finishNode(t,"NewExpression")};H.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};H.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};H.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!At.test(this.input.slice(this.lastTokEnd,this.start))};H.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(o)o=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};H.parseProperty=function(t,e){var i=this.startNode(),o,r,s,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,l=this.startLoc),t||(o=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,s,l,e,p),this.finishNode(i,"Property")};H.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};H.parsePropertyValue=function(t,e,i,o,r,s,l,p){(i||o)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};H.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};H.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};H.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Yb(e,o.generator)|Bb|(i?i1:0)),this.expect(h.parenL),o.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};H.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Yb(i,!1)|e1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};H.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==h.braceL,s=this.strict,l=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!s&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,r1),t.body=this.parseBlock(!1,void 0,l&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};H.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};H.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,jb,e?null:i)}};H.parseExprList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(o),o&&this.type===h.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),r.push(l)}return r};H.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};H.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};H.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};H.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};H.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};H.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var qx=Fe.prototype;qx.raise=function(t,e){var i=Qk(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};qx.raiseRecoverable=qx.raise;qx.curPosition=function(){if(this.options.locations)return new Uh(this.curLine,this.pos-this.lineStart)};var go=Fe.prototype,yP=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");go.enterScope=function(t){this.scopeStack.push(new yP(t))};go.exitScope=function(){this.scopeStack.pop()};go.treatFunctionsAsVarInScope=function(t){return t.flags&Qs||!this.inModule&&t.flags&Wh};go.declareName=function(t,e,i){var o=!1;if(e===Ai){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Wh&&delete this.undefinedExports[t]}else if(e===n1){var s=this.currentScope();s.lexical.push(t)}else if(e===o1){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&t1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Wh&&delete this.undefinedExports[t],f.flags&Fb)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};go.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};go.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};go.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Fb)return e}};go.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Fb&&!(e.flags&e1))return e}};var Zx=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Xx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Gh=Fe.prototype;Gh.startNode=function(){return new Zx(this,this.start,this.startLoc)};Gh.startNodeAt=function(t,e){return new Zx(this,t,e)};function u1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(u1,"finishNodeAt");Gh.finishNode=function(t,e){return u1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Gh.finishNodeAt=function(t,e,i,o){return u1.call(this,t,e,i,o)};Gh.copyNode=function(t){var e=new Zx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var l1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",c1=l1+" Extended_Pictographic",d1=c1,p1=d1+" EBase EComp EMod EPres ExtPict",f1=p1,bP=f1,wP={9:l1,10:c1,11:d1,12:p1,13:f1,14:bP},TP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",IP={9:"",10:"",11:"",12:"",13:"",14:TP},Jk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",m1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",h1=m1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",_1=h1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",v1=_1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",g1=v1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",SP=g1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",kP={9:m1,10:h1,11:_1,12:v1,13:g1,14:SP},x1={};function CP(t){var e=x1[t]={binary:_o(wP[t]+" "+Jk),binaryOfStrings:_o(IP[t]),nonBinary:{General_Category:_o(Jk),Script:_o(kP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(CP,"buildUnicodeData");for(zx=0,Rb=[9,10,11,12,13,14];zx<Rb.length;zx+=1)Gk=Rb[zx],CP(Gk);var Gk,zx,Rb,V=Fe.prototype,hi=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=x1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");hi.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset");hi.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");hi.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var s=o.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(s<<10)+l-56613888:s},"at");hi.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var s=o.charCodeAt(e),l;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=r||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");hi.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");hi.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");hi.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");hi.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");hi.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,s=e;r<s.length;r+=1){var l=s[r],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");V.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,s=0;s<i.length;s++){var l=i.charAt(s);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};V.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};V.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};V.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};V.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};V.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};V.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};V.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};V.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};V.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};V.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};V.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};V.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};V.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};V.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};V.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};V.regexp_eatSyntaxCharacter=function(t){var e=t.current();return y1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function y1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(y1,"isSyntaxCharacter");V.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!y1(i);)t.advance();return t.pos!==e};V.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};V.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};V.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};V.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=vo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=vo(t.lastIntValue);return!0}return!1};V.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),EP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function EP(t){return Pi(t,!0)||t===36||t===95}n(EP,"isRegExpIdentifierStart");V.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),PP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function PP(t){return qs(t,!0)||t===36||t===95||t===8204||t===8205}n(PP,"isRegExpIdentifierPart");V.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};V.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};V.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};V.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};V.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};V.regexp_eatZero=function(t){return t.current()===48&&!ey(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};V.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};V.regexp_eatControlLetter=function(t){var e=t.current();return b1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function b1(t){return t>=65&&t<=90||t>=97&&t<=122}n(b1,"isControlLetter");V.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(r-55296)*1024+(l-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&NP(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function NP(t){return t>=0&&t<=1114111}n(NP,"isValidUnicode");V.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};V.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var w1=0,Ni=1,Nt=2;V.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(AP(e))return t.lastIntValue=-1,t.advance(),Ni;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Nt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return w1};function AP(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(AP,"isCharacterClassEscape");V.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Ni}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return w1};V.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Hh(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};V.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ni;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Nt;t.raise("Invalid property name")};V.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";T1(e=t.current());)t.lastStringValue+=vo(e),t.advance();return t.lastStringValue!==""};function T1(t){return b1(t)||t===95}n(T1,"isUnicodePropertyNameCharacter");V.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";RP(e=t.current());)t.lastStringValue+=vo(e),t.advance();return t.lastStringValue!==""};function RP(t){return T1(t)||ey(t)}n(RP,"isUnicodePropertyValueCharacter");V.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};V.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Nt&&t.raise("Negated character class may contain strings"),!0}return!1};V.regexp_classContents=function(t){return t.current()===93?Ni:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ni)};V.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};V.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||k1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};V.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};V.regexp_classSetExpression=function(t){var e=Ni,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Nt&&(e=Nt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Nt&&(e=Ni);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Nt&&(e=Nt)}};V.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};V.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ni:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};V.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Nt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};V.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};V.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Nt&&(e=Nt);return e};V.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ni:Nt};V.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&MP(i)||VP(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function MP(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(MP,"isClassSetReservedDoublePunctuatorCharacter");function VP(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(VP,"isClassSetSyntaxCharacter");V.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return OP(e)?(t.lastIntValue=e,t.advance(),!0):!1};function OP(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(OP,"isClassSetReservedPunctuator");V.regexp_eatClassControlLetter=function(t){var e=t.current();return ey(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};V.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};V.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;ey(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function ey(t){return t>=48&&t<=57}n(ey,"isDecimalDigit");V.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;I1(i=t.current());)t.lastIntValue=16*t.lastIntValue+S1(i),t.advance();return t.pos!==e};function I1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(I1,"isHexDigit");function S1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(S1,"hexToInt");V.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};V.regexp_eatOctalDigit=function(t){var e=t.current();return k1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function k1(t){return t>=48&&t<=55}n(k1,"isOctalDigit");V.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!I1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+S1(r),t.advance()}return!0};var Wb=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Xx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),te=Fe.prototype;te.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Wb(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};te.getToken=function(){return this.next(),new Wb(this)};typeof Symbol<"u"&&(te[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});te.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};te.readToken=function(t){return Pi(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};te.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};te.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=Kk(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};te.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Xs(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};te.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&qk.test(String.fromCharCode(t)))++this.pos;else break e}}};te.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};te.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};te.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};te.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(o,i)};te.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};te.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};te.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||At.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};te.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};te.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};te.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};te.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Pi(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+vo(e)+"'")};te.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+vo(t)+"'")};te.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};te.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(At.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var s=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(s);var p=this.regexpState||(this.regexpState=new hi(this));p.reset(i,r,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(r,l)}catch(m){}return this.finishToken(h.regexp,{pattern:r,flags:l,value:f})};te.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,l=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),b=void 0;if(o&&_===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?b=_-97+10:_>=65?b=_-65+10:_>=48&&_<=57?b=_-48:b=1/0,b>=t)break;p=_,l=l*t+b}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:l};function DP(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(DP,"stringToNumber");function C1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(C1,"stringToBigInt");te.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=C1(this.input.slice(e,this.pos)),++this.pos):Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};te.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=C1(this.input.slice(e,this.pos));return++this.pos,Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=DP(this.input.slice(e,this.pos),i);return this.finishToken(h.num,s)};te.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};te.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Xs(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var E1={};te.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===E1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};te.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw E1;this.raise(t,e)};te.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Xs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};te.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};te.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return vo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Xs(e)?"":String.fromCharCode(e)}};te.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};te.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(qs(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Pi:qs)(l,o)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=vo(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};te.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=Db[t]),this.finishToken(e,t)};var LP="8.10.0";Fe.acorn={Parser:Fe,version:LP,defaultOptions:Vb,Position:Uh,SourceLocation:Xx,getLineInfo:Qk,Node:Zx,TokenType:le,tokTypes:h,keywordTypes:Db,TokContext:Gt,tokContexts:Ie,isIdentifierChar:qs,isIdentifierStart:Pi,Token:Wb,isNewLine:Xs,lineBreak:At,lineBreakG:lP,nonASCIIwhitespace:qk};function P1(t,e){return Fe.parse(t,e)}n(P1,"parse");var BP=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},FP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},ty,Dn=class{constructor(e){ty.set(this,void 0);let i=P1(e,{ecmaVersion:2020});BP(this,ty,i.body,"f"),this.visitor=new Ks(FP(this,ty,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=console[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=Math[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=String[s];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(Dn,"Jinter");ty=new WeakMap;var Ri,zt,Ve,be,iy,A1,Jb,N1,R1,Hb,xo=class{constructor(e){Ri.add(this),zt.set(this,void 0),Ve.set(this,void 0),be.set(this,void 0),iy.set(this,5),I(this,Ve,e,"f")}init(e){return y(this,void 0,void 0,function*(){I(this,be,e,"f"),this.validateCredentials()?this.has_access_token_expired||d(this,Ve,"f").emit("auth",{credentials:d(this,be,"f"),status:"SUCCESS"}):(yield d(this,Ri,"m",A1).call(this))||(yield d(this,Ri,"m",Jb).call(this))})}cacheCredentials(){var e;return y(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(d(this,be,"f")));yield(e=d(this,Ve,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return y(this,void 0,void 0,function*(){yield(e=d(this,Ve,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return y(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield d(this,Ri,"m",R1).call(this))})}revokeCredentials(){return y(this,void 0,void 0,function*(){if(!!d(this,be,"f"))return yield this.removeCache(),d(this,Ve,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(d(this,be,"f").access_token)}`,q.URLS.YT_BASE),{method:"post"})})}get credentials(){return d(this,be,"f")}get has_access_token_expired(){let e=d(this,be,"f")?new Date(d(this,be,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return d(this,be,"f")&&Reflect.has(d(this,be,"f"),"access_token")&&Reflect.has(d(this,be,"f"),"refresh_token")&&Reflect.has(d(this,be,"f"),"expires")||!1}};n(xo,"OAuth");zt=new WeakMap,Ve=new WeakMap,be=new WeakMap,iy=new WeakMap,Ri=new WeakSet,A1=n(function(){var e;return y(this,void 0,void 0,function*(){let i=yield(e=d(this,Ve,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,r=JSON.parse(o.decode(i));return I(this,be,{access_token:r.access_token,refresh_token:r.refresh_token,client_id:r.client_id,client_secret:r.client_secret,expires:new Date(r.expires)},"f"),d(this,Ve,"f").emit("auth",{credentials:d(this,be,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),Jb=n(function(){return y(this,void 0,void 0,function*(){I(this,zt,yield d(this,Ri,"m",Hb).call(this),"f");let e={client_id:d(this,zt,"f").client_id,scope:q.OAUTH.SCOPE,device_id:L.shim.uuidv4(),device_model:q.OAUTH.MODEL_NAME},o=yield(yield d(this,Ve,"f").http.fetch_function(new URL("/o/oauth2/device/code",q.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();d(this,Ve,"f").emit("auth-pending",o),I(this,iy,o.interval,"f"),d(this,Ri,"m",N1).call(this,o.device_code)})},"_OAuth_getUserCode"),N1=n(function(e){let i=setInterval(()=>y(this,void 0,void 0,function*(){var o,r;let s=Object.assign(Object.assign({},d(this,zt,"f")),{code:e,grant_type:q.OAUTH.GRANT_TYPE});try{let p=yield(yield d(this,Ve,"f").http.fetch_function(new URL("/o/oauth2/token",q.URLS.YT_BASE),{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(p.error){switch(p.error){case"access_denied":d(this,Ve,"f").emit("auth-error",new fi("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,Ve,"f").emit("auth-error",new fi("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),d(this,Ri,"m",Jb).call(this);break;default:break}return}let f=new Date(new Date().getTime()+p.expires_in*1e3);I(this,be,{access_token:p.access_token,refresh_token:p.refresh_token,client_id:(o=d(this,zt,"f"))===null||o===void 0?void 0:o.client_id,client_secret:(r=d(this,zt,"f"))===null||r===void 0?void 0:r.client_secret,expires:f},"f"),d(this,Ve,"f").emit("auth",{credentials:d(this,be,"f"),status:"SUCCESS"}),clearInterval(i)}catch(l){return clearInterval(i),d(this,Ve,"f").emit("auth-error",new fi("Could not obtain user code.",{status:"FAILED",error:l}))}}),d(this,iy,"f")*1e3)},"_OAuth_startPolling"),R1=n(function(){return y(this,void 0,void 0,function*(){if(!d(this,be,"f"))return;I(this,zt,yield d(this,Ri,"m",Hb).call(this),"f");let e=Object.assign(Object.assign({},d(this,zt,"f")),{refresh_token:d(this,be,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield d(this,Ve,"f").http.fetch_function(new URL("/o/oauth2/token",q.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),r=new Date(new Date().getTime()+o.expires_in*1e3);I(this,be,{access_token:o.access_token,refresh_token:o.refresh_token||d(this,be,"f").refresh_token,client_id:d(this,zt,"f").client_id,client_secret:d(this,zt,"f").client_secret,expires:r},"f"),d(this,Ve,"f").emit("update-credentials",{credentials:d(this,be,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),Hb=n(function(){var e,i,o;return y(this,void 0,void 0,function*(){if(((e=d(this,be,"f"))===null||e===void 0?void 0:e.client_id)&&((i=this.credentials)===null||i===void 0?void 0:i.client_secret))return W.info(xo.TAG,`Using custom OAuth2 credentials.
`),{client_id:d(this,be,"f").client_id,client_secret:this.credentials.client_secret};let s=yield(yield d(this,Ve,"f").http.fetch_function(new URL("/tv",q.URLS.YT_BASE),{headers:q.OAUTH.HEADERS})).text(),l=(o=q.OAUTH.REGEX.AUTH_SCRIPT.exec(s))===null||o===void 0?void 0:o[1];if(!l)throw new fi("Could not obtain script url.",{status:"FAILED"});W.info(xo.TAG,`Got YouTubeTV script URL (${l})`);let f=(yield(yield d(this,Ve,"f").http.fetch(l,{baseURL:q.URLS.YT_BASE})).text()).replace(/\n/g,"").match(q.OAUTH.REGEX.CLIENT_IDENTITY),m=f==null?void 0:f.groups;if(!m)throw new fi("Could not obtain client identity.",{status:"FAILED"});return W.info(xo.TAG,`OAuth2 credentials retrieved.
`,m),m})},"_OAuth_getClientIdentity");xo.TAG="OAuth";var Gb=xo;var zh,Ln,M1,V1,O1,oy=class{constructor(e){zh.add(this),Ln.set(this,void 0),I(this,Ln,e,"f")}get session(){return d(this,Ln,"f")}stats(e,i,o){return y(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))r.searchParams.set(l,o[l]);return yield d(this,Ln,"f").http.fetch(r)})}execute(e,i){var o,r;return y(this,void 0,void 0,function*(){let s;if(i&&!i.protobuf){if(s=Object.assign({},i),Reflect.has(s,"browseId")&&d(this,zh,"m",O1).call(this,s.browseId)&&!d(this,Ln,"f").logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,Ln,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,zh,"m",V1).call(this,f)&&((r=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(Zi);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return d(this,zh,"m",M1).call(this,p)})}};n(oy,"Actions");Ln=new WeakMap,zh=new WeakSet,M1=n(function(e){return y(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),V1=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),O1=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var zb=oy;var ea,ta,$h,Kh,Pe=class{constructor(e,i,o,r){ea.set(this,void 0),ta.set(this,void 0),$h.set(this,void 0),Kh.set(this,void 0),I(this,ea,o,"f"),I(this,ta,i,"f"),I(this,$h,e,"f"),I(this,Kh,r,"f")}static create(e,i=L.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/iframe_api",q.URLS.YT_BASE),r=yield i(o);if(r.status!==200)throw new Jt("Failed to request player id");let s=yield r.text(),l=Ue(s,"player\\/","\\/");if(W.info(Pe.TAG,`Got player id (${l}). Checking for cached players..`),!l)throw new Jt("Failed to get player id");if(e){W.info(Pe.TAG,"Found a cached player.");let T=yield Pe.fromCache(e,l);if(T)return T}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,q.URLS.YT_BASE);W.info(Pe.TAG,`Could not find any cached player. Will download a new player from ${p}.`);let f=yield i(p,{headers:{"user-agent":Mo("desktop")}});if(!f.ok)throw new Jt(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),b=this.extractSigSourceCode(m),x=this.extractNSigSourceCode(m);return W.info(Pe.TAG,`Got signature timestamp (${_}) and algorithms needed to decipher signatures.`),yield Pe.fromSource(e,_,b,x,l)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new Jt("No valid URL to decipher");let s=new URLSearchParams(e),l=new URL(s.get("url")||e);if(i||o){let _=L.shim.eval(d(this,ta,"f"),{sig:s.get("s")});if(W.info(Pe.TAG,`Transformed signature ${s.get("s")} to ${_}.`),typeof _!="string")throw new Jt("Failed to decipher signature");let b=s.get("sp");b?l.searchParams.set(b,_):l.searchParams.set("signature",_)}let p=l.searchParams.get("n");if(p){let _;if(r&&r.has(p))_=r.get(p);else{if(_=L.shim.eval(d(this,ea,"f"),{nsig:p}),W.info(Pe.TAG,`Transformed nsig ${p} to ${_}.`),typeof _!="string")throw new Jt("Failed to decipher nsig");_.startsWith("enhanced_except_")?W.warn(Pe.TAG,`Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):r&&r.set(p,_)}l.searchParams.set("n",_)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",q.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",q.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",q.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",q.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",q.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",q.CLIENTS.TV_EMBEDDED.VERSION);break}let m=l.toString();return W.info(Pe.TAG,`Full deciphered URL: ${m}`),l.toString()}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Pe.LIBRARY_VERSION)return null;let l=r.getUint32(4,!0),p=r.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),_=new TextDecoder,b=_.decode(f),x=_.decode(m);return new Pe(l,b,x,i)})}static fromSource(e,i,o,r,s){return y(this,void 0,void 0,function*(){let l=new Pe(i,o,r,s);return yield l.cache(e),l})}cache(e){return y(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(d(this,ta,"f")),r=i.encode(d(this,ea,"f")),s=new ArrayBuffer(12+o.byteLength+r.byteLength),l=new DataView(s);l.setUint32(0,Pe.LIBRARY_VERSION,!0),l.setUint32(4,d(this,$h,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(s).set(o,12),new Uint8Array(s).set(r,12+o.byteLength),yield e.set(d(this,Kh,"f"),new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(Ue(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let s=Ue(e,'function(a){a=a.split("")','return a.join("")}'),l=(r=(o=(i=s==null?void 0:s.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Ue(e,`var ${l}={`,"};");return(!p||!s)&&W.warn(Pe.TAG,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Ue(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||W.warn(Pe.TAG,"Failed to extract n-token decipher algorithm"),i}get url(){return new URL(`/s/player/${d(this,Kh,"f")}/player_ias.vflset/en_US/base.js`,q.URLS.YT_BASE).toString()}get sts(){return d(this,$h,"f")}get nsig_sc(){return d(this,ea,"f")}get sig_sc(){return d(this,ta,"f")}static get LIBRARY_VERSION(){return 2}};n(Pe,"Player");ea=new WeakMap,ta=new WeakMap,$h=new WeakMap,Kh=new WeakMap;Pe.TAG="Player";var $b=Pe;var ia,ny,ry,Bn,sy,ay,Kb,D1,qb,Xb;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Xb||(Xb={}));var vt=class extends $u{constructor(e,i,o,r,s,l,p,f){super(),ny.set(this,void 0),ry.set(this,void 0),Bn.set(this,void 0),sy.set(this,void 0),ay.set(this,void 0),I(this,Bn,e,"f"),I(this,sy,r,"f"),I(this,ry,i,"f"),I(this,ny,o,"f"),I(this,ay,s,"f"),this.http=new Ny(this,l,p),this.actions=new zb(this),this.oauth=new Gb(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return y(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:r,account_index:s}=yield vt.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new vt(i,o,r,s,e.retrieve_player===!1?void 0:yield $b.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,r="",s=!1,l=!1,p="desktop",f=Xb.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=L.shim.fetch,b){return y(this,void 0,void 0,function*(){let x,T={lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:s,visitor_data:r,on_behalf_of_user:b};if(W.info(vt.TAG,"Retrieving InnerTube session."),l)x=d(this,ia,"m",qb).call(this,T);else try{x=yield d(this,ia,"m",D1).call(this,T,_)}catch(k){W.error(vt.TAG,"Failed to retrieve session data from server. Will try to generate it locally."),x=d(this,ia,"m",qb).call(this,T)}return W.info(vt.TAG,`Got session data.
`,x),Object.assign(Object.assign({},x),{account_index:o})})}signIn(e){return y(this,void 0,void 0,function*(){return new Promise((i,o)=>y(this,void 0,void 0,function*(){let r=n(s=>o(s),"error_handler");this.once("auth",s=>{this.off("auth-error",r),s.status==="SUCCESS"&&(this.logged_in=!0,i()),o(s)}),this.once("auth-error",r);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(s){o(s)}}))})}signOut(){return y(this,void 0,void 0,function*(){if(!this.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return d(this,ry,"f")}get api_version(){return d(this,ny,"f")}get client_version(){return d(this,Bn,"f").client.clientVersion}get client_name(){return d(this,Bn,"f").client.clientName}get account_index(){return d(this,sy,"f")}get context(){return d(this,Bn,"f")}get player(){return d(this,ay,"f")}get lang(){return d(this,Bn,"f").client.hl}};n(vt,"Session");ia=vt,ny=new WeakMap,ry=new WeakMap,Bn=new WeakMap,sy=new WeakMap,ay=new WeakMap,Kb=n(function(e){let i=jy(e);return W.info(vt.TAG,`Custom visitor data decoded successfully.
`,i),i.id},"_Session_getVisitorID"),D1=n(function(e,i=L.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",st.YT_BASE),r=kt(11);e.visitor_data&&(r=d(this,ia,"m",Kb).call(this,e.visitor_data));let s=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Mo("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!s.ok)throw new ms(`Failed to retrieve session data: ${s.status}`);let l=yield s.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],m=`v${f[0][0][6]}`,[[_],b]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:st.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:b,api_version:m}})},"_Session_retrieveSessionData"),qb=n(function(e){let i=kt(11);return e.visitor_data&&(i=d(this,ia,"m",Kb).call(this,e.visitor_data)),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:Yy(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:de.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:st.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:de.WEB.API_KEY,api_version:de.WEB.API_VERSION}},"_Session_generateSessionData");vt.TAG="Session";var Qb=vt;var Zb={};D(Zb,{Kids:()=>ly,Music:()=>py,Studio:()=>my});var Qe,uy=class{constructor(e){Qe.set(this,void 0),I(this,Qe,e,"f")}search(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(_t.PATH,_t.build({client:"YTKIDS",query:e}));return new Tx(d(this,Qe,"f").actions,i)})}getInfo(e){var i;return y(this,void 0,void 0,function*(){let o=tt.build({sts:(i=d(this,Qe,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),r=Ee.build({video_id:e,client:"YTKIDS"}),s=d(this,Qe,"f").actions.execute(tt.PATH,o),l=d(this,Qe,"f").actions.execute(Ee.PATH,r),p=yield Promise.all([s,l]),f=kt(16);return new Sx(p,d(this,Qe,"f").actions,f)})}getChannel(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(Y.PATH,Y.build({browse_id:e,client:"YTKIDS"}));return new yx(d(this,Qe,"f").actions,i)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,Qe,"f").actions.execute(Y.PATH,Y.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new bx(d(this,Qe,"f").actions,e)})}blockChannel(e){var i,o;return y(this,void 0,void 0,function*(){if(!d(this,Qe,"f").logged_in)throw new g("You must be signed in to perform this operation.");let r=Mn.build({channel_id:e}),p={contents:(yield d(this,Qe,"f").actions.execute(Mn.PATH,r)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},m=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(Vr);if(!m)throw new g("Could not find any kids profiles or supervised accounts.");let _=[];for(let b of m)!((o=b.block_button)===null||o===void 0)&&o.is_toggled||(b.setActions(d(this,Qe,"f").actions),_.push(yield b.blockChannel()));return _})}};n(uy,"Kids");Qe=new WeakMap;var ly=uy;var cy,qh,pe,L1,B1,dy=class{constructor(e){cy.add(this),qh.set(this,void 0),pe.set(this,void 0),I(this,qh,e,"f"),I(this,pe,e.actions,"f")}getInfo(e){if(e instanceof Sr)return d(this,cy,"m",B1).call(this,e);if(typeof e=="string")return d(this,cy,"m",L1).call(this,e);throw new g("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return y(this,void 0,void 0,function*(){ee({query:e});let o=yield d(this,pe,"f").execute(_t.PATH,_t.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?Hy(i):void 0}));return new gx(o,d(this,pe,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(Y.PATH,Y.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new mx(e,d(this,pe,"f"))})}getExplore(){return y(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new fx(e)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new hx(e,d(this,pe,"f"))})}getArtist(e){return y(this,void 0,void 0,function*(){if(ee({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new g("Invalid artist id",e);let i=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new dx(i,d(this,pe,"f"))})}getAlbum(e){return y(this,void 0,void 0,function*(){if(ee({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new g("Invalid album id",e);let i=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new ux(i)})}getPlaylist(e){return y(this,void 0,void 0,function*(){ee({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new rs(i,d(this,pe,"f"))})}getUpNext(e,i=!0){var o,r,s;return y(this,void 0,void 0,function*(){ee({video_id:e});let p=(o=(yield d(this,pe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(ye),f=p==null?void 0:p.first();if(!f)throw new g("Could not find target tab.");let m=(r=f.content)===null||r===void 0?void 0:r.as(kr);if(!m||!m.content)throw new g("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(oi);if(!_.playlist_id&&i){let b=_.contents.firstOfType(Li);if(!b)throw new g("Automix item not found");let x=yield(s=b.playlist_video)===null||s===void 0?void 0:s.endpoint.call(d(this,pe,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!x||!x.contents_memo)throw new g("Could not fetch automix");return x.contents_memo.getType(oi).first()}return _})}getRelated(e){var i;return y(this,void 0,void 0,function*(){ee({video_id:e});let r=(i=(yield d(this,pe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ye),s=r==null?void 0:r.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!s)throw new g("Could not find target tab.");let l=yield s.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);return l.contents.item().as(X).contents.as(Re,jo)})}getLyrics(e){var i;return y(this,void 0,void 0,function*(){ee({video_id:e});let r=(i=(yield d(this,pe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ye),s=r==null?void 0:r.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!s)throw new g("Could not find target tab.");let l=yield s.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);if(l.contents.item().type==="Message")throw new g(l.contents.item().as($e).text.toString(),e);return l.contents.item().as(X).contents.firstOfType(jo)})}getRecap(){return y(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(Y.PATH,Y.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new vx(e,d(this,pe,"f"))})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){let i=yield d(this,pe,"f").execute(kn.PATH,Object.assign(Object.assign({},kn.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(ug):[]})}};n(dy,"Music");qh=new WeakMap,pe=new WeakMap,cy=new WeakSet,L1=n(function(e){var i;return y(this,void 0,void 0,function*(){let o=tt.build({video_id:e,sts:(i=d(this,qh,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),r=Ee.build({video_id:e,client:"YTMUSIC"}),s=d(this,pe,"f").execute(tt.PATH,o),l=d(this,pe,"f").execute(Ee.PATH,r),p=yield Promise.all([s,l]),f=kt(16);return new Bh(p,d(this,pe,"f"),f)})},"_Music_fetchInfoFromVideoId"),B1=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!e)throw new g("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,qh,"f").player)===null||i===void 0?void 0:i.sts})}}),r=e.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=kt(16),l=yield Promise.all([o,r]);return new Bh(l,d(this,pe,"f"),s)})},"_Music_fetchInfoFromListItem");var py=dy;var Xh,$t,F1,Y1,j1,fy=class{constructor(e){Xh.add(this),$t.set(this,void 0),I(this,$t,e,"f")}setThumbnail(e,i){return y(this,void 0,void 0,function*(){if(!d(this,$t,"f").logged_in)throw new g("You must be signed in to perform this operation.");if(!e||!i)throw new Vn("One or more parameters are missing.");let o=qy(e,i);return yield d(this,$t,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return y(this,void 0,void 0,function*(){if(!d(this,$t,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=Ky(e,i);return yield d(this,$t,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return y(this,void 0,void 0,function*(){if(!d(this,$t,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Xh,"m",F1).call(this),r=yield d(this,Xh,"m",Y1).call(this,o.upload_url,e);if(r.status!=="STATUS_SUCCESS")throw new g("Could not process video.");return yield d(this,Xh,"m",j1).call(this,o,r,i)})}};n(fy,"Studio");$t=new WeakMap,Xh=new WeakSet,F1=n(function(){return y(this,void 0,void 0,function*(){let e=`innertube_android:${L.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${L.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,$t,"f").http.fetch("/upload/youtubei",{baseURL:q.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new g("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),Y1=n(function(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,$t,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new g("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),j1=n(function(e,i,o){return y(this,void 0,void 0,function*(){return yield d(this,$t,"f").actions.execute(Rn.PATH,Rn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var my=fy;var ew={};D(ew,{AccountManager:()=>_y,InteractionManager:()=>yy,PlaylistManager:()=>gy});var gt,hy=class{constructor(e){gt.set(this,void 0),I(this,gt,e,"f"),this.channel={editName:i=>{if(!d(this,gt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return d(this,gt,"f").execute(Ei.EditNameEndpoint.PATH,Ei.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,gt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return d(this,gt,"f").execute(Ei.EditDescriptionEndpoint.PATH,Ei.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return y(this,void 0,void 0,function*(){if(!d(this,gt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield d(this,gt,"f").execute(yn.AccountListEndpoint.PATH,yn.AccountListEndpoint.build());return new Mg(e)})}getTimeWatched(){return y(this,void 0,void 0,function*(){let e=yield d(this,gt,"f").execute(Y.PATH,Y.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new sx(e)})}getSettings(){return y(this,void 0,void 0,function*(){let e=yield d(this,gt,"f").execute(Y.PATH,Y.build({browse_id:"SPaccount_overview"}));return new nx(d(this,gt,"f"),e)})}getAnalytics(){var e;return y(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield d(this,gt,"f").execute(Y.PATH,Y.build({browse_id:"FEanalytics_screen",params:Uy((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new Og(o)})}};n(hy,"AccountManager");gt=new WeakMap;var _y=hy;var Ae,vy=class{constructor(e){Ae.set(this,void 0),I(this,Ae,e,"f")}create(e,i){return y(this,void 0,void 0,function*(){if(ee({title:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(En.PATH,En.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let i=yield d(this,Ae,"f").execute(Pn.PATH,Pn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(it.PATH,it.build({actions:i.map(r=>({action:"ACTION_ADD_VIDEO",added_video_id:r})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:`VL${e}`})),{parse:!0})),r=new Ti(d(this,Ae,"f"),o,!0);if(!r.info.is_editable)throw new g("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},l=n(f=>y(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),s.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(r),!s.actions.length)throw new g("Given video ids were not found in this playlist.",i);let p=yield d(this,Ae,"f").execute(it.PATH,it.build(s));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let r=yield d(this,Ae,"f").execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:`VL${e}`})),{parse:!0})),s=new Ti(d(this,Ae,"f"),r,!0);if(!s.info.is_editable)throw new g("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,m=n(b=>y(this,void 0,void 0,function*(){let x=b.videos.find(k=>i===k.key("id").string()),T=b.videos.find(k=>o===k.key("id").string());if(p=p||(x==null?void 0:x.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let k=yield b.getContinuation();return m(k)}}),"getSetVideoIds");yield m(s),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield d(this,Ae,"f").execute(it.PATH,it.build(l));return{playlist_id:e,action_result:_.data.actions}})}setName(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,name:i}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let r=yield d(this,Ae,"f").execute(it.PATH,it.build(o));return{playlist_id:e,action_result:r.data.actions}})}setDescription(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,description:i}),!d(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let r=yield d(this,Ae,"f").execute(it.PATH,it.build(o));return{playlist_id:e,action_result:r.data.actions}})}};n(vy,"PlaylistManager");Ae=new WeakMap;var gy=vy;var He,xy=class{constructor(e){He.set(this,void 0),I(this,He,e,"f")}like(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Tn.PATH,Tn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(In.PATH,In.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Sn.PATH,Sn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return y(this,void 0,void 0,function*(){if(ee({channel_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Nn.PATH,Nn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return y(this,void 0,void 0,function*(){if(ee({channel_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(An.PATH,An.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return y(this,void 0,void 0,function*(){if(ee({video_id:e,text:i}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(wn.PATH,wn.build({comment_text:i,create_comment_params:zy(e),client:"ANDROID"}))})}translate(e,i,o={}){return y(this,void 0,void 0,function*(){ee({text:e,target_language:i});let r=gl(22,Object.assign({text:e,target_language:i},o)),s=yield d(this,He,"f").execute(bn.PATH,bn.build({client:"ANDROID",actions:[r]})),l=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:l.translatedContent.content,data:s.data}})}setNotificationPreferences(e,i){return y(this,void 0,void 0,function*(){if(ee({channel_id:e,type:i}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,He,"f").execute(Cn.PATH,Cn.build({client:"WEB",params:$y(e,o[i.toUpperCase()])}))})}};n(xy,"InteractionManager");He=new WeakMap;var yy=xy;var Ze,oa=class{constructor(e){Ze.set(this,void 0),I(this,Ze,e,"f")}static create(e={}){return y(this,void 0,void 0,function*(){return new oa(yield Qb.create(e))})}getInfo(e,i){var o,r,s,l,p;return y(this,void 0,void 0,function*(){ee({target:e});let f;if(e instanceof v)f=Ee.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(s=e.payload)===null||s===void 0?void 0:s.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ee.build({video_id:e});else throw new g("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new g("Video id cannot be empty",f);let m=tt.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Ze,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(tt.PATH,m),b=this.actions.execute(Ee.PATH,f),x=yield Promise.all([_,b]),T=kt(16);return new Nh(x,this.actions,T)})}getBasicInfo(e,i){var o;return y(this,void 0,void 0,function*(){ee({video_id:e});let r=yield this.actions.execute(tt.PATH,tt.build({video_id:e,client:i,sts:(o=d(this,Ze,"f").player)===null||o===void 0?void 0:o.sts})),s=kt(16);return new Nh([r],this.actions,s)})}getShortsWatchItem(e,i){return y(this,void 0,void 0,function*(){ee({short_id:e});let o=this.actions.execute(St.WatchEndpoint.PATH,St.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(St.WatchSequenceEndpoint.PATH,St.WatchSequenceEndpoint.build({sequenceParams:Qy(e)})),s=yield Promise.all([o,r]);return new Ux(s,this.actions)})}search(e,i={}){return y(this,void 0,void 0,function*(){ee({query:e});let o=yield this.actions.execute(_t.PATH,_t.build({query:e,params:i?Wy(i):void 0}));return new ox(this.actions,o)})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){ee({query:e});let i=new URL(`${st.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,Ze,"f").context.client.hl),i.searchParams.set("gl",d(this,Ze,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let r=yield(yield d(this,Ze,"f").http.fetch(i)).text();return JSON.parse(r.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return y(this,void 0,void 0,function*(){ee({video_id:e});let o=yield this.actions.execute(Ee.PATH,Ee.build({continuation:Gy(e,{sort_by:i||"TOP_COMMENTS"})}));return new Fg(this.actions,o.data)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEwhat_to_watch"}));return new Wt(this.actions,e)})}getGuide(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(ds.PATH);return new jg(e.data)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FElibrary"}));return new $g(this.actions,e)})}getHistory(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEhistory"}));return new Jr(this.actions,e)})}getTrending(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:"FEtrending"})),{parse:!0}));return new Qo(this.actions,e)})}getSubscriptionsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new _e(this.actions,e)})}getChannelsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:"FEchannels"})),{parse:!0}));return new _e(this.actions,e)})}getChannel(e){return y(this,void 0,void 0,function*(){ee({id:e});let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:e}));return new Me(this.actions,i)})}getNotifications(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(gn.PATH,gn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new ix(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,r;return y(this,void 0,void 0,function*(){let s=yield this.actions.execute(ps.GetUnseenCountEndpoint.PATH);return((e=s.data)===null||e===void 0?void 0:e.unseenCount)||((r=(o=(i=s.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||r===void 0?void 0:r.unseenCount)||0})}getPlaylist(e){return y(this,void 0,void 0,function*(){ee({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:e}));return new Ti(this.actions,i)})}getHashtag(e){return y(this,void 0,void 0,function*(){ee({hashtag:e});let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEhashtag",params:Xy(e)}));return new ci(this.actions,i)})}getStreamingData(e,i={}){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return y(this,void 0,void 0,function*(){return(yield this.actions.execute(xn.PATH,Object.assign(Object.assign({},xn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new py(d(this,Ze,"f"))}get studio(){return new my(d(this,Ze,"f"))}get kids(){return new ly(d(this,Ze,"f"))}get account(){return new _y(d(this,Ze,"f").actions)}get playlist(){return new gy(d(this,Ze,"f").actions)}get interact(){return new yy(d(this,Ze,"f").actions)}get actions(){return d(this,Ze,"f").actions}get session(){return d(this,Ze,"f")}};n(oa,"Innertube");Ze=new WeakMap;var tw=oa;var U1={};var W1=tw;var H1="JsRuntime";function iw(t,e){W.info(H1,`Evaluating JavaScript.
`,t);let i=new Dn(t);for(let[r,s]of Object.entries(e))i.scope.set(r,s);let o=i.interpret();return W.info(H1,"Done. Result:",o),o}n(iw,"evaluate");var Qh,ow,by,wy,Ty,Iy=class{constructor(e=!1,i){Qh.add(this),ow.set(this,"Cache"),by.set(this,void 0),wy.set(this,void 0),I(this,by,i||"","f"),I(this,wy,e,"f")}get cache_dir(){return d(this,wy,"f")?d(this,by,"f"):""}get(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qh,"m",Ty).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=r,s.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,Qh,"m",Ty).call(this);if(!!o)return new Promise((r,s)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=s,l.onsuccess=()=>r()})})}remove(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qh,"m",Ty).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=r,s.onsuccess=()=>o()})})}};n(Iy,"Cache");ow=new WeakMap,by=new WeakMap,wy=new WeakMap,Qh=new WeakSet,Ty=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(s){o("indexedDB request error"),console.error(s)},r.onupgradeneeded=function(){let s=this.result.createObjectStore("kv-store",{keyPath:"k"});s.transaction.oncomplete=function(){i(this.db)}}}):W.warn(d(this,ow,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");L.load({runtime:"browser",server:!1,info:{version:Jx.version,bugs_url:Jx.bugs.url,repo_url:Jx.homepage.split("#")[0]},Cache:Iy,sha1Hash:Sb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:iw,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var VEe=W1;export{zb as Actions,So as AppendContinuationItemsAction,Xb as ClientType,Zb as Clients,q as Constants,zo as Continuation,wi as ContinuationCommand,bb as Endpoints,$u as EventEmitter,Ro as FormatUtils,ab as Generator,io as GridContinuation,Ny as HTTPClient,Cy as Helpers,tw as Innertube,Qi as ItemSectionContinuation,oo as LiveChatContinuation,W as Log,ew as Managers,Tb as Misc,mb as Mixins,to as MusicPlaylistShelfContinuation,ui as MusicShelfContinuation,Zi as NavigateAction,Gb as OAuth,c as Parser,L as Platform,$b as Player,Lr as PlaylistPanelContinuation,Ot as Proto,eo as ReloadContinuationItemsCommand,ut as SectionListContinuation,Qb as Session,Dr as ShowMiniplayerCommand,U1 as Types,z1 as UniversalCache,Ry as Utils,vb as YT,yb as YTKids,xb as YTMusic,Fo as YTNodes,wb as YTShorts,VEe as default};
//# sourceMappingURL=browser.min.js.map
